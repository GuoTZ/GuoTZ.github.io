{"pages":[{"title":"åˆ†ç±»","text":"","link":"/categories/index.html"},{"title":"å…³äºGuoTZ","text":"iOS Developer, Pythoner, è°·ç²‰å…¼æœç²‰, å¼ºè¿«ç—‡æ‚£è€…, éå¤„å¥³åº§. æŠ€èƒ½ ï¼š æ±‡ç¼–ã€Cã€C++ã€C#ã€Objective-Cã€Swiftã€Pythonã€å‰ç«¯ã€.NET ï¼šç²¾é€šiOSå¼€å‘ï¼Œç²¾é€šOCï¼Œç†Ÿæ‚‰Swift ï¼šç†Ÿæ‚‰HTMLã€äº†è§£CSSã€äº†è§£JavaScriptã€äº†è§£React ï¼šç†Ÿæ‚‰Djangoã€äº†è§£Flask ï¼šç†Ÿæ‚‰ ASP.NET ä¹‹å‰çŠ¶æ€ å­¦ä¹ å¹¶å®è·µåç«¯. ç›®å‰çŠ¶æ€ ç§¯ç´¯æŠ€æœ¯, åŠªåŠ›å·¥ä½œ, åšæŒå­¦ä¹ , è®¤çœŸç”Ÿæ´». å®è·µå¤šçº¿ç¨‹, flask, å‰ç«¯ï¼ŒAndroid.","link":"/about/index.html"},{"title":"resume","text":"","link":"/resume/index.html"},{"title":"å·¥å…·è¿æ¥","text":"æ ¼å¼åŒ–JSONMacå¼€æºè½¯ä»¶ä¸€ä¸ªå°å·¥å…·è¶…å¤šçš„ç½‘ç«™JSONè½¬å¯¹è±¡,å¾…å®Œæˆ","link":"/links/index.html"},{"title":"tags","text":"","link":"/tags/index.html"}],"posts":[{"title":"Apacheå­¦ä¹ ","text":"Macè‡ªå¸¦apacheæœåŠ¡å™¨12345sudo apachectl start #å¼€å¯apache sudo apachectl restart #é‡å¯apache sudo apachectl stop #å…³é—­apache macé»˜è®¤ç›®å½•/Library/WebServer/Documents/ 12345678910cd /etc/apache2 #åˆ‡æ¢å·¥ä½œç›®å½•ä¸‹ï¼šsudo cp httpd.conf httpd.conf.bak #å¤‡ä»½æ–‡ä»¶ï¼Œåªéœ€è¦æ‰§è¡Œä¸€æ¬¡ï¼šsudo cp httpd.conf.bak httpd.conf #å¦‚æœæ“ä½œå‡ºç°é”™è¯¯ï¼å¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼Œæ¢å¤å¤‡ä»½çš„ httpd.conf æ–‡ä»¶ï¼šsudo vim httpd.conf #ç”¨vimç¼–è¾‘httpd.confæ–‡ä»¶ï¼Œhttpd.confæ–‡ä»¶æ—¶Apacheçš„é…ç½®æ–‡ä»¶ï¼š#æœç´¢/DocumentRootï¼Œæ‰¾åˆ°å¯¹åº”ä½ç½®å°†è·¯å¾„æ”¹ä¸ºè‡ªå·±åˆ›å»ºçš„æ–‡ä»¶æ–‡ä»¶å¤¹çš„è·¯å¾„#ä¹‹åæ‰¾åˆ°Options FollowSymLinksï¼šä¿®æ”¹ä¸ºOptions Indexes FollowSymLinksï¼Œåœ¨ä¸¤ä¸ªå•è¯é—´æ·»åŠ ä¸€ä¸ªIndexeså•è¯ã€‚#æ¥ä¸‹æ¥æŸ¥æ‰¾phpï¼Œ:/php å°†ä»£ç å‰é¢çš„ï¼ƒå»æ‰ã€‚æœ€å:wqä¿å­˜å¹¶é€€å‡ºcd /etc #åˆ‡æ¢å·¥ä½œç›®å½•ï¼šsudo cp php.ini.default php.ini#æ‹·è´php.iniæ–‡ä»¶ï¼šsudo apachectl -k restart #é‡å¯","link":"/2017/01/02/Apacheå­¦ä¹ /"},{"title":"Django-APIæ’ä»¶ç±»","text":"Responseçš„æ’ä»¶ç±»12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455\"\"\"å®šä¹‰ä¸€ä¸ªæ’ä»¶ç±»ï¼Œ\"\"\"from django.http import JsonResponse, HttpResponseimport json# è‡ªå®šä¹‰çŠ¶æ€ç class HttpCode(object): # æ­£å¸¸ç™»é™† ok = 200 # å‚æ•°é”™è¯¯ paramserror = 400 # æƒé™é”™è¯¯ unauth = 401 # æ–¹æ³•é”™è¯¯ methoderror = 405 # æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ servererror = 500# å®šä¹‰ç»Ÿä¸€çš„ json å­—ç¬¦ä¸²è¿”å›æ ¼å¼def result(code=HttpCode.ok, message=\"\", data={}, kwargs=None): json_dict = {} safe = True if not isinstance(data, dict): json_dict = {\"code\": code, \"message\": message, \"data\": list(data)} safe = False else: json_dict = {\"code\": code, \"message\": message, \"data\": data} # print('è¿”å›å€¼'+json_dict) return JsonResponse(json_dict,safe=safe)def ok(data={},message=\"\"): return result(code=0, message=message, data=data)# å‚æ•°é”™è¯¯def params_error(message=\"\", data={}): return result(code=1, message=message, data=data)# æƒé™é”™è¯¯def unauth(message=\"\", data={}): return result(code=4, message=message, data=data)# æ–¹æ³•é”™è¯¯def method_error(message=\"\", data={}): return result(code=2, message=message, data=data)# æœåŠ¡å™¨å†…éƒ¨é”™è¯¯def server_error(message=\"\", data={}): return result(code=3, message=message, data=data) requestçš„æ’ä»¶ç±»1234567891011121314151617181920212223242526272829def requestIsGet(view): def decorator( request, *args, **kwargs): print('è‡ªå®šä¹‰è£…é¥°å™¨è¢«è°ƒç”¨äº†') print('è¯·æ±‚è·¯å¾„%s' % request.path) if request.method != 'GET': return reqMethodError(0) return view(request, *args, **kwargs) return decoratordef requestIsPost(view): def decorator( request, *args, **kwargs): print('è‡ªå®šä¹‰è£…é¥°å™¨è¢«è°ƒç”¨äº†') print('è¯·æ±‚è·¯å¾„%s' % request.path) if request.method != 'POST': return reqMethodError(0) return view(request, *args, **kwargs) return decoratordef reqMethodError(type): msg = '' if type == 0 : msg = 'è¯·æ±‚æ–¹å¼é”™è¯¯ï¼Œåº”è¯¥ä¸ºGetè¯·æ±‚' elif type == 1 : msg = 'è¯·æ±‚æ–¹å¼é”™è¯¯ï¼Œåº”è¯¥ä¸ºGetè¯·æ±‚' return resultApi.method_error(msg)def page_not_found(request): print ('404') return render(request, 'blogs/404.html') æ’ä»¶ç±»çš„ä½¿ç”¨1234@requestIsGetdef index(request): data = {} return resultApi.ok(data)","link":"/2019/03/26/Django-APIæ’ä»¶ç±»/"},{"title":"RESTAPI å®‰å…¨è®¾è®¡","text":"RESTAPIçš„å®‰å…¨å¤„ç†â€”ä»¥Djangoä¸ºä¾‹1ã€ä½¿ç”¨Tokenæœºåˆ¶AESçš„åŠ å¯†æ–¹å¼åŠ å¯†tokenåŒ…å«å†…å®¹ åŒ…å«åŠ å¯†å¯†ç å­—ç¬¦ä¸² 1appkeyï¼šåŒæ–¹çº¦å®šå€¼ï¼›ç”¨äºAESåŠ å¯†çš„å¯†ç  åŒ…å«è®¾å¤‡ç›¸å…³ä¿¡æ¯ï¼Œè®¾å¤‡å”¯ä¸€ç  å¯åšè¸¢ä¸‹çº¿åŠŸèƒ½ åŒ…å«ç”¨æˆ·ç›¸å…³ä¿¡æ¯ å¯éªŒè¯ç”¨æˆ·ä¿¡æ¯ åŒ…å«æ—¶é—´ç›¸å…³ä¿¡æ¯ å¯åˆ¤æ–­ç™»å½•æ—¶æ•ˆ å¯åŒ…å«å…¶ä»–ç›¸å…³ä¿¡æ¯ ä¾‹å¦‚ï¼šç»çº¬åº¦ç­‰ç­‰ ç”±å®¢æˆ·ç«¯ç™»å½•ä¹‹åå‘æœåŠ¡å™¨è·å–tokenå€¼,æœåŠ¡ç«¯è·å–åˆ°deviceIdè·ŸuserIdã€å½“å‰æ—¶é—´æˆ³æ ¹æ®appkeyç”±AESåŠ å¯†ç”Ÿæˆtokenä¿¡æ¯ï¼Œè¿”å›ç»™ç”¨æˆ·ç«¯ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç”¨æˆ·ç«¯åœ¨å‘èµ·ç½‘ç»œè¯·æ±‚æ˜¯åœ¨headerä¸­æºå¸¦tokenä¿¡æ¯ 2ã€åŠ å¯†Postè¯·æ±‚å‚æ•°æœºåˆ¶RSAçš„åŠ å¯†æ–¹å¼åŠ å¯† ç”Ÿæˆä¸€å¯¹å…¬ã€ç§é’¥ï¼Œå…¬é’¥åˆ†æ´¾ç»™å®¢æˆ·ç«¯ åœ¨ä½¿ç”¨æ—¶ï¼šå®¢æˆ·ç«¯å…ˆæŠŠç»™æœåŠ¡ç«¯çš„å‚æ•°åºåˆ—åŒ–æˆjsonä¸²ï¼Œå†ä½¿ç”¨å…¬é’¥åŠ å¯†ï¼Œç„¶åbase64ç¼–ç åä¼ ç»™æœåŠ¡å™¨ æœåŠ¡å™¨åœ¨æ”¶åˆ°è¯·æ±‚æ—¶ï¼Œä½¿ç”¨ç§é’¥è§£å¯†å¯è·å¾—å‚æ•° ä¸€èˆ¬ä½¿ç”¨åœ¨ç™»å½•ã€è·å–tokenã€ä¸‹å•ç­‰é‡è¦æ¥å£ä¸­ iOSç«¯ä½¿ç”¨iOSRsa,Ase,Base64åŠ å¯†å·¥å…·123456789101112UserModel *model = [UserModel new];model.Id = 100;model.name = @\"hjaskdh\";model.userName = @\"hjkasfyhuisa\";NSString *pubkey = @\"-----BEGIN PUBLIC KEY-----\\MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCwRu9ANZ3OwzbgoszQxuF5MSUB\\sBgYGX0KQ8xO+Qdd2cmrkw5QljcXdOAhKNYZbBEKxd8RmWVKF81ZEQgqIRKwcNEO\\vv4mJTSfG0PJHXZj+racvWqSVEVl0IgglU+RpJ/W1pBNFzBwN6jW74eyof9epxUo\\NmwSIThRcy5XIQ/P5QIDAQAB\\-----END PUBLIC KEY-----\";NSString *jsonStr = [model modelToJSONString];//è½¬æ¢å±‚å­—ç¬¦ä¸²NSString *json = [[RSA encryptString:jsonStr publicKey:pubkey] base64EncodedString];//åŠ å¯† PHPç«¯1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980&lt;?php/**ç§é’¥*/define('RSA_PRIVATE','-----BEGIN PRIVATE KEY-----MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBALBG70A1nc7DNuCizNDG4XkxJQGwGBgZfQpDzE75B13ZyauTDlCWNxd04CEo1hlsEQrF3xGZZUoXzVkRCCohErBw0Q6+/iYlNJ8bQ8kddmP6tpy9apJURWXQiCCVT5Gkn9bWkE0XMHA3qNbvh7Kh/16nFSg2bBIhOFFzLlchD8/lAgMBAAECgYAhD+zn2iaTFUJBt8c6kVLQ7ErImkKqon01Y6n6VfLvw11z9M0GiGYk3CL9lS8y7XX001AXePHqh7RYND2XyUQ7y6YEAY/1Q8zOtp1ustSABt6QfmuVfBJ02tKEAxTkA/G94yKpO49Mbs5+PCXI6Z+K9COwqVYV9kH6qrisnwawsQJBAOj+VNfHkIA3KAapM+J8r5Zf1ywaREuBhU1d1t98psro6Oo9+dkX1r393NGd0Od2x5ZdJih3epDrdcoAk9mT7IcCQQDBrullgZWmR6N+pk0/ku24QfVdaYxwEOp7g53Q9oIIqaVDCCzKygq6VfulCS7Mmf00kZZRdaXim6V/ShnB4AczAkEAonoppEgQprjP+sUn33tf3xd6r9Cpa5Yo5WjZHQSKM9n0AtWxVAjhwaA0yyCou6EDUgInR/T5zfHFNFbuw736JQJAB49KMNoT+z+ElCbtkPOtL6nzZ8f84UrnvBZxDHzyql/kwW8KQIgOTyOYBOMM3pOMHIcqNNfAt82XchZ0VurlnQJBALmW42kRMNA0dR5zD5OBt5LDFux5Qiq9jus6dfcqF8LE4oH43WO/9mt987h7SyKngBiF+7KgH8qJYECdDifODks=-----END PRIVATE KEY-----');/**å…¬é’¥*/define('RSA_PUBLIC', '-----BEGIN PUBLIC KEY-----MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCwRu9ANZ3OwzbgoszQxuF5MSUBsBgYGX0KQ8xO+Qdd2cmrkw5QljcXdOAhKNYZbBEKxd8RmWVKF81ZEQgqIRKwcNEOvv4mJTSfG0PJHXZj+racvWqSVEVl0IgglU+RpJ/W1pBNFzBwN6jW74eyof9epxUoNmwSIThRcy5XIQ/P5QIDAQAB-----END PUBLIC KEY-----');class Test1 extends Base{ /** * éªŒè¯ç™»å½• * */ protected $uid; public function __construct() { if (is_numeric(parent::__construct())) { $this-&gt;uid = parent::__construct(); } else { echo parent::__construct(); exit; } } //æ„è§åé¦ˆæäº¤ public function index() { if (parent::getMethod() != 'true') { echo parent::getMethod(); exit; } $uid = $this-&gt;uid; $orderId = input('get.orderId'); $private_key = openssl_pkey_get_private(RSA_PRIVATE); if (!$private_key) { die('ç§é’¥ä¸å¯ç”¨'); } $return_de = openssl_private_decrypt(base64_decode(base64_decode($orderId)), $decrypted, $private_key); if (!$return_de) { return('è§£å¯†å¤±è´¥,è¯·æ£€æŸ¥RSAç§˜é’¥---------'.$orderId); } $arr = json_decode($decrypted,true); return jsonReturnApi('æ“ä½œå¤±è´¥', -1, $arr); }} Python1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import base64from hashlib import md5from Crypto.Cipher import AESfrom Crypto import Randomfrom Crypto.PublicKey import RSA# # AESåŠ å¯†çš„å¯†é’¥ï¼ˆé•¿åº¦32ä¸ªå­—èŠ‚ï¼‰# key = md5(b'1qaz2wsx').hexdigest()# # AESåŠ å¯†çš„åˆå§‹å‘é‡ï¼ˆéšæœºç”Ÿæˆï¼‰# iv = Random.new().read(AES.block_size)def main(): \"\"\"ä¸»å‡½æ•°\"\"\" # ç”Ÿæˆå¯†é’¥å¯¹ key_pair = RSA.generate(1024) # å¯¼å…¥å…¬é’¥ pub_key = RSA.importKey(key_pair.publickey().exportKey()) # å¯¼å…¥ç§é’¥ pri_key = RSA.importKey(key_pair.exportKey()) message1 = 'hello, world!' # åŠ å¯†æ•°æ® data = pub_key.encrypt(message1.encode(), None) # å¯¹åŠ å¯†æ•°æ®è¿›è¡ŒBASE64ç¼–ç  message2 = base64.b64encode(data[0]) print(message2) # å¯¹åŠ å¯†æ•°æ®è¿›è¡ŒBASE64è§£ç  data = base64.b64decode(message2) # è§£å¯†æ•°æ® message3 = pri_key.decrypt(data) print(message3.decode()) # # AES - å¯¹ç§°åŠ å¯† # str1 = 'æˆ‘çˆ±ä½ ä»¬ï¼' # cipher = AES.new(key, AES.MODE_CFB, iv) # # åŠ å¯† # str2 = cipher.encrypt(str1) # print(str2) # # è§£å¯† # cipher = AES.new(key, AES.MODE_CFB, iv) # str3 = cipher.decrypt(str2) # print(str3.decode())if __name__ == '__main__': main()","link":"/2019/05/05/Django-RESTfulAPI-å®‰å…¨è®¾è®¡/"},{"title":"DjangoçŸ¥è¯†ç‚¹æ¦‚è¿°","text":"DjangoçŸ¥è¯†ç‚¹æ¦‚è¿° HTTPRequestå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼š method - è·å–è¯·æ±‚æ–¹æ³• path / get_full_path() - è·å–è¯·æ±‚è·¯å¾„/å¸¦æŸ¥è¯¢å­—ç¬¦ä¸²çš„è·¯å¾„ scheme / is_secure() / get_host() / get_port() - è·å–è¯·æ±‚çš„åè®®/ä¸»æœº/ç«¯å£ META / COOKIES - è·å–è¯·æ±‚å¤´/Cookieä¿¡æ¯ GET / POST / FILES - è·å–GETæˆ–POSTè¯·æ±‚å‚æ•°/ä¸Šä¼ çš„æ–‡ä»¶ get_signed_cookie() - è·å–å¸¦ç­¾åçš„Cookie is_ajax() - æ˜¯ä¸æ˜¯Ajaxå¼‚æ­¥è¯·æ±‚ body / content_type / encoding - è·å–è¯·æ±‚çš„æ¶ˆæ¯ä½“ï¼ˆbytesæµï¼‰/MIMEç±»å‹/ç¼–ç  ä¸­é—´ä»¶æ·»åŠ çš„å±æ€§ï¼š session / user / site HttpResponseå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼š set_cookie() / set_signed_cookie() / delete_cookie() - æ·»åŠ /åˆ é™¤Cookie __setitem__ / __getitem__ / __delitem__ - æ·»åŠ /è·å–/åˆ é™¤å“åº”å¤´ charset / content / status_code - å“åº”çš„å­—ç¬¦é›†/æ¶ˆæ¯ä½“ï¼ˆbytesæµï¼‰/çŠ¶æ€ç  1xxï¼šè¯·æ±‚å·²ç»æ”¶åˆ°ï¼Œç»§ç»­å¤„ç† 2xxï¼ˆæˆåŠŸï¼‰ï¼šè¯·æ±‚å·²ç»æˆåŠŸæ”¶åˆ°ã€ç†è§£å’Œæ¥æ”¶ã€‚ 3xxï¼ˆé‡å®šå‘ï¼‰ï¼šä¸ºå®Œæˆè¯·æ±‚è¦ç»§ç»­æ‰§è¡Œåç»­çš„æ“ä½œã€‚ 4xxï¼ˆå®¢æˆ·ç«¯é”™è¯¯ï¼‰ï¼šè¯·æ±‚ä¸æ­£ç¡®æˆ–ä¸èƒ½å¤Ÿè¢«å—ç†ã€‚ 5xxï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰ï¼šæœåŠ¡å™¨å¤„ç†è¯·æ±‚å¤±è´¥ã€‚ JsonResponseï¼ˆHttpResponseçš„å­ç±»å‹ï¼‰å¯¹è±¡ 123456789101112131415&gt;&gt;&gt; from django.http import HttpResponse, JsonResponse&gt;&gt;&gt;&gt;&gt;&gt; response = JsonResponse({'foo': 'bar'})&gt;&gt;&gt; response.content&gt;&gt;&gt;&gt;&gt;&gt; response = JsonResponse([1, 2, 3], safe=False)&gt;&gt;&gt; response.content&gt;&gt;&gt;&gt;&gt;&gt; response = HttpResponse(b'...')&gt;&gt;&gt; response['cotent-type'] = 'application/pdf';&gt;&gt;&gt; response['content-disposition'] = 'inline; filename=\"xyz.pdf\"'&gt;&gt;&gt; response['content-disposition'] = 'attachment; filename=\"xyz.pdf\"'&gt;&gt;&gt;&gt;&gt;&gt; response.set_signed_cookie('foo', 'bar', salt='')&gt;&gt;&gt; response.status_code = 200 æ•°æ®æ¨¡å‹(Model)é—®é¢˜1ï¼šå…³ç³»å‹æ•°æ®åº“è¡¨çš„è®¾è®¡åº”è¯¥æ³¨æ„å“ªäº›é—®é¢˜ï¼ˆèŒƒå¼ç†è®ºå’Œé€†èŒƒå¼ï¼‰ï¼Ÿå¦‚ä½•é€šè¿‡è¡¨æ¥åˆ›å»ºæ¨¡å‹ç±»ï¼ˆåå‘å·¥ç¨‹ï¼‰ï¼Ÿå¦‚ä½•é€šè¿‡æ¨¡å‹ç±»æ¥åˆ›å»ºè¡¨ï¼ˆæ­£å‘å·¥ç¨‹ï¼‰ï¼Ÿ 1234python manage.py makemigrations &lt;appname&gt;python manage.py migratepython manage.py inspectdb &gt; &lt;appname&gt;/models.py é—®é¢˜2ï¼šå…³ç³»å‹æ•°æ®åº“ä¸­æ•°æ®å®Œæ•´æ€§æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿä»€ä¹ˆæ—¶å€™éœ€è¦ç‰ºç‰²æ•°æ®å®Œæ•´æ€§ï¼Ÿï¼ˆå®ä½“å®Œæ•´æ€§/å‚ç…§å®Œæ•´æ€§/åŸŸå®Œæ•´æ€§ï¼‰ é—®é¢˜3ï¼šORMæ˜¯ä»€ä¹ˆä»¥åŠè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿï¼ˆå¯¹è±¡æ¨¡å‹-å…³ç³»æ¨¡å‹åŒå‘è½¬æ¢ï¼‰ FieldåŠå…¶å­ç±»çš„å±æ€§ï¼š é€šç”¨é€‰é¡¹ï¼š db_column / db_tablespace null / blank / default primary_key db_index / unqiue choices / help_text / error_message / editable / hidden å…¶ä»–é€‰é¡¹ï¼š CharField: max_length DateField: auto_now / auto_now_add DecimalField: max_digits / decimal_places FileField: storage / upload_to ImageField: height_field / width_field ForeignKeyçš„å±æ€§ï¼š é‡è¦å±æ€§ï¼š db_constraintï¼ˆæå‡æ€§èƒ½æˆ–è€…æ•°æ®åˆ†ç‰‡çš„æƒ…å†µå¯èƒ½éœ€è¦è®¾ç½®ä¸ºFalseï¼‰ on_delete CASCADEï¼šçº§è”åˆ é™¤ã€‚ PROTECTï¼šæŠ›å‡ºProtectedErrorå¼‚å¸¸ï¼Œé˜»æ­¢åˆ é™¤å¼•ç”¨çš„å¯¹è±¡ã€‚ SET_NULLï¼šæŠŠå¤–é”®è®¾ç½®ä¸ºnullï¼Œå½“nullå±æ€§è¢«è®¾ç½®ä¸ºTrueæ—¶æ‰èƒ½è¿™ä¹ˆåšã€‚ SET_DEFAULTï¼šæŠŠå¤–é”®è®¾ç½®ä¸ºé»˜è®¤å€¼ï¼Œæä¾›äº†é»˜è®¤å€¼æ‰èƒ½è¿™ä¹ˆåšã€‚ related_name 12345678910class Dept(models.Model): passclass Emp(models.Model): dept = models.ForeignKey(related_name='+', ...) Dept.objects.get(no=10).emp_set.all()Emp.objects.filter(dept__no=10) è¯´æ˜ï¼šrelated_nameè®¾ç½®ä¸º'+'ï¼Œå¯ä»¥é˜²æ­¢ä¸€å¯¹å¤šå¤–é”®å…³è”ä»â€œä¸€â€çš„ä¸€æ–¹æŸ¥è¯¢â€œå¤šâ€çš„ä¸€æ–¹ã€‚ å…¶ä»–å±æ€§ï¼š to_field / limit_choices_to / swappable Modelçš„å±æ€§å’Œæ–¹æ³• objects / pk save() / delete() clean() / validate_unique() / full_clean() QuerySetçš„æ–¹æ³• get() / all() / values() è¯´æ˜ï¼švalues()è¿”å›çš„QuerySetä¸­ä¸æ˜¯æ¨¡å‹å¯¹è±¡è€Œæ˜¯å­—å…¸ count() / order_by() / exists() / reverse() filter() / exclude() exact / iexactï¼šç²¾ç¡®åŒ¹é…/å¿½ç•¥å¤§å°å†™çš„ç²¾ç¡®åŒ¹é…æŸ¥è¯¢ contains / icontains / startswith / istartswith / endswith / iendswithï¼šåŸºäºlikeçš„æ¨¡ç³ŠæŸ¥è¯¢ inï¼šé›†åˆè¿ç®— gt / gte / lt / lteï¼šå¤§äº/å¤§äºç­‰äº/å°äº/å°äºç­‰äºå…³ç³»è¿ç®— rangeï¼šæŒ‡å®šèŒƒå›´æŸ¥è¯¢ï¼ˆSQLä¸­çš„betweenâ€¦andâ€¦ï¼‰ year / month / day / week_day / hour / minute / secondï¼šæŸ¥è¯¢æ—¶é—´æ—¥æœŸ isnullï¼šæŸ¥è¯¢ç©ºå€¼ï¼ˆTrueï¼‰æˆ–éç©ºå€¼ï¼ˆFalseï¼‰ searchï¼šåŸºäºå…¨æ–‡ç´¢å¼•çš„å…¨æ–‡æ£€ç´¢ regex / iregexï¼šåŸºäºæ­£åˆ™è¡¨è¾¾å¼çš„æ¨¡ç³ŠåŒ¹é…æŸ¥è¯¢ aggregate() / annotate() Avg / Count / Sum / Max / Min 1234&gt;&gt;&gt; from django.db.models import Avg&gt;&gt;&gt; Emp.objects.aggregate(avg_sal=Avg('sal'))(0.001) SELECT AVG(`TbEmp`.`sal`) AS `avg_sal` FROM `TbEmp`; args=(){'avg_sal': 3521.4286} 123&gt;&gt;&gt; Emp.objects.values('dept').annotate(total=Count('dept'))(0.001) SELECT `TbEmp`.`dno`, COUNT(`TbEmp`.`dno`) AS `total` FROM `TbEmp` GROUP BY `TbEmp`.`dno` ORDER BY NULL LIMIT 21; args=()&lt;QuerySet [{'dept': 10, 'total': 4}, {'dept': 20, 'total': 7}, {'dept': 30, 'total': 3}] first() / last() è¯´æ˜ï¼šè°ƒç”¨first()æ–¹æ³•ç›¸å½“äºç”¨[0]å¯¹QuerySetè¿›è¡Œåˆ‡ç‰‡ã€‚ only() / defer() 123456&gt;&gt;&gt; Emp.objects.filter(pk=7800).only('name', 'sal')(0.001) SELECT `TbEmp`.`empno`, `TbEmp`.`ename`, `TbEmp`.`sal` FROM `TbEmp` WHERE `TbEmp`.`empno` = 7800 LIMIT 21; args=(7800,)&lt;QuerySet [&lt;Emp: Emp object (7800)&gt;]&gt;&gt;&gt;&gt; Emp.objects.filter(pk=7800).defer('name', 'sal')(0.001) SELECT `TbEmp`.`empno`, `TbEmp`.`job`, `TbEmp`.`mgr`, `TbEmp`.`comm`, `TbEmp`.`dno` FROM `TbEmp` WHERE `TbEmp`.`empno` = 7800 LIMIT 21; args=(7800,)&lt;QuerySet [&lt;Emp: Emp object (7800)&gt;]&gt; create() / update() / raw() 12345&gt;&gt;&gt; Emp.objects.filter(dept__no=20).update(sal=F('sal') + 100)(0.011) UPDATE `TbEmp` SET `sal` = (`TbEmp`.`sal` + 100) WHERE `TbEmp`.`dno` = 20; args=(100, 20)&gt;&gt;&gt;&gt;&gt;&gt; Emp.objects.raw('select empno, ename, job from TbEmp where dno=10')&lt;RawQuerySet: select empno, ename, job from TbEmp where dno=10&gt; Qå¯¹è±¡å’ŒFå¯¹è±¡ è¯´æ˜ï¼šQå¯¹è±¡ä¸»è¦ç”¨æ¥è§£å†³å¤šæ¡ä»¶ç»„åˆçš„å¤æ‚æŸ¥è¯¢ï¼›Få¯¹è±¡ä¸»è¦ç”¨äºæ›´æ–°æ•°æ®ã€‚ 123456&gt;&gt;&gt; from django.db.models import Q&gt;&gt;&gt; Emp.objects.filter(... Q(name__startswith='å¼ '),... Q(sal__lte=5000) | Q(comm__gte=1000)... ) # æŸ¥è¯¢åå­—ä»¥â€œå¼ â€å¼€å¤´ä¸”å·¥èµ„å°äºç­‰äº5000æˆ–è¡¥è´´å¤§äºç­‰äº1000çš„å‘˜å·¥&lt;QuerySet [&lt;Emp: å¼ ä¸‰ä¸°&gt;]&gt; 1234&gt;&gt;&gt; from backend.models import Emp, Dept&gt;&gt;&gt; emps = Emp.objects.filter(dept__no=20)&gt;&gt;&gt; from django.db.models import F&gt;&gt;&gt; emps.update(sal=F('sal') + 100) åŸç”ŸSQLæŸ¥è¯¢ 1234567from django.db import connections with connections['...'].cursor() as cursor: cursor.execute(\"UPDATE TbEmp SET sal=sal+10 WHERE dno=30\") cursor.execute(\"SELECT ename, job FROM TbEmp WHERE dno=10\") row = cursor.fetchall() æ¨¡å‹ç®¡ç†å™¨ 12345678class BookManager(models.Manager): def title_count(self, keyword): return self.filter(title__icontains=keyword).count() class Book(models.Model): objects = BookManager()","link":"/2018/02/20/DjangoçŸ¥è¯†ç‚¹æ¦‚è¿°/"},{"title":"Djangoå…¥é—¨","text":"Django mysqlé…ç½®1234567891011åº•å±‚ä½¿ç”¨ mysqlclientåº•å±‚ä½¿ç”¨ mysqlclientåº•å±‚ä½¿ç”¨ mysqlclientåº•å±‚ä½¿ç”¨ mysqlclientåº•å±‚ä½¿ç”¨ mysqlclientåº•å±‚ä½¿ç”¨ mysqlclientåº•å±‚ä½¿ç”¨ mysqlclientåº•å±‚ä½¿ç”¨ mysqlclientåº•å±‚ä½¿ç”¨ mysqlclientåº•å±‚ä½¿ç”¨ mysqlclientDATABASES = { 'default': { 'ENGINE': 'django.db.backends.mysql', 'NAME': 'xxx', 'USER': 'xxx', 'PASSWORD':'xxx', 'HOST': 'localhost', 'PORT': '3306', }} VSCode è¿è¡ŒDjango123456789101112131415DEBUG é€‰æ‹©python:Django{ \"name\": \"Python: Django\", \"type\": \"python\", \"request\": \"launch\", \"program\": \"${workspaceFolder}/manage.py\", \"console\": \"integratedTerminal\", \"args\": [ \"runserver\", \"8080\",#æ·»åŠ ç«¯å£å· \"--noreload\", \"--nothreading\" ], \"django\": true}, Djangoè‡ªåŠ¨ç”Ÿæˆå¯¹è±¡æ¨¡å‹12345678910è‡ªåŠ¨ç”Ÿæˆmodelsæ¨¡å‹æ–‡ä»¶ Python3 manage.py inspectdb è¿™æ ·å°±å¯ä»¥åœ¨æ§åˆ¶å°çš„å‘½ä»¤è¡Œä¸­çœ‹åˆ°æ•°æ®åº“çš„æ¨¡å‹æ–‡ä»¶äº†æŠŠæ¨¡å‹æ–‡ä»¶å¯¼å…¥åˆ°appä¸­ åˆ›å»ºä¸€ä¸ªapp python3 manage.py inspectdb &gt; app/models.py ç”Ÿæˆå•å¼ è¡¨python3 manage.py inspectdb api_blog_subject&gt; cms/models/blogSubject.py Djangoæ¡†æ¶ä½¿ç”¨-ç”Ÿæˆæ•°æ®åº“è¡¨12345python3 manage.py makemigrations #ä¼šæ£€æŸ¥æ•°æ®åº“å®šä¹‰çš„ä»£ç æ˜¯å¦æ­£ç¡®.python3 manage.py migratepython3 manage.py flush #æ¸…ç©ºæ•°æ®åº“ï¼ˆæ­¤å‘½ä»¤ä¼šè¯¢é—®æ˜¯ yes è¿˜æ˜¯ no, é€‰æ‹© yes ä¼šæŠŠæ•°æ®å…¨éƒ¨æ¸…ç©ºæ‰ï¼Œåªç•™ä¸‹ç©ºè¡¨ã€‚ï¼‰#æ¸…ç©ºæ•°æ®åº“ï¼ˆæ­¤å‘½ä»¤ä¼šè¯¢é—®æ˜¯ yes è¿˜æ˜¯ no, é€‰æ‹© yes ä¼šæŠŠæ•°æ®å…¨éƒ¨æ¸…ç©ºæ‰ï¼Œåªç•™ä¸‹ç©ºè¡¨ã€‚ï¼‰#æ¸…ç©ºæ•°æ®åº“ï¼ˆæ­¤å‘½ä»¤ä¼šè¯¢é—®æ˜¯ yes è¿˜æ˜¯ no, é€‰æ‹© yes ä¼šæŠŠæ•°æ®å…¨éƒ¨æ¸…ç©ºæ‰ï¼Œåªç•™ä¸‹ç©ºè¡¨ã€‚ï¼‰#æ¸…ç©ºæ•°æ®åº“ï¼ˆæ­¤å‘½ä»¤ä¼šè¯¢é—®æ˜¯ yes è¿˜æ˜¯ no, é€‰æ‹© yes ä¼šæŠŠæ•°æ®å…¨éƒ¨æ¸…ç©ºæ‰ï¼Œåªç•™ä¸‹ç©ºè¡¨ã€‚ï¼‰python3 manage.py createsuperuser #åˆ›å»ºè¶…çº§ç®¡ç†å‘˜ Django settingä¸­ time zoneå’Œlanguage codeè®¾ç½®ä¸­æ–‡çš„é—®é¢˜123456å°†language codeè®¾ç½®ä¸º'zh-cn'åæ¯æ¬¡å¯åŠ¨serveréƒ½æç¤ºerrorï¼Œè¯´æ‰¾ä¸åˆ°zh-cnçš„language codeã€‚æœ€åå‘ç°æ”¹æˆ'zh-hans'å³å¯Django1.9ä»¥ålanguage code 'zh-cn'å°±è¢«ä¸¢å¼ƒäº†ï¼Œä½¿ç”¨'zh-hans'ä»£æ›¿ã€‚TIME_ZONE = 'Asia/Shanghai'LANGUAGE_CODE = 'zh-hans'","link":"/2018/01/13/Djangoå…¥é—¨/"},{"title":"DjangoçŸ¥è¯†ç‚¹æ¦‚è¿°3","text":"ç¼“å­˜é…ç½®ç¼“å­˜12345678910111213141516CACHES = {# é»˜è®¤ç¼“å­˜'default': { 'BACKEND': 'django_redis.cache.RedisCache', 'LOCATION': [ 'redis://1.2.3.4:6379/0', ], 'KEY_PREFIX': 'teamproject', 'OPTIONS': { 'CLIENT_CLASS': 'django_redis.client.DefaultClient', 'CONNECTION_POOL_KWARGS': { 'max_connections': 1000, }, 'PASSWORD': '1qaz2wsx', }}, 123456789101112131415# é¡µé¢ç¼“å­˜'page': { 'BACKEND': 'django_redis.cache.RedisCache', 'LOCATION': [ 'redis://1.2.3.4:6379/1', ], 'KEY_PREFIX': 'teamproject:page', 'OPTIONS': { 'CLIENT_CLASS': 'django_redis.client.DefaultClient', 'CONNECTION_POOL_KWARGS': { 'max_connections': 500, }, 'PASSWORD': '1qaz2wsx', }}, 12345678910111213141516# ä¼šè¯ç¼“å­˜'session': { 'BACKEND': 'django_redis.cache.RedisCache', 'LOCATION': [ 'redis://1.2.3.4:6379/2', ], 'KEY_PREFIX': 'teamproject:session', 'TIMEOUT': 1209600, 'OPTIONS': { 'CLIENT_CLASS': 'django_redis.client.DefaultClient', 'CONNECTION_POOL_KWARGS': { 'max_connections': 2000, }, 'PASSWORD': '1qaz2wsx', }}, 12345678910111213141516# æ¥å£æ•°æ®ç¼“å­˜'api': { 'BACKEND': 'django_redis.cache.RedisCache', 'LOCATION': [ 'redis://1.2.3.4:6379/3', ], 'KEY_PREFIX': 'teamproject:api', 'OPTIONS': { 'CLIENT_CLASS': 'django_redis.client.DefaultClient', 'CONNECTION_POOL_KWARGS': { 'max_connections': 500, }, 'PASSWORD': '1qaz2wsx', }},} è¯´æ˜ï¼šé€šè¿‡Redisåº•å±‚æä¾›çš„å¤šä¸ªæ•°æ®åº“æ¥éš”ç¦»ç¼“å­˜æ•°æ®æœ‰åŠ©äºç¼“å­˜æ•°æ®çš„ç®¡ç†ã€‚å¦‚æœé…ç½®äº†Redisçš„ä¸»ä»å¤åˆ¶ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰ï¼ŒLOCATIONåˆ—è¡¨ä¸­å¯ä»¥é…ç½®å¤šä¸ªRedisè¿æ¥ï¼Œç¬¬ä¸€ä¸ªè¢«è§†ä¸ºmasterç”¨æ¥è¿›è¡Œå†™æ“ä½œï¼Œåé¢çš„è¢«è§†ä¸ºslaveç”¨æ¥è¿›è¡Œè¯»æ“ä½œã€‚ å…¨ç«™ç¼“å­˜1234567891011MIDDLEWARE_CLASSES = ['django.middleware.cache.UpdateCacheMiddleware',...'django.middleware.common.CommonMiddleware',...'django.middleware.cache.FetchFromCacheMiddleware',]CACHE_MIDDLEWARE_ALIAS = 'default'CACHE_MIDDLEWARE_SECONDS = 300CACHE_MIDDLEWARE_KEY_PREFIX = 'djang:cache' è§†å›¾å±‚ç¼“å­˜12345678from django.views.decorators.cache import cache_pagefrom django.views.decorators.vary import vary_on_cookie@cache_page(timeout=60 * 15, cache='page')@vary_on_cookiedef my_view(request):pass 12345from django.views.decorators.cache import cache_pageurlpatterns = [url(r'^foo/([0-9]{1,2})/$', cache_page(60 * 15)(my_view)),] å…¶ä»–å†…å®¹ æ¨¡æ¿ç‰‡æ®µç¼“å­˜ã€‚ load cache cache / endcache ä½¿ç”¨åº•å±‚APIè®¿é—®ç¼“å­˜ã€‚ 12345&gt;&gt;&gt; from django.core.cache import cache&gt;&gt;&gt;&gt;&gt;&gt; cache.set('my_key', 'hello, world!', 30)&gt;&gt;&gt; cache.get('my_key')&gt;&gt;&gt; cache.clear() 12345678&gt;&gt;&gt; from django.core.cache import caches&gt;&gt;&gt; cache1 = caches['page']&gt;&gt;&gt; cache2 = caches['page']&gt;&gt;&gt; cache1 is cache2True&gt;&gt;&gt; cache3 = caches['session']&gt;&gt;&gt; cache2 is cache3False 1234&gt;&gt;&gt; from django_redis import get_redis_connection&gt;&gt;&gt;&gt;&gt;&gt; redis_client = get_redis_connection()&gt;&gt;&gt; redis_client.hgetall() æ—¥å¿—æ—¥å¿—çº§åˆ«NOTSET &lt; DEBUG &lt; INFO &lt; WARNING &lt; ERROR &lt; FATAL æ—¥å¿—é…ç½®12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455LOGGING = {'version': 1,'disable_existing_loggers': False,# é…ç½®æ—¥å¿—æ ¼å¼åŒ–å™¨'formatters': { 'simple': { 'format': '%(asctime)s %(module)s.%(funcName)s: %(message)s', 'datefmt': '%Y-%m-%d %H:%M:%S', }, 'verbose': { 'format': '%(asctime)s %(levelname)s [%(process)d-%(threadName)s] ' '%(module)s.%(funcName)s line %(lineno)d: %(message)s', 'datefmt': '%Y-%m-%d %H:%M:%S', }},# é…ç½®æ—¥å¿—è¿‡æ»¤å™¨'filters': { 'require_debug_true': { '()': 'django.utils.log.RequireDebugTrue', },},# é…ç½®æ—¥å¿—å¤„ç†å™¨'handlers': { 'console': { 'class': 'logging.StreamHandler', 'level': 'DEBUG', 'filters': ['require_debug_true'], 'formatter': 'simple', }, 'file1': { 'class': 'logging.handlers.TimedRotatingFileHandler', 'filename': 'access.log', 'when': 'W0', 'backupCount': 12, 'formatter': 'simple', 'level': 'INFO', }, 'file2': { 'class': 'logging.handlers.TimedRotatingFileHandler', 'filename': 'error.log', 'when': 'D', 'backupCount': 31, 'formatter': 'verbose', 'level': 'WARNING', },},# é…ç½®æ—¥å¿—å™¨'loggers': { 'django': { 'handlers': ['console', 'file1', 'file2'], 'propagate': True, 'level': 'DEBUG', },}} æ—¥å¿—é…ç½®å®˜æ–¹ç¤ºä¾‹ã€‚ æ—¥å¿—åˆ†æ Linuxç›¸å…³å‘½ä»¤ï¼šheadã€tailã€grepã€awkã€uniqã€sort 1tail -10000 access.log | awk '{print $1}' | uniq -c | sort -r å®æ—¶æ—¥å¿—æ–‡ä»¶åˆ†æï¼šPython + æ­£åˆ™è¡¨è¾¾å¼ + Crontab ã€ŠPythonæ—¥å¿—åˆ†æå·¥å…·ã€‹ã€‚ ã€Šé›†ä¸­å¼æ—¥å¿—ç³»ç»ŸELKã€‹ã€‚ ElasticSearchï¼šæœç´¢å¼•æ“ï¼Œå®ç°å…¨æ–‡æ£€ç´¢ã€‚ Logstashï¼šè´Ÿè´£ä»æŒ‡å®šèŠ‚ç‚¹æ”¶é›†æ—¥å¿—ã€‚ Kibanaï¼šæ—¥å¿—å¯è§†åŒ–å·¥å…·ã€‚ å¤§æ•°æ®æ—¥å¿—å¤„ç†ï¼šFlume+Kafkaæ—¥å¿—é‡‡é›†ã€Storm / Sparkå®æ—¶æ•°æ®å¤„ç†ã€Impalaå®æ—¶æŸ¥è¯¢ã€‚","link":"/2018/04/26/DjangoçŸ¥è¯†ç‚¹æ¦‚è¿°3/"},{"title":"DjangoçŸ¥è¯†ç‚¹æ¦‚è¿°5","text":"æ•°æ®åº“ ç”¨IDç”Ÿæˆå™¨ä»£æ›¿è‡ªå¢ä¸»é”®ï¼ˆæ€§èƒ½æ›´å¥½ã€é€‚ç”¨äºåˆ†å¸ƒå¼ç¯å¢ƒï¼‰ã€‚ è‡ªå®šä¹‰IDç”Ÿæˆå™¨ UUID 12345&gt;&gt;&gt; my_uuid = uuid.uuid1()&gt;&gt;&gt; my_uuidUUID('63f859d0-a03a-11e8-b0ad-60f81da8d840')&gt;&gt;&gt; my_uuid.hex'63f859d0a03a11e8b0ad60f81da8d840' é¿å…ä¸å¿…è¦çš„å¤–é”®åˆ—ä¸Šçš„çº¦æŸï¼ˆé™¤éå¿…é¡»ä¿è¯å‚ç…§å®Œæ•´æ€§ï¼‰ï¼Œæ›´ä¸è¦ä½¿ç”¨è§¦å‘å™¨ä¹‹ç±»çš„æœºåˆ¶ã€‚ ä½¿ç”¨ç´¢å¼•æ¥ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½ï¼ˆç´¢å¼•æ”¾åœ¨è¦ç”¨äºæŸ¥è¯¢çš„å­—æ®µä¸Šï¼‰ã€‚InnoDBç”¨çš„æ˜¯BTREEç´¢å¼•ï¼Œä½¿ç”¨&gt;ã€&lt;ã€&gt;=ã€&lt;=ã€BETWEENæˆ–è€…LIKE â€˜patternâ€™ï¼ˆpatternä¸ä»¥é€šé…ç¬¦å¼€å¤´ï¼‰æ—¶éƒ½å¯ä»¥ç”¨åˆ°ç´¢å¼•ã€‚å› ä¸ºå»ºç«‹ç´¢å¼•éœ€è¦é¢å¤–çš„ç£ç›˜ç©ºé—´ï¼Œè€Œä¸»é”®ä¸Šæ˜¯æœ‰é»˜è®¤çš„ç´¢å¼•ï¼Œæ‰€ä»¥ä¸»é”®è¦å°½å¯èƒ½é€‰æ‹©è¾ƒçŸ­çš„æ•°æ®ç±»å‹æ¥å‡å°‘ç£ç›˜å ç”¨ï¼Œæé«˜ç´¢å¼•çš„ç¼“å­˜æ•ˆæœã€‚ 1create index idx_goods_name on tb_goods (gname(10)); 1234-- æ— æ³•ä½¿ç”¨ç´¢å¼•select * from tb_goods where gname like '%iPhone%';-- å¯ä»¥ä½¿ç”¨ç´¢å¼•select * from tb_goods where gname like 'iPhone%'; 1234# æ— æ³•ä½¿ç”¨ç´¢å¼•Goods.objects.filter(name_icontains='iPhone')# å¯ä»¥ä½¿ç”¨ç´¢å¼•Goods.objects.filter(name__istartswith='iPhone'); ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹ï¼ˆå­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ç¼–è¯‘è¿‡çš„ä¸€ç»„SQLè¯­å¥ï¼‰ã€‚ 12345678910drop procedure if exists sp_avg_sal_by_dept; create procedure sp_avg_sal_by_dept(deptno integer, out avg_sal float)begin select avg(sal) into avg_sal from TbEmp where dno=deptno;end; call sp_avg_sal_by_dept(10, @a); select @a; 123456&gt;&gt;&gt; from django.db import connection&gt;&gt;&gt; cursor = connection.cursor()&gt;&gt;&gt; cursor.callproc('sp_avg_sal_by_dept', (10, 0))&gt;&gt;&gt; cursor.execute('select @_sp_avg_sal_by_dept_1')&gt;&gt;&gt; cursor.fetchone()(2675.0,) ä½¿ç”¨æ•°æ®åˆ†åŒºã€‚é€šè¿‡åˆ†åŒºå¯ä»¥å­˜å‚¨æ›´å¤šçš„æ•°æ®ã€ä¼˜åŒ–æŸ¥è¯¢æ›´å¤§çš„ååé‡ã€å¯ä»¥å¿«é€Ÿåˆ é™¤è¿‡æœŸçš„æ•°æ®ã€‚å…³äºè¿™ä¸ªçŸ¥è¯†ç‚¹å¯ä»¥çœ‹çœ‹MySQLçš„å®˜æ–¹æ–‡æ¡£ã€‚ RANGEåˆ†åŒºï¼šåŸºäºè¿ç»­åŒºé—´èŒƒå›´ï¼ŒæŠŠæ•°æ®åˆ†é…åˆ°ä¸åŒçš„åˆ†åŒºã€‚ LISTåˆ†åŒºï¼šåŸºäºæšä¸¾å€¼çš„èŒƒå›´ï¼ŒæŠŠæ•°æ®åˆ†é…åˆ°ä¸åŒçš„åˆ†åŒºã€‚ HASHåˆ†åŒº / KEYåˆ†åŒºï¼šåŸºäºåˆ†åŒºä¸ªæ•°ï¼ŒæŠŠæ•°æ®åˆ†é…åˆ°ä¸åŒçš„åˆ†åŒºã€‚ 123456789CREATE TABLE tb_emp ( eno INT NOT NULL, ename VARCHAR(20) NOT NULL, job VARCHAR(10) NOT NULL, hiredate DATE NOT NULL, dno INT NOT NULL)PARTITION BY HASH(dno)PARTITIONS 4; 1234567891011121314CREATE TABLE tb_emp ( eno INT NOT NULL, ename VARCHAR(20) NOT NULL, job VARCHAR(10) NOT NULL, hiredate DATE NOT NULL, dno INT NOT NULL)PARTITION BY RANGE( YEAR(hiredate) ) ( PARTITION p0 VALUES LESS THAN (1960), PARTITION p1 VALUES LESS THAN (1970), PARTITION p2 VALUES LESS THAN (1980), PARTITION p3 VALUES LESS THAN (1990), PARTITION p4 VALUES LESS THAN MAXVALUE); ä½¿ç”¨explainæ¥åˆ†ææŸ¥è¯¢æ€§èƒ½ - æ‰§è¡Œè®¡åˆ’ã€‚ 1explain select * from ...; explainç»“æœè§£æï¼š select_typeï¼šè¡¨ç¤ºselectæ“ä½œçš„ç±»å‹ï¼Œå¸¸è§çš„å€¼æœ‰SIMPLEï¼ˆç®€å•æŸ¥è¯¢ï¼Œæ²¡æœ‰ä½¿ç”¨å­æŸ¥è¯¢æˆ–è€…è¡¨è¿æ¥æŸ¥è¯¢ï¼‰ã€PRIMARYï¼ˆä¸»æŸ¥è¯¢ï¼Œå¤–å±‚çš„æŸ¥è¯¢ï¼‰ã€UNIONï¼ˆå¹¶é›†æ“ä½œä¸­çš„ç¬¬äºŒä¸ªæˆ–è€…åé¢çš„æŸ¥è¯¢ï¼‰ã€SUBQUERYï¼ˆå­æŸ¥è¯¢ä¸­çš„ç¬¬ä¸€ä¸ªSELECTï¼‰ç­‰ã€‚ tableï¼šè¾“å‡ºç»“æœçš„è¡¨ã€‚ typeï¼šMySQLåœ¨è¡¨ä¸­æ‰¾åˆ°æ‰€éœ€è¡Œçš„æ–¹å¼ï¼Œä¹Ÿç§°ä¸ºè®¿é—®ç±»å‹ï¼Œå¸¸è§çš„å€¼æœ‰ï¼š ALLï¼šå…¨è¡¨æ‰«æï¼ˆéå†å…¨è¡¨æ‰¾åˆ°åŒ¹é…çš„è¡Œï¼‰ indexï¼šç´¢å¼•å…¨æ‰«æï¼ˆéå†æ•´ä¸ªç´¢å¼•ï¼‰ rangeï¼šç´¢å¼•èŒƒå›´æ‰«æ refï¼šéå”¯ä¸€ç´¢å¼•æ‰«ææˆ–å”¯ä¸€ç´¢å¼•çš„å‰ç¼€æ‰«æ eq_refï¼šå”¯ä¸€ç´¢å¼•æ‰«æ const / systemï¼šè¡¨ä¸­æœ€å¤šæœ‰ä¸€è¡ŒåŒ¹é… NULLï¼šä¸ç”¨è®¿é—®è¡¨æˆ–è€…ç´¢å¼• possible_keysï¼šæŸ¥è¯¢æ—¶å¯èƒ½ç”¨åˆ°çš„ç´¢å¼•ã€‚ keyï¼šå®é™…ä½¿ç”¨çš„ç´¢å¼•ã€‚ key_lenï¼šä½¿ç”¨åˆ°ç´¢å¼•å­—æ®µçš„é•¿åº¦ã€‚ rowsï¼šæ‰«æè¡Œçš„æ•°é‡ã€‚ Extraï¼šé¢å¤–çš„ä¿¡æ¯ï¼ˆæ‰§è¡Œæƒ…å†µçš„è¯´æ˜æˆ–æè¿°ï¼‰ã€‚ è¯´æ˜ï¼šå…³äºMySQLæ›´å¤šçš„çŸ¥è¯†å°¤å…¶æ˜¯æ€§èƒ½è°ƒä¼˜å’Œè¿ç»´æ–¹é¢çš„å†…å®¹ï¼Œæ¨èå¤§å®¶é˜…è¯»ç½‘æ˜“å‡ºå“çš„ã€Šæ·±å…¥æµ…å‡ºMySQLï¼ˆç¬¬2ç‰ˆï¼‰ã€‹ï¼Œç½‘æ˜“å‡ºå“å¿…å±ç²¾å“ã€‚ ä½¿ç”¨æ…¢æŸ¥è¯¢æ—¥å¿—æ¥å‘ç°æ€§èƒ½ä½ä¸‹çš„æŸ¥è¯¢ã€‚ 1234567891011121314mysql&gt; show variables like 'slow_query%';+---------------------------+----------------------------------+| Variable_name | Value |+---------------------------+----------------------------------+| slow_query_log | OFF || slow_query_log_file | /mysql/data/localhost-slow.log |+---------------------------+----------------------------------+ mysql&gt; show variables like 'long_query_time';+-----------------+-----------+| Variable_name | Value |+-----------------+-----------+| long_query_time | 10.000000 |+-----------------+-----------+ 12mysql&gt; set global slow_query_log='ON'; mysql&gt; set global long_query_time=1; 1234[mysqld]slow_query_log=ONslow_query_log_file=/usr/local/mysql/data/slow.loglong_query_time=1","link":"/2018/04/29/DjangoçŸ¥è¯†ç‚¹æ¦‚è¿°5/"},{"title":"DjangoçŸ¥è¯†ç‚¹æ¦‚è¿°6","text":"é¡¹ç›®è°ƒè¯•å¯ä»¥ä½¿ç”¨django-debug-toolbaræ¥è¾…åŠ©é¡¹ç›®è°ƒè¯•ã€‚ å®‰è£… 1pip install django-debug-toolbar é…ç½® - ä¿®æ”¹settings.pyã€‚ 12345678910111213141516INSTALLED_APPS = [ 'debug_toolbar',] MIDDLEWARE = [ 'debug_toolbar.middleware.DebugToolbarMiddleware',] DEBUG_TOOLBAR_CONFIG = { # å¼•å…¥jQueryåº“ 'JQUERY_URL': 'https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js', # å·¥å…·æ æ˜¯å¦æŠ˜å  'SHOW_COLLAPSED': True, # æ˜¯å¦æ˜¾ç¤ºå·¥å…·æ  'SHOW_TOOLBAR_CALLBACK': lambda x: True,} é…ç½® - ä¿®æ”¹urls.pyã€‚ 12345if settings.DEBUG: import debug_toolbar urlpatterns.insert(0, path('__debug__/', include(debug_toolbar.urls))) ä½¿ç”¨ - åœ¨é¡µé¢å³ä¾§å¯ä»¥çœ‹åˆ°ä¸€ä¸ªè°ƒè¯•å·¥å…·æ ï¼Œä¸Šé¢åŒ…æ‹¬äº†æ‰§è¡Œæ—¶é—´ã€é¡¹ç›®è®¾ç½®ã€è¯·æ±‚å¤´ã€SQLã€é™æ€èµ„æºã€æ¨¡æ¿ã€ç¼“å­˜ã€ä¿¡å·ç­‰è°ƒè¯•ä¿¡æ¯ï¼ŒæŸ¥çœ‹èµ·æ¥éå¸¸çš„æ–¹ä¾¿ã€‚ æ€§èƒ½ç›¸å…³ç½‘ç«™ä¼˜åŒ–ä¸¤å¤§å®šå¾‹ï¼š å°½å¯èƒ½çš„ä½¿ç”¨ç¼“å­˜ - ç‰ºç‰²ç©ºé—´æ¢å–æ—¶é—´ï¼ˆæ™®é€‚ç­–ç•¥ï¼‰ã€‚ èƒ½æ¨è¿Ÿçš„éƒ½æ¨è¿Ÿ - ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å°†å¹¶è¡Œä»»åŠ¡ä¸²è¡Œæ¥ç¼“è§£æœåŠ¡å™¨å‹åŠ›ã€‚ æœåŠ¡å™¨CPUåˆ©ç”¨ç‡å‡ºç°ç¬æ—¶å³°å€¼ - å‰Šå³°ï¼ˆCPUåˆ©ç”¨ç‡å¹³ç¼“çš„å¢é•¿ï¼‰ ä¸Šä¸‹æ¸¸èŠ‚ç‚¹è§£è€¦åˆï¼ˆä¸‹è®¢å•å’Œå—ç†è®¢å•çš„ç³»ç»Ÿé€šå¸¸æ˜¯åˆ†ç¦»çš„ï¼‰ Djangoæ¡†æ¶ é…ç½®ç¼“å­˜æ¥ç¼“è§£æ•°æ®åº“çš„å‹åŠ›ï¼Œå¹¶æœ‰åˆç†çš„æœºåˆ¶åº”å¯¹ç¼“å­˜ç©¿é€å’Œç¼“å­˜é›ªå´©ã€‚ å¼€å¯æ¨¡æ¿ç¼“å­˜æ¥åŠ é€Ÿæ¨¡æ¿çš„æ¸²æŸ“ã€‚ 123456789101112131415161718192021TEMPLATES = [ { 'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [os.path.join(BASE_DIR, 'templates'), ], # 'APP_DIRS': True, 'OPTIONS': { 'context_processors': [ 'django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages', ], 'loaders': [( 'django.template.loaders.cached.Loader', [ 'django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader', ], ), ], }, },] ç”¨æƒ°æ€§æ±‚å€¼ã€è¿­ä»£å™¨ã€defer()ã€only()ç­‰ç¼“è§£å†…å­˜å‹åŠ›ã€‚ ç”¨select_related()å’Œprefetch_related()æ‰§è¡Œé¢„åŠ è½½é¿å…â€œ1+NæŸ¥è¯¢é—®é¢˜â€ã€‚ ç”¨æˆ·æ•æ„Ÿä¿¡æ¯çš„ä¿æŠ¤ å“ˆå¸Œæ‘˜è¦ï¼ˆç­¾åï¼‰ 123456789101112&gt;&gt;&gt; import hashlib&gt;&gt;&gt; &gt;&gt;&gt; md5_hasher = hashlib.md5()&gt;&gt;&gt; md5_hasher.update('hello, world!'.encode())&gt;&gt;&gt; md5_hasher.hexdigest()'3adbbad1791fbae3ec908894c4963870'&gt;&gt;&gt;&gt;&gt;&gt; sha1_hasher = hashlib.sha1()&gt;&gt;&gt; sha1_hasher.update('hello, world!'.encode())&gt;&gt;&gt; sha1_hasher.update('goodbye, world!'.encode())&gt;&gt;&gt; sha1_hasher.hexdigest()'1f09d30c707d53f3d16c530dd73d70a6ce7596a9' åŠ å¯†å’Œè§£å¯†ï¼ˆå¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†ï¼‰ 1pip install rsa 12345678&gt;&gt;&gt; pub_key, pri_key = rsa.newkeys(1024)&gt;&gt;&gt; message = 'hello, world!'&gt;&gt;&gt; crypto = rsa.encrypt(message.encode(), pub_key)&gt;&gt;&gt; cryptob'Ou{gH\\xa9\\xa8}O\\xe3\\x1d\\x052|M\\x9d9?\\xdc\\xd8\\xecF\\xd3v\\x9b\\xde\\x8e\\x12\\xe6M\\xebvx\\x08\\x08\\x8b\\xe8\\x86~\\xe4^)w\\xf2\\xef\\x9e\\x9fOg\\x15Q\\xb7\\x7f\\x1d\\xcfV\\xf1\\r\\xbe^+\\x8a\\xbf }\\x10\\x01\\xa4U9b\\x97\\xf5\\xe0\\x90T\\'\\xd4(\\x9b\\x00\\xa5\\x92\\x17\\xad4\\xb0\\xb0\"\\xd4\\x16\\x94*s\\xe1r\\xb7L\\xe2\\x98\\xb7\\x7f\\x03\\xd9\\xf2\\t\\xee*\\xe6\\x93\\xe6\\xe1o\\xfd\\x18\\x83L\\x0cfL\\xff\\xe4\\xdd%\\xf2\\xc0/\\xfb'&gt;&gt;&gt; origin = rsa.decrypt(crypto, pri_key).decode()&gt;&gt;&gt; origin'hello, world!' 1pip install pycrypto AESå¯¹ç§°åŠ å¯†ï¼š 123456789101112&gt;&gt;&gt; from hashlib import md5&gt;&gt;&gt;&gt;&gt;&gt; from Crypto.Cipher import AES&gt;&gt;&gt; from Crypto import Random&gt;&gt;&gt;&gt;&gt;&gt; key = md5(b'mysecret').hexdigest()&gt;&gt;&gt; iv = Random.new().read(AES.block_size)&gt;&gt;&gt; str1 = 'æˆ‘çˆ±ä½ ä»¬ï¼'&gt;&gt;&gt; str2 = AES.new(key, AES.MODE_CFB, iv).encrypt(str1)b'p\\x96o\\x85\\x0bq\\xc4-Y\\xc4\\xbcp\\n)&amp;'&gt;&gt;&gt; str3 = AES.new(key, AES.MODE_CFB, iv).decrypt(str2).decode()'æˆ‘çˆ±ä½ ä»¬ï¼' RSAéå¯¹ç§°åŠ å¯†ï¼š 123456789101112131415&gt;&gt;&gt; from Crypto.PublicKey import RSA&gt;&gt;&gt; # ç”Ÿæˆå¯†é’¥å¯¹&gt;&gt;&gt; key_pair = RSA.generate(2048)&gt;&gt;&gt; # å¯¼å…¥å…¬é’¥&gt;&gt;&gt; pub_key = RSA.importKey(key_pair.publickey().exportKey())&gt;&gt;&gt; # å¯¼å…¥ç§é’¥&gt;&gt;&gt; pri_key = RSA.importKey(key_pair.exportKey())&gt;&gt;&gt; # æ˜æ–‡&gt;&gt;&gt; message1 = 'hello, world!'.encode()&gt;&gt;&gt; # åŠ å¯†æ•°æ®&gt;&gt;&gt; message2 = pub_key.encrypt(message1, None)(b'\\x03\\x86t\\xa0\\x00\\xc4\\xea\\xd2\\x80\\xed\\xa7YN7\\x07\\xff\\x88\\xaa\\x1eW\\x0cmH0\\x06\\xa7\\'\\xbc&lt;w@q\\x8b\\xaf\\xf7:g\\x92{=\\xe2E\\xa5@\\x1as2\\xdd\\xcb\\x8e[\\x98\\x85\\xdf,X\\xecj.U\\xd6\\xa7W&amp;u\\'Uz\"\\x0f\\x0e\\\\&lt;\\xa4\\xfavC\\x93\\xa7\\xbcO\"\\xb9a\\x06]&lt;.\\xc1\\r1}*\\xdf\\xccdqXML\\x93\\x1b\\xe9\\xda\\xdf\\xab|\\xf8\\x18\\xe4\\x99\\xbb\\x7f\\x18}\\xd9\\x9a\\x1e*J\\\\\\xca\\x1a\\xd1\\x85\\xf7t\\x81\\xd95{\\x19\\xc9\\x81\\xb6^}\\x9c5\\xca\\xfe\\xcf\\xc8\\xd8M\\x9a\\x8c-\\xf1t\\xee\\xf9\\x12\\x90\\x01\\xca\\x92~\\x00c5qg5g\\x95&amp;\\x10\\xb1\\x0b\\x1fo\\x95\\xf2\\xbc\\x8d\\xf3f\"@\\xc5\\x188\\x0bX\\x9cfo\\xea\\x97\\x05@\\xe5\\xb2\\xda\\xb8\\x97a\\xa5w\\xa8\\x01\\x9a\\xa5N\\xc4\\x81\\x8d\\x0f&lt;\\x96iU\\xd3\\x95\\xacJZs\\xab_ #\\xee\\xf9\\x0f\\xf2\\x12\\xdb\\xfc\\xf8g\\x18v\\x02k+\\xda\\x16Si\\xbf\\xbb\\xec\\xf7w\\x90\\xde\\xae\\x97\\t\\xed{}5\\xd0',)&gt;&gt;&gt; # è§£å¯†æ•°æ®&gt;&gt;&gt; message3 = pri_key.decrypt(message2)'hello, world!' å®‰å…¨ç›¸å…³å»ºè®® è™½ç„¶ Django è‡ªå¸¦äº†ç¨³å›ºçš„å®‰å…¨ä¿æŠ¤æªæ–½ï¼Œä½†æ˜¯ä¾ç„¶è¦é‡‡ç”¨æ­£ç¡®çš„æ–¹å¼éƒ¨ç½²åº”ç”¨ç¨‹åºï¼Œåˆ©ç”¨ Web æœåŠ¡å™¨ã€æ“ä½œç³»ç»Ÿå’Œå…¶ä»–ç»„ä»¶æä¾›çš„å®‰å…¨ä¿æŠ¤æªæ–½ã€‚ è®°å¾—æŠŠ Python ä»£ç æ”¾åœ¨ Web æœåŠ¡å™¨çš„æ–‡æ¡£æ ¹ç›®å½•ä¹‹å¤–ï¼Œé¿å…ä»£ç æ„å¤–æ³„éœ²ã€‚ è°¨æ…å¤„ç†ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶ã€‚ Djangoæœ¬èº«æ²¡æœ‰å¯¹è¯·æ±‚æ¬¡æ•°åŠ ä»¥é™åˆ¶ï¼ˆåŒ…æ‹¬éªŒè¯ç”¨æˆ·èº«ä»½çš„è¯·æ±‚ï¼‰ï¼Œä¸ºäº†é˜²æ­¢æš´åŠ›æ”»å‡»å’Œç ´è§£ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å…·æœ‰ä¸€æ¬¡æ¶ˆè´¹æ€§çš„éªŒè¯ç æˆ–å¯¹è¿™ç±»è¯·æ±‚çš„æ¬¡æ•°è¿›è¡Œé™åˆ¶ã€‚ å°†ç¼“å­˜ç³»ç»Ÿã€æ•°æ®åº“æœåŠ¡å™¨ä»¥åŠé‡è¦çš„èµ„æºæœåŠ¡å™¨éƒ½æ”¾åœ¨ç¬¬äºŒçº§é˜²ç«å¢™ä¹‹åï¼ˆä¸è¦æ”¾åœ¨DMZï¼‰ã€‚","link":"/2018/05/02/DjangoçŸ¥è¯†ç‚¹æ¦‚è¿°6/"},{"title":"Mac FTPç›¸å…³æ“ä½œ","text":"å®‰è£…ftpå‘½ä»¤123brew install telnet brew install inetutils brew link --overwrite inetutils ftpçš„ä½¿ç”¨ç™»å½• æ–¹å¼ä¸€ ftp server-ip æ–¹å¼äºŒ 12345678910111213ftpftp&gt; open server-ip#ftpç™»å½•è¿˜æœ‰å…¶ä»–æ–¹å¼ï¼Œè¿™é‡Œåªä»‹ç»ä¸¤ç§ã€‚#ä»¥ä¸Šå‘½ä»¤ä¹‹åï¼ŒæŒ‰æç¤ºè¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚#å½“å‡ºç°ä»¥ä¸‹æ—¥å¿—ï¼Œè¡¨ç¤ºè¿æ¥æˆåŠŸ#Connected to server-ip#220 (vsFTPd 2.2.2)#Name (10.0.5.11:lipengxiang): username#331 Please specify the password.#Password:#230 Login successful.#æ­¤æ—¶å·²ç»è¿›å…¥ftpå‘½ä»¤è¡Œç¯å¢ƒï¼Œæ­¤æ—¶å¦‚æœè¿›è¡Œæœ¬åœ°ç›®å½•æˆ–æ–‡ä»¶æ“ä½œå‘½ä»¤å°†å‘ç”Ÿä¸€äº›å˜åŒ–ï¼Œå¦‚ä¸‹ï¼š æœåŠ¡å™¨æ“ä½œ æœ¬åœ°ç›®å½•æ“ä½œ cd ç›®å½•åï¼ˆè¿›å…¥æœåŠ¡å™¨ç›®å½•ï¼‰ lcd ç›®å½•åï¼ˆè¿›å…¥æœ¬æœºç›®å½•ï¼‰ cd \\ï¼ˆé€€åˆ°æœåŠ¡å™¨æ ¹ç›®å½•ï¼‰ lcd \\ï¼ˆé€€åˆ°æœ¬æœºæ ¹ç›®å½•ï¼‰ cd ..ï¼ˆé€€å›åˆ°ä¸Šä¸€çº§ç›®å½•ï¼‰ lcd ..ï¼ˆé€€å›åˆ°ä¸Šä¸€çº§ç›®å½•ï¼‰ pwd !pwd ls !ls ä¸Šä¼ æ–‡ä»¶server-filename å¿…é¡»æ˜¾å¼æŒ‡æ˜ï¼Œå¦åˆ™æŠ¥é”™ï¼šæ–‡ä»¶åæ— æ•ˆ ftp&gt; put /local/path/filename /remote/path/server-filename æ³¨æ„ï¼šå‘ftpæœåŠ¡å™¨ä¸Šä¼ æ–‡ä»¶æœ‰ä¸¤ç§æ¨¡å¼ å­—ç¬¦æ¨¡å¼ï¼ˆASCIIï¼‰å’ŒäºŒè¿›åˆ¶æ¨¡å¼ï¼ˆBinaryï¼‰ã€‚é»˜è®¤æ˜¯ASCIIæ¨¡å¼ã€‚ä¸€èˆ¬ä¸Šä¼ éæ–‡æœ¬æ–‡ä»¶è¦ç”¨äºŒè¿›åˆ¶æ¨¡å¼ã€‚ç™»å½•ftpåï¼Œä¸Šä¼ æ–‡ä»¶å‰ï¼Œåœ¨ftp&gt;çŠ¶æ€ä¸‹è¾“å…¥binå³å¯(åˆ‡æ¢ä¸ºäºŒè¿›åˆ¶æ¨¡å¼)ã€‚åœ¨ftp&gt;çŠ¶æ€ä¸‹è¾“å…¥asc(åˆ‡æ¢ä¸ºASCIIæ¨¡å¼) æ‰¹é‡ä¸Šä¼ ä½¿ç”¨é€šåŒ¹ç¬¦æ‰¹é‡ä¸Šä¼ æ–‡ä»¶è‡³æœåŠ¡å™¨ï¼Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹ï¼Œmput ä¸æ”¯æŒç»å¯¹è·¯å¾„ï¼Œåº”è¯¥å…ˆè¿›å…¥è¦ä¸Šä¼ çš„æœ¬åœ°æ–‡ä»¶å¤¹åŠè¿œç¨‹æ–‡ä»¶å¤¹æ‰å¯ä»¥æ“ä½œã€‚12345ftp&gt; cd /remote/pathftp&gt; lcd /local/pathftp&gt; mput file*local: file.jar remote: file.jar #æ³¨æ„ï¼šftpä¸æ”¯æŒæ–‡ä»¶å¤¹ä¸Šä¼  æ–‡ä»¶ä¸‹è½½ä¸‹è½½æœåŠ¡å™¨ä¸­çš„æ–‡ä»¶è‡³æœ¬åœ°ç›®å½•ä¸­ï¼Œå¯é€‰æŒ‡å®šä¸‹è½½è‡³æœ¬åœ°ç›®å½•åçš„æ–‡ä»¶åç§°ï¼Œä¾ç„¶è¦æ±‚æå‰è¿›å…¥å¾…ä¸‹è½½æ–‡ä»¶çš„ç›®å½•ä¸­ã€‚123ftp&gt; get remote-filename local-filenamelocal-filenameå¯çœç•¥ï¼Œé»˜è®¤æœ¬åœ°å½“å‰è·¯å¾„ã€‚#æ³¨æ„ï¼šå…³äºä¸‹è½½æ–‡ä»¶å¤¹ï¼Œ FTP å‘½ä»¤ä¸æ”¯æŒæ–‡ä»¶å¤¹ä¸‹è½½æ“ä½œã€‚ åˆ é™¤æ–‡ä»¶ftp&gt; delete /remote/path/filenameåœ¨æœåŠ¡å™¨ä¸­åˆ é™¤æ–‡ä»¶ï¼Œå¯ä»¥æŒ‡å®šç»å¯¹è·¯å¾„ï¼Œç›¸å¯¹å…¶ä»–å‘½ä»¤æ˜¾å¾—æ¯”è¾ƒçµæ´»ã€‚","link":"/2017/01/06/Mac-FTPç›¸å…³æ“ä½œ/"},{"title":"Gitå…¥é—¨","text":"git - ç®€æ˜“æŒ‡å—Gitæ˜¯ä¸€ä¸ªåˆ†æ•£å¼ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ã€‚æœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æ›´å¥½çš„ç®¡ç†Linuxå†…æ ¸å¼€å‘è€Œè®¾è®¡ã€‚ä¸CVSã€ Subversionç­‰é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ä¸åŒï¼ŒGitä¸éœ€è¦æœåŠ¡å™¨ç«¯è½¯ä»¶å°±å¯ä»¥å‘æŒ¥ç‰ˆæœ¬æ§åˆ¶çš„ä½œç”¨ã€‚ ä½¿å¾—ä»£ç çš„ç»´æŠ¤å’Œå‘å¸ƒå˜å¾—éå¸¸æ–¹ä¾¿ã€‚ Gitåº“ç›®å½•ç»“æ„123456hooks : å­˜å‚¨é’©å­æ–‡ä»¶å¤¹logs : å­˜å‚¨æ—¥å¿—æ–‡ä»¶å¤¹refs : å­˜å‚¨æŒ‡å‘å„ä¸ªåˆ†æ”¯æŒ‡é’ˆçš„(SHA-1)çš„æ–‡ä»¶å¤¹objects : å­˜å‚¨gitå¯¹è±¡config : å­˜å‚¨é…ç½®æ–‡ä»¶HEAD : æŒ‡å‘å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆæ–‡ä»¶è·¯å¾„ å®‰è£…ä¸‹è½½ git OSX ç‰ˆä¸‹è½½ git Windows ç‰ˆä¸‹è½½ git Linux ç‰ˆåˆ›å»ºæ–°ä»“åº“åˆ›å»ºæ–°æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€ï¼Œç„¶åæ‰§è¡Œgit initä»¥åˆ›å»ºæ–°çš„ git ä»“åº“ã€‚ æ£€å‡ºä»“åº“æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä»¥åˆ›å»ºä¸€ä¸ªæœ¬åœ°ä»“åº“çš„å…‹éš†ç‰ˆæœ¬ï¼š1git clone /path/to/repository å¦‚æœæ˜¯è¿œç«¯æœåŠ¡å™¨ä¸Šçš„ä»“åº“ï¼Œä½ çš„å‘½ä»¤ä¼šæ˜¯è¿™ä¸ªæ ·å­ï¼šgit clone username@host:/path/to/repository å·¥ä½œæµä½ çš„æœ¬åœ°ä»“åº“ç”± git ç»´æŠ¤çš„ä¸‰æ£µâ€œæ ‘â€ç»„æˆã€‚ç¬¬ä¸€ä¸ªæ˜¯ä½ çš„ å·¥ä½œç›®å½•ï¼Œå®ƒæŒæœ‰å®é™…æ–‡ä»¶ï¼›ç¬¬äºŒä¸ªæ˜¯ ç¼“å­˜åŒºï¼ˆIndexï¼‰ï¼Œå®ƒåƒä¸ªç¼“å­˜åŒºåŸŸï¼Œä¸´æ—¶ä¿å­˜ä½ çš„æ”¹åŠ¨ï¼›æœ€åæ˜¯ HEADï¼ŒæŒ‡å‘ä½ æœ€è¿‘ä¸€æ¬¡æäº¤åçš„ç»“æœã€‚ æ·»åŠ ä¸æäº¤ä½ å¯ä»¥è®¡åˆ’æ”¹åŠ¨ï¼ˆæŠŠå®ƒä»¬æ·»åŠ åˆ°ç¼“å­˜åŒºï¼‰ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š12git add &lt;filename&gt;git add * è¿™æ˜¯ git åŸºæœ¬å·¥ä½œæµç¨‹çš„ç¬¬ä¸€æ­¥ï¼›ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ä»¥å®é™…æäº¤æ”¹åŠ¨ï¼š1git commit -m &quot;ä»£ç æäº¤ä¿¡æ¯&quot; ç°åœ¨ï¼Œä½ çš„æ”¹åŠ¨å·²ç»æäº¤åˆ°äº† HEADï¼Œä½†æ˜¯è¿˜æ²¡åˆ°ä½ çš„è¿œç«¯ä»“åº“ã€‚ æ¨é€æ”¹åŠ¨ä½ çš„æ”¹åŠ¨ç°åœ¨å·²ç»åœ¨æœ¬åœ°ä»“åº“çš„ HEAD ä¸­äº†ã€‚æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä»¥å°†è¿™äº›æ”¹åŠ¨æäº¤åˆ°è¿œç«¯ä»“åº“ï¼šgit push origin master å¯ä»¥æŠŠ master æ¢æˆä½ æƒ³è¦æ¨é€çš„ä»»ä½•åˆ†æ”¯ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰å…‹éš†ç°æœ‰ä»“åº“ï¼Œå¹¶æ¬²å°†ä½ çš„ä»“åº“è¿æ¥åˆ°æŸä¸ªè¿œç¨‹æœåŠ¡å™¨ï¼Œä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ·»åŠ ï¼šgit remote add origin &lt;server&gt;å¦‚æ­¤ä½ å°±èƒ½å¤Ÿå°†ä½ çš„æ”¹åŠ¨æ¨é€åˆ°æ‰€æ·»åŠ çš„æœåŠ¡å™¨ä¸Šå»äº†ã€‚ åˆ†æ”¯åˆ†æ”¯æ˜¯ç”¨æ¥å°†ç‰¹æ€§å¼€å‘ç»ç¼˜å¼€æ¥çš„ã€‚åœ¨ä½ åˆ›å»ºä»“åº“çš„æ—¶å€™ï¼Œmaster æ˜¯â€œé»˜è®¤çš„â€ã€‚åœ¨å…¶ä»–åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘ï¼Œå®Œæˆåå†å°†å®ƒä»¬åˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¸Šã€‚ åˆ›å»ºä¸€ä¸ªå«åšâ€œfeature_xâ€çš„åˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢è¿‡å»ï¼šgit checkout -b feature_x åˆ‡æ¢å›ä¸»åˆ†æ”¯ï¼šgit checkout master å†æŠŠæ–°å»ºçš„åˆ†æ”¯åˆ æ‰ï¼šgit branch -d feature_x é™¤éä½ å°†åˆ†æ”¯æ¨é€åˆ°è¿œç«¯ä»“åº“ï¼Œä¸ç„¶è¯¥åˆ†æ”¯å°±æ˜¯ ä¸ä¸ºä»–äººæ‰€è§çš„ï¼šgit push origin &lt;branch&gt; æ›´æ–°ä¸åˆå¹¶è¦æ›´æ–°ä½ çš„æœ¬åœ°ä»“åº“è‡³æœ€æ–°æ”¹åŠ¨ï¼Œæ‰§è¡Œï¼šgit pullä»¥åœ¨ä½ çš„å·¥ä½œç›®å½•ä¸­ è·å–ï¼ˆfetchï¼‰ å¹¶ åˆå¹¶ï¼ˆmergeï¼‰ è¿œç«¯çš„æ”¹åŠ¨ã€‚ è¦åˆå¹¶å…¶ä»–åˆ†æ”¯åˆ°ä½ çš„å½“å‰åˆ†æ”¯ï¼ˆä¾‹å¦‚ masterï¼‰ï¼Œæ‰§è¡Œï¼šgit merge &lt;branch&gt;ä¸¤ç§æƒ…å†µä¸‹ï¼Œgit éƒ½ä¼šå°è¯•å»è‡ªåŠ¨åˆå¹¶æ”¹åŠ¨ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè‡ªåŠ¨åˆå¹¶å¹¶éæ¬¡æ¬¡éƒ½èƒ½æˆåŠŸï¼Œå¹¶å¯èƒ½å¯¼è‡´ å†²çªï¼ˆconflictsï¼‰ã€‚ è¿™æ—¶å€™å°±éœ€è¦ä½ ä¿®æ”¹è¿™äº›æ–‡ä»¶æ¥äººè‚‰åˆå¹¶è¿™äº› å†²çªï¼ˆconflictsï¼‰ äº†ã€‚æ”¹å®Œä¹‹åï¼Œ ä½ éœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä»¥å°†å®ƒä»¬æ ‡è®°ä¸ºåˆå¹¶æˆåŠŸï¼šgit add &lt;filename&gt; åœ¨åˆå¹¶æ”¹åŠ¨ä¹‹å‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼šgit diff &lt;source_branch&gt; &lt;target_branch&gt; æ ‡ç­¾åœ¨è½¯ä»¶å‘å¸ƒæ—¶åˆ›å»ºæ ‡ç­¾ï¼Œæ˜¯è¢«æ¨èçš„ã€‚è¿™æ˜¯ä¸ªæ—§æœ‰æ¦‚å¿µï¼Œåœ¨ SVN ä¸­ä¹Ÿæœ‰ã€‚å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä»¥åˆ›å»ºä¸€ä¸ªå«åš 1.0.0 çš„æ ‡ç­¾ï¼šgit tag 1.0.0 1b2e1d63ff1b2e1d63ff æ˜¯ä½ æƒ³è¦æ ‡è®°çš„æäº¤ ID çš„å‰ 10 ä½å­—ç¬¦ã€‚ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è·å–æäº¤ IDï¼šgit logä½ ä¹Ÿå¯ä»¥ç”¨è¯¥æäº¤ ID çš„å°‘ä¸€äº›çš„å‰å‡ ä½ï¼Œåªè¦å®ƒæ˜¯å”¯ä¸€çš„ã€‚ æ›¿æ¢æœ¬åœ°æ”¹åŠ¨å‡å¦‚ä½ åšé”™äº‹ï¼ˆè‡ªç„¶ï¼Œè¿™æ˜¯ä¸å¯èƒ½çš„ï¼‰ï¼Œä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ›¿æ¢æ‰æœ¬åœ°æ”¹åŠ¨ï¼šgit checkout -- &lt;filename&gt;æ­¤å‘½ä»¤ä¼šä½¿ç”¨ HEAD ä¸­çš„æœ€æ–°å†…å®¹æ›¿æ¢æ‰ä½ çš„å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶ã€‚å·²æ·»åŠ åˆ°ç¼“å­˜åŒºçš„æ”¹åŠ¨ï¼Œä»¥åŠæ–°æ–‡ä»¶ï¼Œéƒ½ä¸å—å½±å“ã€‚ å‡å¦‚ä½ æƒ³è¦ä¸¢å¼ƒä½ æ‰€æœ‰çš„æœ¬åœ°æ”¹åŠ¨ä¸æäº¤ï¼Œå¯ä»¥åˆ°æœåŠ¡å™¨ä¸Šè·å–æœ€æ–°çš„ç‰ˆæœ¬å¹¶å°†ä½ æœ¬åœ°ä¸»åˆ†æ”¯æŒ‡å‘åˆ°å®ƒï¼š12git fetch origingit reset --hard origin/master æœ‰ç”¨çš„è´´å£«å†…å»ºçš„å›¾å½¢åŒ– gitï¼šgitkå½©è‰²çš„ git è¾“å‡ºï¼šgit config color.ui trueæ˜¾ç¤ºå†å²è®°å½•æ—¶ï¼Œåªæ˜¾ç¤ºä¸€è¡Œæ³¨é‡Šä¿¡æ¯ï¼šgit config format.pretty onelineäº¤äº’åœ°æ·»åŠ æ–‡ä»¶è‡³ç¼“å­˜åŒºï¼šgit add -i ä¸ºäº†ä½¿Gitæ›´å¥½ç”¨ï¼Œå¯¹Gitåšä¸€äº›é…ç½®ï¼Œ.gitconfigæ–‡ä»¶ä¸­å¯ä»¥è®¾ç½®è‡ªå®šä¹‰å‘½ä»¤ç­‰ï¼Œ.gitignore æ–‡ä»¶æ˜¯é»˜è®¤è¢«å¿½ç•¥ç‰ˆæœ¬ç®¡ç†çš„æ–‡ä»¶ã€‚1234567891011121314151617181920212223242526272829303132333435[push] default = current[color] ui = auto[alias] aa = add --all ap = add --patch ca = commit --amend ci = commit -v co = checkout br = branch create-branch = !sh -c 'git push origin HEAD:refs/heads/$1 &amp;&amp; git fetch origin &amp;&amp; git branch --track $1 origin/$1 &amp;&amp; cd . &amp;&amp; git checkout $1' - delete-branch = !sh -c 'git push origin :refs/heads/$1 &amp;&amp; git branch -D $1' - merge-branch = !git checkout master &amp;&amp; git merge @{-1} pr = !hub pull-request st = status up = !git fetch origin &amp;&amp; git rebase origin/master[core] excludesfile = ~/.gitignore autocrlf = input[merge] ff = only[include] path = .gitconfig.local[commit] template = ~/.gitmessage[fetch] prune = true[user] name = zgs225 email = zgs225@gmail.com[credential] helper = osxkeychain[github] user = zgs225 åŸæ–‡","link":"/2017/01/27/Gitå…¥é—¨/"},{"title":"Macåº”ç”¨shellå¯åŠ¨","text":"ç»™Appèµ·åˆ«å1234vim ~/.zshrc#ç»™Appèµ·åˆ«åalias vscode=\"/Applications/Visual\\ Studio\\ Code.app/Contents/Resources/app/bin/code\"source ~/.zshrc ä½¿ç”¨åˆ«å12vscode #å¯åŠ¨VSCodevscode test.py #ç”¨VSCodeæ‰“å¼€æ–‡ä»¶","link":"/2017/02/06/Macåº”ç”¨shellå¯åŠ¨/"},{"title":"Nginxå­¦ä¹ ä¸€","text":"nginxçš„å®‰è£…1234conf é…ç½®æ–‡ä»¶html ç½‘é¡µæ–‡ä»¶logs logæ—¥å¿—sbin äºŒè¿›åˆ¶æ–‡ä»¶ nginxå…¶ä»–å‘½ä»¤1234ps aux|grep nginx æŸ¥çœ‹nginxcat nginx.pid æŸ¥çœ‹è¿›ç¨‹å·killall -9 nginx æ€æ­»è¿›ç¨‹kill -USR2 è¿›ç¨‹å· æ§åˆ¶å‘½ä»¤123456kill -USR2 cat nginx.pid #ä¸æ˜¯æ€è¿›ç¨‹ç›¸å½“äºé‡å¯nginx -t #æ£€æµ‹é…ç½®æ˜¯å¦æˆåŠŸnginx -s reload #é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶nginx -s stop #ç«‹å³åœæ­¢nginx -s quit #ä¼˜é›…çš„åœæ­¢ åŠå½“å‰è®¿é—®çš„è¿›ç¨‹ä¸åŠ è½½ğŸ†•é…ç½®nginx -s reopen #é‡æ–°åŠ è½½æ—¥å¿—é…ç½® é…ç½®æ–‡ä»¶nginx.conf12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758#æŒ‡å®šç”¨ä»€ä¹ˆç”¨æˆ·å»è·‘work processï¼Œé»˜è®¤ç”¨linuxä¸‹çš„nobodyç”¨æˆ· #user nobody; #å·¥ä½œè¿›ç¨‹æ•°,å¯ä»¥è®¾ç½®ä¸ºauto,nginxä¼šæ¢æµ‹cpuæ ¸å¿ƒæ•°ï¼Œå¯åŠ¨ç›¸åŒæ•°é‡çš„work processworker_processes 1; #é”™è¯¯æ—¥å¿—å­˜æ”¾ä½ç½®.æ—¢ç„¶å«é”™è¯¯æ—¥å¿—ï¼Œé€šå¸¸åº”è®¾ç½®çº§åˆ«ä¸ºwarn|error#error_log logs/error.log;#error_log logs/error.log notice;#error_log logs/error.log info;#ä¸»è¿›ç¨‹pidæ–‡ä»¶å­˜æ”¾çš„åœ°ç‚¹#pid logs/nginx.pid;#eventsæ¨¡å—åªèƒ½åœ¨mainä¸Šä¸‹æ–‡ä¸­ï¼Œå¹¶ä¸”åªèƒ½é…ç½®ä¸€ä¸ªï¼Œ#å…¶ä¸­å¯ä»¥åŒ…å«7ç§ç®€å•æŒ‡ä»¤events { worker_connections 1024; #æ¯ä¸ªworker processå¯ä»¥æ”¯æŒçš„æœ€å¤§è¿æ¥æ•°ï¼Œç”Ÿæˆç¯å¢ƒæ ¹æ®éœ€è¦å¯ä»¥è®¾ç½®æ›´å¤§ä¸€äº›ï¼ˆ9000ï¼‰ #å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ­¤æ•°å­—æ˜¯åŒ…æ‹¬äº†åå‘ä»£ç†ç­‰ç­‰æ‰€éœ€è¦çš„è¿æ¥æ•°åœ¨å†…ï¼Œå¹¶ä¸ä»…ä»…æ˜¯æŒ‡webç«¯å‘èµ·çš„è¿æ¥æ•° #multi_accept on #æ˜¯å¦workè¿›ç¨‹ä¸€æ¬¡åªæ¥æ”¶ä¸€ä¸ªè¿æ¥ã€‚å¹¶å‘è¾ƒå¤§æ—¶åº”æ‰“å¼€ #use epoll #é€‰æ‹©åº•å±‚å¤„ç†è¿æ¥çš„æ¨¡å‹ï¼ŒLinuxä¸‹é»˜è®¤epollï¼Œæ— éœ€è‡ªå·±è®¾ç½® #accept_mutex #accept_mutex_delay #ä¸Šé¢2å‚æ•°æ˜¯è¡¨ç¤ºæ˜¯å¦è®©workerè¿›ç¨‹ä½¿ç”¨one by oneçš„å·¥ä½œæ¨¡å¼ï¼Œé»˜è®¤æ˜¯å…³é—­çš„ã€‚ #å¼€å¯çš„æ—¶å€™ï¼Œåœ¨ä½å¹¶å‘çš„æ—¶å€™éå·¥ä½œçŠ¶æ€ä¸‹çš„worker processå°†ä¼‘çœ ï¼Œé¿å…æµªè´¹èµ„æºã€‚}#nginxé…ç½®çš„â€œæ ¸å¿ƒâ€http { #includeæŒ‡ä»¤ç”¨äºåŠ è½½å•ç‹¬çš„é…ç½®æ–‡ä»¶æ¨¡å—ï¼Œé¿å…è¿‡äºè‡ƒè‚¿ #è€Œè¿™é‡Œçš„mime.typesè¡¨ç¤ºæ­¤æ–‡ä»¶åº”è¯¥åœ¨nginx.confçš„åŒçº§ç›®å½•ä¸‹ã€‚ #å…¶ä¸­çš„typesæ¨¡å—ç”¨äºè¡¨ç¤ºnginxå“åº”çš„æ–‡ä»¶åç¼€åå’Œcontent-typeç›´æ¥çš„æ˜ å°„ #æ¯”å¦‚ä½ æƒ³è¦è®©æµè§ˆå™¨è¯†åˆ«ä½ è¿”å›çš„mytxt.dataæ–‡ä»¶ä¸ºæ–‡æœ¬å†…å®¹åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºä¸ºæ–‡æœ¬,æ·»åŠ  text/plain data; include mime.types; #ä¸Šé¢çš„åŒ¹é…å¤±è´¥åï¼Œé»˜è®¤ç»™çš„å“åº”å†…å®¹ç±»å‹ default_type application/octet-stream; #log_format main '$remote_addr - $remote_user [$time_local] \"$request\" ' # '$status $body_bytes_sent \"$http_referer\" ' # '\"$http_user_agent\" \"$http_x_forwarded_for\"'; #access_log logs/access.log main; #ioæ—¶ä¸é˜»å¡å¤„ç†connectionï¼Œåœ¨ä¼ è¾“å¤§æ–‡ä»¶æ—¶ä½¿ç”¨ï¼Œç»†èŠ‚å¾…ç ”ç©¶ sendfile on; #tcp_nopush on;#è²Œä¼¼æ„æ€æ˜¯åªæœ‰åœ¨sendfileå¯ç”¨æ—¶ä½¿ç”¨ï¼Œè®©nginxå‘åŒ…çš„æ—¶å€™æ»¡åŒ…å‘é€ï¼ˆä¸æ˜ç™½ï¼‰é€šå¸¸ä¸ä½¿ç”¨ #è¿æ¥idleçš„æœ€å¤§æ—¶é—´ï¼Œç°ä»£æµè§ˆå™¨å¾€å¾€åœ¨ä¸€ä¸ªé¡µé¢åŒæ—¶æ‰“å¼€å¤šä¸ªconnectionä¼ è¾“js,css,htmlç­‰ã€‚ #è®¾ç½®æœ€å¤§idleæ—¶é—´é¿å…è¿‡é•¿ç­‰å¾…æµªè´¹connection #keepalive_timeout 0; keepalive_timeout 65; #å¼€å¯responseå“åº”å‹ç¼©ï¼Œå¯ä»¥èŠ‚çœå¸¦å®½ï¼Œé»˜è®¤å…³é—­ã€‚ç»†èŠ‚å¾…ç ”ç©¶ #gzip on; #server ä¸Šä¸‹æ–‡ä»£è¡¨ä¸€ä¸ªè™šæ‹Ÿä¸»æœºï¼Œå¯ä»¥æœ‰å¤šä¸ªï¼Œå†…åµŒåœ¨æ¯”å¦‚http,mailæ¨¡å—ä¸­ server { listen 80; server_name myapp.info; #å¦‚æœæ˜¯åœ¨æœ¬åœ°è¯•éªŒï¼Œè¦ä¿®æ”¹/etc/hostsçš„åŸŸåæ˜ å°„åˆ°æœ¬æœº location / { #locationçš„åŒ¹é…è§„åˆ™too trickyï¼Œå•å¼€ä¸€ç¯‡blog æ³¨æ„åŒ¹é…çš„æ–‡ä»¶å¤¹çš„è®¿é—®æƒé™ root /usr/local/nginx; } } } 12worker_processes ä¸€èˆ¬ä¸ºCPUæ•°Ã—æ ¸æ•°å…³é”®è¿˜éœ€çœ‹ç½‘å¡çš„ååé‡ serveré…ç½®è™šæ‹Ÿä¸»æœº123456Apacheä¸‹é…ç½®&lt;virturlhost&gt; servername åŸŸå documentroot è·¯å¾„&lt;/virturlhost&gt;è¯´æ˜è¯¥åŸŸåæŒ‡å‘è·¯å¾„å°±è¡Œäº† 12345678nginxé…ç½®server { listen 80; server_name åŸŸå; location / { root æ–‡ä»¶è·¯å¾„; index index.php index.html; }","link":"/2017/01/23/Nginxå­¦ä¹ ä¸€/"},{"title":"Macå¼€å‘é…ç½®","text":"Homebrewå®‰è£…123# OSXç³»ç»ŸåŸºæœ¬ä¸Šéƒ½è‡ªå¸¦Ruby1.9# æ‰€ä»¥æ— éœ€å…ˆå®‰è£…Rubyï¼Œä½†æ˜¯ä¹‹åæˆ‘ä»¬éœ€è¦ç®¡ç†Rubyruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\" brewå¸¸ç”¨å‘½ä»¤12345678910brew list # æŸ¥çœ‹å·²ç»å®‰è£…çš„åŒ…brew update # æ›´æ–°Homebrewè‡ªèº«brew doctor # è¯Šæ–­å…³äºHomebrewçš„é—®é¢˜(Homebrew æœ‰é—®é¢˜æ—¶è¯·ç”¨å®ƒ)brew cleanup # æ¸…ç†è€ç‰ˆæœ¬è½¯ä»¶åŒ…æˆ–è€…æ— ç”¨çš„æ–‡ä»¶brew show ${formula} # æŸ¥çœ‹åŒ…ä¿¡æ¯brew search ${formula} # æŒ‰åç§°æœç´¢brew upgrade ${formula} # å‡çº§è½¯ä»¶åŒ…brew install ${formula} # æŒ‰åç§°å®‰è£…brew uninstall ${formula} # æŒ‰åç§°å¸è½½brew pin/unpin ${formula} # é”å®šæˆ–è€…è§£é”è½¯ä»¶åŒ…ç‰ˆæœ¬ï¼Œé˜²æ­¢è¯¯å‡çº§ ZSHæŸ¥çœ‹ç³»ç»Ÿæ”¯æŒçš„shell1cat /etc/shells åˆ‡æ¢é»˜è®¤shell12345678910111213# åˆ‡æ¢zshä¸ºé»˜è®¤shellchsh -s $(which zsh)#å¦‚æœä½ æƒ³ä½¿ç”¨æœ€æ–°çš„zshï¼Œä½ å¯ä»¥ä½¿ç”¨Homebrewï¼Œæ­¤æ–¹æ³•ä¹Ÿä¼šä¿ç•™åŸç”Ÿçš„zshï¼Œé˜²æ­¢ä½ åœ¨æŸä¸ª æ—¶åˆ»éœ€è¦å®ƒã€‚#æŸ¥çœ‹æœ€æ–°zshä¿¡æ¯brew info zsh# å®‰è£…zshbrew install --disable-etcdir zsh# æ·»åŠ shellè·¯å¾„è‡³/etc/shellsæ–‡ä»¶ä¸­# å°† /usr/local/bin/zsh æ·»åŠ åˆ°ä¸‹é¢æ–‡ä»¶ä¸­sudo vim /etc/shells# æ›´æ¢é»˜è®¤shellchsh -s /usr/local/bin/zsh å¾…ç»­","link":"/2017/01/26/Macå¼€å‘é…ç½®/"},{"title":"Nginxå­¦ä¹ äºŒ","text":"æ—¥å¿—ç®¡ç† 12345678910111213141516171819202122232425262728293031http{ log_format main '$remote_addr - $remote_user [$time_local] \"$request\" ' '$status $body_bytes_sent \"$http_referer\" ' '\"$http_user_agent\" \"$http_x_forwarded_for\"'; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; #gzip on; server { listen 5000; server_name localhost; #charset koi8-r; #access_log logs/host.access.log main; location / { #è‡ªå®šä¹‰æ—¥å¿— è·¯å¾„ã€æ ¼å¼ access_log logs/php.log main; root /workspace/WebServer/php; index index.html index.htm index.php; } }} PathInfo12345678 location ~ \\.php(.*)$ {#ä½¿ç”¨æ­£åˆ™æŠ“å–è·¯å¾„ root /Users/dingyd/workspace/WebServer/php; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param PATH_INFO $1;#ç»™åç«¯æœåŠ¡å™¨ä¼ é€’å‚æ•° include fastcgi_params;} Urlé‡å†™(æ­£åˆ™è¡¨è¾¾å¼) æ”¯æŒç®€å•çš„ifåˆ¤æ–­ ä¾‹å¦‚-eè¡¨ç¤ºæ–‡ä»¶æ˜¯å¦å­˜åœ¨1234567 location / { #è‡ªå®šä¹‰æ—¥å¿— è·¯å¾„ã€æ ¼å¼ access_log logs/php.log main; root /workspace/WebServer/php; index index.html index.htm index.php; rewrite (&lt;*)$/index.php/$1; #å°†www.baidu.com/user/login -&gt; www.baidu.com/index,php/user/login } try_files1234567 location / { #è‡ªå®šä¹‰æ—¥å¿— è·¯å¾„ã€æ ¼å¼ access_log logs/php.log main; root /workspace/WebServer/php; index index.html index.htm index.php; try_files $uri /index.php/$url; #å°è¯•www.baidu.com/user/loginæ˜¯å¦å­˜åœ¨æ–‡ä»¶å¤¹ å¦‚æœä¸å­˜åœ¨åˆ™æŒ‡å‘www.baidu.com/index,php/user/login } åå‘ä»£ç†12345## åŠ¨é™åˆ†ç¦» location ~ \\.(jpg|png|jpeg|gif) { proxy_set_header X-Forwarded_For $remote_addr;#ä»£ç†åœ°å€ proxy_pass https://ip:port;} é›†ç¾¤ä¸è´Ÿè½½å‡è¡¡","link":"/2017/01/29/Nginxå­¦ä¹ äºŒ/"},{"title":"NoSQL-Redis","text":"NoSQLæ•°æ®åº“æŒ‰ç…§å…¶å­˜å‚¨ç±»å‹å¯ä»¥å¤§è‡´åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š ç±»å‹ éƒ¨åˆ†ä»£è¡¨ ç‰¹ç‚¹ åˆ—æ—æ•°æ®åº“ HBaseCassandraHypertable é¡¾åæ€ä¹‰æ˜¯æŒ‰åˆ—å­˜å‚¨æ•°æ®çš„ã€‚æœ€å¤§çš„ç‰¹ç‚¹æ˜¯æ–¹ä¾¿å­˜å‚¨ç»“æ„åŒ–å’ŒåŠç»“æ„åŒ–æ•°æ®ï¼Œæ–¹ä¾¿åšæ•°æ®å‹ç¼©ï¼Œå¯¹é’ˆå¯¹æŸä¸€åˆ—æˆ–è€…æŸå‡ åˆ—çš„æŸ¥è¯¢æœ‰éå¸¸å¤§çš„I/Oä¼˜åŠ¿ï¼Œé€‚åˆäºæ‰¹é‡æ•°æ®å¤„ç†å’Œå³æ—¶æŸ¥è¯¢ã€‚ æ–‡æ¡£æ•°æ®åº“ MongoDBCouchDBElasticSearch æ–‡æ¡£æ•°æ®åº“ä¸€èˆ¬ç”¨ç±»JSONæ ¼å¼å­˜å‚¨æ•°æ®ï¼Œå­˜å‚¨çš„å†…å®¹æ˜¯æ–‡æ¡£å‹çš„ã€‚è¿™æ ·ä¹Ÿå°±æœ‰æœºä¼šå¯¹æŸäº›å­—æ®µå»ºç«‹ç´¢å¼•ï¼Œå®ç°å…³ç³»æ•°æ®åº“çš„æŸäº›åŠŸèƒ½ï¼Œä½†ä¸æä¾›å¯¹å‚ç…§å®Œæ•´æ€§å’Œåˆ†å¸ƒäº‹åŠ¡çš„æ”¯æŒã€‚ KVæ•°æ®åº“ DynamoDBRedisLevelDB å¯ä»¥é€šè¿‡keyå¿«é€ŸæŸ¥è¯¢åˆ°å…¶valueï¼Œæœ‰åŸºäºå†…å­˜å’ŒåŸºäºç£ç›˜ä¸¤ç§å®ç°æ–¹æ¡ˆã€‚ å›¾æ•°æ®åº“ Neo4JFlockDBJanusGraph ä½¿ç”¨å›¾ç»“æ„è¿›è¡Œè¯­ä¹‰æŸ¥è¯¢çš„æ•°æ®åº“ï¼Œå®ƒä½¿ç”¨èŠ‚ç‚¹ã€è¾¹å’Œå±æ€§æ¥è¡¨ç¤ºå’Œå­˜å‚¨æ•°æ®ã€‚å›¾æ•°æ®åº“ä»è®¾è®¡ä¸Šï¼Œå°±å¯ä»¥ç®€å•å¿«é€Ÿçš„æ£€ç´¢éš¾ä»¥åœ¨å…³ç³»ç³»ç»Ÿä¸­å»ºæ¨¡çš„å¤æ‚å±‚æ¬¡ç»“æ„ã€‚ å¯¹è±¡æ•°æ®åº“ db4oVersant é€šè¿‡ç±»ä¼¼é¢å‘å¯¹è±¡è¯­è¨€çš„è¯­æ³•æ“ä½œæ•°æ®åº“ï¼Œé€šè¿‡å¯¹è±¡çš„æ–¹å¼å­˜å–æ•°æ®ã€‚ Redisæ¦‚è¿°Redisæ˜¯ä¸€ç§åŸºäºé”®å€¼å¯¹çš„NoSQLæ•°æ®åº“ï¼Œå®ƒæä¾›äº†å¯¹å¤šç§æ•°æ®ç±»å‹ï¼ˆå­—ç¬¦ä¸²ã€å“ˆå¸Œã€åˆ—è¡¨ã€é›†åˆã€æœ‰åºé›†åˆã€ä½å›¾ç­‰ï¼‰çš„æ”¯æŒï¼Œèƒ½å¤Ÿæ»¡è¶³å¾ˆå¤šåº”ç”¨åœºæ™¯çš„éœ€æ±‚ã€‚Rediså°†æ•°æ®æ”¾åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤è¯»å†™æ€§èƒ½æ˜¯éå¸¸æƒŠäººçš„ã€‚ä¸æ­¤åŒæ—¶ï¼ŒRedisä¹Ÿæä¾›äº†æŒä¹…åŒ–æœºåˆ¶ï¼Œèƒ½å¤Ÿå°†å†…å­˜ä¸­çš„æ•°æ®ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šï¼Œåœ¨å‘ç”Ÿæ„å¤–çŠ¶å†µæ—¶æ•°æ®ä¹Ÿä¸ä¼šä¸¢æ‰ã€‚æ­¤å¤–ï¼ŒRedisè¿˜æ”¯æŒé”®è¿‡æœŸã€åœ°ç†ä¿¡æ¯è¿ç®—ã€å‘å¸ƒè®¢é˜…ã€äº‹åŠ¡ã€ç®¡é“ã€Luaè„šæœ¬æ‰©å±•ç­‰åŠŸèƒ½ï¼Œæ€»è€Œè¨€ä¹‹ï¼ŒRedisçš„åŠŸèƒ½å’Œæ€§èƒ½éƒ½éå¸¸å¼ºå¤§ï¼Œå¦‚æœé¡¹ç›®ä¸­è¦å®ç°é«˜é€Ÿç¼“å­˜å’Œæ¶ˆæ¯é˜Ÿåˆ—è¿™æ ·çš„æœåŠ¡ï¼Œç›´æ¥äº¤ç»™Rediså°±å¯ä»¥äº†ã€‚ç›®å‰ï¼Œå›½å†…å¤–å¾ˆå¤šè‘—åçš„ä¼ä¸šå’Œå•†ä¸šé¡¹ç›®éƒ½ä½¿ç”¨äº†Redisï¼ŒåŒ…æ‹¬ï¼šTwitterã€Githubã€StackOverflowã€æ–°æµªå¾®åšã€ç™¾åº¦ã€ä¼˜é…·åœŸè±†ã€ç¾å›¢ã€å°ç±³ã€å”¯å“ä¼šç­‰ã€‚ Redisç®€ä»‹Redisæ˜¯REmote DIctionary Serverçš„ç¼©å†™ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨ANSI Cç¼–å†™çš„é«˜æ€§èƒ½çš„key-valueå­˜å‚¨ç³»ç»Ÿï¼Œä¸å…¶ä»–çš„key-valueå­˜å‚¨ç³»ç»Ÿç›¸æ¯”ï¼ŒRedisæœ‰ä»¥ä¸‹ä¸€äº›ç‰¹ç‚¹ï¼ˆä¹Ÿæ˜¯ä¼˜ç‚¹ï¼‰ï¼š Redisçš„è¯»å†™æ€§èƒ½æé«˜ï¼Œå¹¶ä¸”æœ‰ä¸°å¯Œçš„ç‰¹æ€§ï¼ˆå‘å¸ƒ/è®¢é˜…ã€äº‹åŠ¡ã€é€šçŸ¥ç­‰ï¼‰ã€‚ Redisæ”¯æŒæ•°æ®çš„æŒä¹…åŒ–ï¼ˆRDBå’ŒAOFä¸¤ç§æ–¹å¼ï¼‰ï¼Œå¯ä»¥å°†å†…å­˜ä¸­çš„æ•°æ®ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œé‡å¯çš„æ—¶å€™å¯ä»¥å†æ¬¡åŠ è½½è¿›è¡Œä½¿ç”¨ã€‚ Redisæ”¯æŒå¤šç§æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬ï¼šstringã€hashã€listã€setï¼Œzsetã€bitmapã€hyperloglogç­‰ã€‚ Redisæ”¯æŒä¸»ä»å¤åˆ¶ï¼ˆå®ç°è¯»å†™åˆ†æï¼‰ä»¥åŠå“¨å…µæ¨¡å¼ï¼ˆç›‘æ§masteræ˜¯å¦å®•æœºå¹¶è‡ªåŠ¨è°ƒæ•´é…ç½®ï¼‰ã€‚ Redisæ”¯æŒåˆ†å¸ƒå¼é›†ç¾¤ï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„é€šè¿‡æ°´å¹³æ‰©å±•æ¥æå‡ç³»ç»Ÿçš„æ•´ä½“æ€§èƒ½ã€‚ RedisåŸºäºTCPæä¾›çš„å¯é ä¼ è¾“æœåŠ¡è¿›è¡Œé€šä¿¡ï¼Œå¾ˆå¤šç¼–ç¨‹è¯­è¨€éƒ½æä¾›äº†Rediså®¢æˆ·ç«¯æ”¯æŒã€‚ Redisçš„åº”ç”¨åœºæ™¯ é«˜é€Ÿç¼“å­˜ - å°†ä¸å¸¸å˜åŒ–ä½†åˆç»å¸¸è¢«è®¿é—®çš„çƒ­ç‚¹æ•°æ®æ”¾åˆ°Redisæ•°æ®åº“ä¸­ï¼Œå¯ä»¥å¤§å¤§é™ä½å…³ç³»å‹æ•°æ®åº“çš„å‹åŠ›ï¼Œä»è€Œæå‡ç³»ç»Ÿçš„å“åº”æ€§èƒ½ã€‚ æ’è¡Œæ¦œ - å¾ˆå¤šç½‘ç«™éƒ½æœ‰æ’è¡Œæ¦œåŠŸèƒ½ï¼Œåˆ©ç”¨Redisä¸­çš„åˆ—è¡¨å’Œæœ‰åºé›†åˆå¯ä»¥éå¸¸æ–¹ä¾¿çš„æ„é€ å„ç§æ’è¡Œæ¦œç³»ç»Ÿã€‚ å•†å“ç§’æ€/æŠ•ç¥¨ç‚¹èµ - Redisæä¾›äº†å¯¹è®¡æ•°æ“ä½œçš„æ”¯æŒï¼Œç½‘ç«™ä¸Šå¸¸è§çš„ç§’æ€ã€ç‚¹èµç­‰åŠŸèƒ½éƒ½å¯ä»¥åˆ©ç”¨Redisçš„è®¡æ•°å™¨é€šè¿‡+1æˆ–-1çš„æ“ä½œæ¥å®ç°ï¼Œä»è€Œé¿å…äº†ä½¿ç”¨å…³ç³»å‹æ•°æ®çš„updateæ“ä½œã€‚ åˆ†å¸ƒå¼é” - åˆ©ç”¨Rediså¯ä»¥è·¨å¤šå°æœåŠ¡å™¨å®ç°åˆ†å¸ƒå¼é”ï¼ˆç±»ä¼¼äºçº¿ç¨‹é”ï¼Œä½†æ˜¯èƒ½å¤Ÿè¢«å¤šå°æœºå™¨ä¸Šçš„å¤šä¸ªçº¿ç¨‹æˆ–è¿›ç¨‹å…±äº«ï¼‰çš„åŠŸèƒ½ï¼Œç”¨äºå®ç°ä¸€ä¸ªé˜»å¡å¼æ“ä½œã€‚ æ¶ˆæ¯é˜Ÿåˆ— - æ¶ˆæ¯é˜Ÿåˆ—å’Œé«˜é€Ÿç¼“å­˜ä¸€æ ·ï¼Œæ˜¯ä¸€ä¸ªå¤§å‹ç½‘ç«™ä¸å¯ç¼ºå°‘çš„åŸºç¡€æœåŠ¡ï¼Œå¯ä»¥å®ç°ä¸šåŠ¡è§£è€¦å’Œéå®æ—¶ä¸šåŠ¡å‰Šå³°ç­‰ç‰¹æ€§ï¼Œè¿™äº›æˆ‘ä»¬éƒ½ä¼šåœ¨åé¢çš„é¡¹ç›®ä¸­ä¸ºå¤§å®¶å±•ç¤ºã€‚ Redisçš„å®‰è£…å’Œé…ç½®å¯ä»¥ä½¿ç”¨Linuxç³»ç»Ÿçš„åŒ…ç®¡ç†å·¥å…·ï¼ˆå¦‚yumï¼‰æ¥å®‰è£…Redisï¼Œä¹Ÿå¯ä»¥é€šè¿‡åœ¨Redisçš„å®˜æ–¹ç½‘ç«™ä¸‹è½½Redisçš„æºä»£ç ï¼Œè§£å‹ç¼©è§£å½’æ¡£ä¹‹åé€šè¿‡makeå·¥å…·å¯¹æºä»£ç è¿›è¡Œæ„å»ºå¹¶å®‰è£…ï¼Œåœ¨æ›´æ–°è¿™ç¯‡æ–‡æ¡£æ—¶ï¼ŒRediså®˜æ–¹æä¾›çš„æœ€æ–°ç¨³å®šç‰ˆæœ¬æ˜¯Redis 5.0.4ã€‚ 12345wget http://download.redis.io/releases/redis-5.0.4.tar.gzgunzip redis-5.0.4.tar.gztar -xvf redis-5.0.4.tarcd redis-5.0.4make &amp;&amp; make install Redisçš„æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯æ¥ä¸‹æ¥å¯åŠ¨RedisæœåŠ¡å™¨ï¼Œä¸‹é¢çš„æ–¹å¼å°†ä»¥é»˜è®¤çš„é…ç½®å¯åŠ¨RedisæœåŠ¡ã€‚ 1redis-server å¦‚æœå¸Œæœ›ä¿®æ”¹Redisçš„é…ç½®ï¼ˆå¦‚ç«¯å£ã€è®¤è¯å£ä»¤ã€æŒä¹…åŒ–æ–¹å¼ç­‰ï¼‰ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢ä¸¤ç§æ–¹å¼ã€‚ æ–¹å¼ä¸€ï¼šé€šè¿‡å‚æ•°æŒ‡å®šè®¤è¯å£ä»¤å’ŒAOFæŒä¹…åŒ–æ–¹å¼ã€‚ 1redis-server --requirepass 1qaz2wsx --appendonly yes æ–¹å¼äºŒï¼šé€šè¿‡æŒ‡å®šçš„é…ç½®æ–‡ä»¶æ¥ä¿®æ”¹Redisçš„é…ç½®ã€‚ 1redis-server /root/redis-5.0.4/redis.conf ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼æ¥å¯åŠ¨Rediså¹¶å°†å…¶ç½®äºåå°è¿è¡Œï¼Œå°†Redisäº§ç”Ÿçš„è¾“å‡ºé‡å®šå‘åˆ°åä¸ºredis.logçš„æ–‡ä»¶ä¸­ã€‚ 1redis-server --requirepass 1qaz2wsx &gt; redis.log &amp; å¯ä»¥é€šè¿‡psæˆ–è€…netstatæ¥æ£€æŸ¥RedisæœåŠ¡å™¨æ˜¯å¦å¯åŠ¨æˆåŠŸã€‚ 12ps -ef | grep redis-servernetstat -nap | grep redis-server æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°è¯•ç”¨Rediså®¢æˆ·ç«¯å»è¿æ¥æœåŠ¡å™¨ã€‚ 123456redis-cli127.0.0.1:6379&gt; auth 1qaz2wsxOK127.0.0.1:6379&gt; pingPONG127.0.0.1:6379&gt; Pythonä¸­çš„ä½¿ç”¨1234567891011121314151617181920212223import base64import jsonimport redisfrom example02 import Personclass PersonJsonEncoder(json.JSONEncoder): def default(self, o): return o.__dict__def main(): cli = redis.StrictRedis(host='120.77.222.217', port=6379, password='123123') data = base64.b64decode(cli.get('guido'))if __name__ == '__main__': main()","link":"/2018/09/19/NoSQL-Redis/"},{"title":"Python-å•ä¾‹æ¨¡å¼","text":"12345\"\"\"è£…é¥°ç±»çš„è£…é¥°å™¨ - å•ä¾‹æ¨¡å¼ - ä¸€ä¸ªç±»åªèƒ½åˆ›å»ºå‡ºå”¯ä¸€çš„å¯¹è±¡ä¸Šä¸‹æ–‡è¯­æ³•ï¼š__enter__ / __exit__\"\"\" 1234567891011121314151617181920212223242526272829303132333435363738394041424344import threadingfrom functools import wrapsdef singleton(cls): \"\"\"å•ä¾‹è£…é¥°å™¨\"\"\" instances = {} lock = threading.Lock() @wraps(cls) def wrapper(*args, **kwargs): if cls not in instances: with lock: if cls not in instances: instances[cls] = cls(*args, **kwargs) return instances[cls] return wrapper@singletonclass President(): def __init__(self, name, country): self.name = name self.country = country def __str__(self): return f'{self.country}: {self.name}'def main(): print(President.__name__) p1 = President('ç‰¹æœ—æ™®', 'ç¾å›½') p2 = President('å¥¥å·´é©¬', 'ç¾å›½') print(p1 == p2) print(p1) print(p2)if __name__ == '__main__': main()","link":"/2017/06/09/Python-å•ä¾‹æ¨¡å¼/"},{"title":"Python-æšä¸¾","text":"12345\"\"\"é¢å‘å¯¹è±¡æšä¸¾ - ä¸€ä¸ªå˜é‡çš„å€¼åªæœ‰æœ‰é™ä¸ªé€‰æ‹©ï¼Œæœ€é€‚åˆçš„ç±»å‹å°±æ˜¯æšä¸¾é€šè¿‡æšä¸¾æˆ‘ä»¬å¯ä»¥å®šä¹‰ç¬¦å·å¸¸é‡ï¼Œç¬¦å·å¸¸é‡ä¼˜äºå­—é¢å¸¸é‡\"\"\" 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495from enum import Enum, uniqueimport random@uniqueclass Suite(Enum): \"\"\"èŠ±è‰²ï¼ˆæšä¸¾ï¼‰\"\"\" SPADE = 0 HEART = 1 CLUB = 2 DIAMOND = 3 def __lt__(self, other): return self.value &lt; other.valueclass Card(): \"\"\"ç‰Œ\"\"\" def __init__(self, suite, face): self.suite = suite self.face = face def __repr__(self): return self.__str__() def __str__(self): suites = ('â™ ï¸', 'â™¥ï¸', 'â™£ï¸', 'â™¦ï¸') faces = ('', 'A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K') return f'{suites[self.suite.value]} {faces[self.face]}'class Poker(): \"\"\"æ‰‘å…‹\"\"\" def __init__(self): self.index = 0 self.cards = [Card(suite, face) for suite in Suite for face in range(1, 14)] def shuffle(self): \"\"\"æ´—ç‰Œ\"\"\" self.index = 0 random.shuffle(self.cards) def deal(self): \"\"\"å‘ç‰Œ\"\"\" card = self.cards[self.index] self.index += 1 return card @property def has_more(self): \"\"\"æ˜¯å¦æœ‰æ›´å¤šçš„ç‰Œ\"\"\" return self.index &lt; len(self.cards)class Player(): \"\"\"ç©å®¶\"\"\" def __init__(self, name): self.name = name self.cards = [] def get_card(self, card): \"\"\"æ‘¸ç‰Œ\"\"\" self.cards.append(card) def arrange(self): \"\"\"æ•´ç†æ‰‹ä¸Šçš„ç‰Œ\"\"\" self.cards.sort(key=lambda card: (card.suite, card.face))def main(): \"\"\"ä¸»å‡½æ•°\"\"\" poker = Poker() poker.shuffle() players = [ Player('ä¸œé‚ª'), Player('è¥¿æ¯’'), Player('å—å¸'), Player('åŒ—ä¸') ] while poker.has_more: for player in players: player.get_card(poker.deal()) for player in players: player.arrange() print(player.name, end=': ') print(player.cards)if __name__ == '__main__': main()","link":"/2017/06/11/Python-æšä¸¾/"},{"title":"Python è™šæ‹Ÿæœº","text":"virtualenvwrapper1virtualenvwrapper æ˜¯ä¸€ä¸ªåŸºäº virtualenv ä¹‹ä¸Šçš„å·¥å…·ï¼Œå®ƒå°†æ‰€æœ‰çš„è™šæ‹Ÿç¯å¢ƒé›†ä¸­èµ·æ¥ç®¡ç†ã€‚ å®‰è£…sudo pip install virtualenvwrapper é…ç½®1234vim ~/.bashrcexport WORKON_HOME=~/workspaces #å­˜æ”¾è™šæ‹Ÿç¯å¢ƒçš„ä½ç½®source /usr/bin/virtualenvwrapper.sh ä½¿ç”¨123456mkvirtualenv env1 #åˆ›å»ºworkon env1 #åˆ‡æ¢è™šæ‹Ÿæœºcpvirtualenv env1 env3 #èµ‹å€¼è™šæ‹Ÿæœºrmvirtualenv env2 #åˆ é™¤è™šæ‹Ÿæœºpip list #æŸ¥çœ‹è™šæ‹Ÿæœºä¸­çš„packagesdeactivate #é€€å‡º å…¶ä»–å‘½ä»¤1234lsvirtualenv #æ˜¾ç¤ºæ‰€æœ‰è™šæ‹Ÿç¯å¢ƒã€‚cdvirtualenv #è·³è½¬è‡³å½“å‰è™šæ‹Ÿç¯å¢ƒç›®å½•ï¼Œæ–¹ä¾¿æŸ¥çœ‹è™šæ‹Ÿç¯å¢ƒçš„ site-packages ç›®å½•ã€‚cdsitepackages #ç›´æ¥è·³è½¬è‡³å½“å‰è™šæ‹Ÿç¯å¢ƒçš„ site-packages ç›®å½•ã€‚lssitepackages #æ˜¾ç¤ºå½“å‰è™šæ‹Ÿç¯å¢ƒçš„ site-packages ç›®å½•å†…å®¹ã€‚","link":"/2017/04/30/Python-è™šæ‹Ÿæœº/"},{"title":"Python-è£…é¥°å™¨","text":"12345\"\"\"è£…é¥°å™¨ - è£…é¥°å™¨ä¸­æ”¾ç½®çš„é€šå¸¸éƒ½æ˜¯æ¨ªåˆ‡å…³æ³¨ï¼ˆcross-concernï¼‰åŠŸèƒ½æ‰€è°“æ¨ªåˆ‡å…³æ³¨åŠŸèƒ½å°±æ˜¯å¾ˆå¤šåœ°æ–¹éƒ½ä¼šç”¨åˆ°ä½†è·Ÿæ­£å¸¸ä¸šåŠ¡åˆé€»è¾‘æ²¡æœ‰å¿…ç„¶è”ç³»çš„åŠŸèƒ½è£…é¥°å™¨å®é™…ä¸Šæ˜¯å®ç°äº†è®¾è®¡æ¨¡å¼ä¸­çš„ä»£ç†æ¨¡å¼ - AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰\"\"\" 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061from functools import wrapsfrom random import randintfrom time import time, sleepimport pymysqldef record(output): def decorate(func): @wraps(func) def wrapper(*args, **kwargs): start = time() ret_value = func(*args, **kwargs) output(func.__name__, time() - start) return ret_value return wrapper return decoratedef output_to_console(fname, duration): print('%s: %.3fç§’' % (fname, duration))def output_to_file(fname, duration): with open('log.txt', 'a') as file_stream: file_stream.write('%s: %.3fç§’\\n' % (fname, duration))def output_to_db(fname, duration): con = pymysql.connect(host='localhost', port=3306, database='test', charset='utf8', user='root', password='123456', autocommit=True) try: with con.cursor() as cursor: cursor.execute('insert into tb_record values (default, %s, %s)', (fname, '%.3f' % duration)) finally: con.close()@record(output_to_console)def random_delay(min, max): sleep(randint(min, max))def main(): for _ in range(3): # print(random_delay.__name__) random_delay(3, 5) # for _ in range(3): # # å–æ¶ˆæ‰è£…é¥°å™¨ # random_delay.__wrapped__(3, 5)if __name__ == '__main__': main()","link":"/2017/06/09/Python-è£…é¥°å™¨/"},{"title":"Python-è¿­ä»£å™¨","text":"1234\"\"\"è¿­ä»£å™¨ - __iter__ / __next__itertools - ç”Ÿæˆå¯è¿­ä»£åºåˆ—çš„å·¥å…·æ¨¡å—\"\"\" 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071import itertoolsfrom math import sqrtdef is_prime(num): \"\"\"åˆ¤æ–­ç´ æ•°\"\"\" for factor in range(2, int(sqrt(num)) + 1): if num % factor == 0: return False return Trueclass PrimeIter(object): \"\"\"ç´ æ•°è¿­ä»£å™¨\"\"\" def __init__(self, min_value, max_value): assert 2 &lt;= min_value &lt;= max_value self.min_value = min_value - 1 self.max_value = max_value def __iter__(self): return self def __next__(self): self.min_value += 1 while self.min_value &lt;= self.max_value: if is_prime(self.min_value): return self.min_value self.min_value += 1 raise StopIteration()class FibIter(object): \"\"\"æ–æ³¢é‚£å¥‘æ•°è¿­ä»£å™¨\"\"\" def __init__(self, num): self.num = num self.a, self.b = 0, 1 self.idx = 0 def __iter__(self): return self def __next__(self): if self.idx &lt; self.num: self.a, self.b = self.b, self.a + self.b self.idx += 1 return self.a raise StopIteration()def main(): # for val in itertools.permutations('ABCD'): # print(val) # for val in itertools.combinations('ABCDE', 3): # print(val) # for val in itertools.product('é»‘çº¢æ¢…æ–¹', range(1, 14)): # print(val) # fib_iter = FibIter(20) # print('===&gt;', next(fib_iter)) # print('===&gt;', next(fib_iter)) # for val in fib_iter: # print(val) prime_iter = PrimeIter(2, 100000) for val in prime_iter: print(val)if __name__ == '__main__': main()","link":"/2017/06/11/Python-è¿­ä»£å™¨/"},{"title":"Python-é›¶ç¢ç‚¹","text":"123456\"\"\"å˜é‡çš„ä½œç”¨åŸŸä»¥åŠPythonæœç´¢å˜é‡çš„é¡ºåºLEGB: Local --&gt; Embedded --&gt; Global --&gt; Built-inglobal - å£°æ˜æˆ–å®šä¹‰å…¨å±€å˜é‡ï¼ˆè¦ä¹ˆç›´æ¥ä½¿ç”¨ç°æœ‰çš„å…¨å±€ä½œç”¨åŸŸçš„å˜é‡ï¼Œè¦ä¹ˆå®šä¹‰ä¸€ä¸ªå˜é‡æ”¾åˆ°å…¨å±€ä½œç”¨åŸŸï¼‰nonlocal - å£°æ˜ä½¿ç”¨åµŒå¥—ä½œç”¨åŸŸçš„å˜é‡ï¼ˆå¦‚æœåµŒå¥—ä½œç”¨åŸŸæ²¡æœ‰å¯¹åº”çš„å˜é‡ç›´æ¥æŠ¥é”™ï¼‰\"\"\" 1234567\"\"\"å¤šé‡ç»§æ‰¿ - ä¸€ä¸ªç±»æœ‰ä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ªä»¥ä¸Šçš„çˆ¶ç±»MRO - æ–¹æ³•è§£æé¡ºåº - Method Resolution Orderå½“å‡ºç°è±å½¢ç»§æ‰¿ï¼ˆé’»çŸ³ç»§æ‰¿ï¼‰çš„æ—¶å€™ï¼Œå­ç±»åˆ°åº•ç»§æ‰¿å“ªä¸ªçˆ¶ç±»çš„æ–¹æ³•Python 2.x - æ·±åº¦ä¼˜å…ˆæœç´¢Python 3.x - C3ç®—æ³• - ç±»ä¼¼äºå¹¿åº¦ä¼˜å…ˆæœç´¢\"\"\"","link":"/2017/06/10/Python-é›¶ç¢ç‚¹/"},{"title":"Swift  Result<T, E: Error> æšä¸¾ç±»å‹","text":"Swift æšä¸¾ç±»å‹Swift ä¸­æšä¸¾çš„èƒ½åŠ›ç›¸æ¯” OC æœ‰ç€å¾ˆå¤§çš„è¿›æ­¥ï¼Œæ¯ä¸ªæšä¸¾å€¼é™¤äº†å¯ä»¥æ˜¯å¸¸è§„çš„åŸºç¡€ç±»å‹ï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªå…³è”çš„ç±»å‹ã€‚æœ‰äº†è¿™æ ·çš„ç‰¹æ€§åç”¨æšä¸¾æ¥ä¼˜åŒ–è¿”å›ç»“æœçš„æ•°æ®ç»“æ„æ˜¾å¾—æ°´åˆ°æ¸ æˆï¼š 12345678enum Result&lt;Success, Failure&gt; where Failure : Error { /// A success, storing a `Success` value. case success(Success) /// A failure, storing a `Failure` value. case failure(Failure)} åŸºæœ¬ç”¨æ³•å®šä¹‰å¼‚æ­¥è¿”å›ç»“æœæ˜¯ Int ç±»å‹çš„å‡½æ•°ï¼š123456789101112func fetchData(_ completionHandler: @escaping (Result&lt;Int, Error&gt;) -&gt; Void) { DispatchQueue.global().async { let isSuccess = true if isSuccess { let resultValue = 6 return completionHandler(.success(resultValue)) } else { let error = NSError(domain: \"custom error\", code: -1, userInfo: nil) return completionHandler(.failure(error)) } }} è¿”å›å€¼çš„ç±»å‹é€šè¿‡æ³›å‹è¿›è¡Œçº¦æŸï¼Œ Result ç¬¬ä¸€ä¸ªæ³›å‹ç±»å‹è¡¨ç¤ºè¿”å›å€¼çš„ç±»å‹ï¼Œç¬¬äºŒä¸ªç±»å‹è¡¨ç¤ºé”™è¯¯çš„ç±»å‹ã€‚å¯¹ Result èµ‹å€¼å’Œå¸¸è§„çš„æšä¸¾ä¸€æ ·ï¼š1let valueResult: Result&lt;Int, CustomError&gt; = Result.success(4) // å› ä¸º swift ä¸­ä¼šè¿›è¡Œç±»å‹æ¨æ–­ï¼Œç¼–è¯‘å™¨åœ¨ç¡®è®¤è¿”å›çš„æ˜¯ Result ç±»å‹åï¼Œå¯ä»¥çœç•¥æšä¸¾ç±»å‹çš„å£°æ˜let errorResult = .failure(CustomError.inputNotValid)å–å‡º Result å€¼å’Œè·å–æ™®é€šçš„å…³è”ç±»å‹æšä¸¾æ˜¯ä¸€æ ·çš„ï¼š12345678fetchData { (result) in switch result { case .success(let value): print(value) case .failure(let error) print(error.localizedDescription) }} å¦‚æœä½ åªæƒ³è¦è·å–å…¶ä¸­ä¸€é¡¹çš„å€¼ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨ if case æ‹†åŒ…ï¼š12345fetchDate { (result) in if case .success(let value) = result { print(value) }} å¯ä»¥åˆ¤ç­‰Enum æ˜¯ä¸€ä¸ªå€¼ç±»å‹ï¼Œæ˜¯ä¸€ä¸ªå€¼å°±åº”è¯¥å¯ä»¥åˆ¤æ–­æ˜¯å¦ç›¸ç­‰ã€‚å¦‚æœ Result çš„æˆåŠŸå’Œå¤±è´¥çš„ç±»å‹éƒ½æ˜¯ Equatableï¼Œé‚£ä¹ˆ Result å°±å¯ä»¥åˆ¤ç­‰ï¼Œæºç å¦‚ä¸‹ï¼š1extension Result : Equatable where Success : Equatable, Failure : Equatable { } ç±»ä¼¼çš„ï¼Œå¦‚æœæ˜¯æˆåŠŸå’Œå¤±è´¥çš„ç±»å‹éƒ½æ˜¯ Hashableï¼Œé‚£ä¹ˆ Result ä¹Ÿæ˜¯ Hashableï¼š1extension Result : Hashable where Success : Hashable, Failure : Hashable { } å¦‚æœå®ç°äº† Hashable ï¼Œå¯ä»¥ç”¨æ¥å½“åšå­—å…¸çš„ keyã€‚ è¾…åŠ©çš„ APImapã€mapErrorä¸ Dictionary ç±»ä¼¼ï¼ŒSwift ä¸º Result æä¾›äº†å‡ ä¸ª map value å’Œ error çš„æ–¹æ³•ã€‚1234567891011let intResult: Result&lt;Int, Error&gt; = Result.success(4)let stringResult = x.map { (value) -&gt; Result&lt;String, Error&gt; in return .success(\"map\")}let originError = NSError(domain: \"origin error\", code: -1, userInfo: nil)let errorResult: Result&lt;Int, Error&gt; = .failure(originError)let newErrorResult = errorResult.mapError { (error) -&gt; Error in let newError = NSError(domain: \"new error\", code: -2, userInfo: nil) return newError} flatMapã€flatMapErrormap è¿”å›çš„æ˜¯å…·ä½“çš„ç»“æœå’Œé”™è¯¯ï¼Œ flatMap é—­åŒ…ä¸­è¿”å›çš„æ˜¯ Result ç±»å‹ã€‚å¦‚æœ Result ä¸­åŒ…å«çš„æ˜¯æ•°æ®ï¼Œæ•ˆæœå’Œ map ä¸€è‡´ï¼Œæ›¿æ¢æ•°æ®ï¼›å¦‚æœ Result ä¸­åŒ…å«çš„æ˜¯é”™è¯¯ï¼Œé‚£ä¹ˆä¸æ›¿æ¢ç»“æœã€‚1234567891011let intResult: Result&lt;Int, Error&gt; = Result.success(4)// æ›¿æ¢æˆåŠŸlet flatMapResult = intResult.flatMap { (value) -&gt; Result&lt;String, Error&gt; in return .success(\"flatMap\")}// æ²¡æœ‰æ‰§è¡Œæ›¿æ¢æ“ä½œï¼ŒflatMapIntResult å€¼è¿˜æ˜¯ intResultlet flatMapIntResult = intResult.flatMap { (value) -&gt; Result&lt;String, Error&gt; in return .failure(NSError(domain: \"origin error\", code: -1, userInfo: nil))} getå¾ˆå¤šæ—¶å€™åªå…³å¿ƒ Result çš„å€¼ï¼Œ Swift æä¾›äº† get() å‡½æ•°æ¥ä¾¿æ·çš„ç›´æ¥è·å–å€¼ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸ªå‡½æ•°è¢«æ ‡è®°ä¸º throwsï¼Œä½¿ç”¨æ—¶è¯­å¥å‰éœ€è¦åŠ ä¸Š tryï¼š123let intResult: Result&lt;Int, Error&gt; = Result.success(4)let value = try? intResult.get() å¯æŠ›å‡ºå¼‚å¸¸çš„é—­åŒ…åˆå§‹åŒ–å™¨å¾ˆå¤šæ—¶å€™è·å–è¿”å›å€¼çš„é—­åŒ…ä¸­å¯èƒ½ä¼šå‘ç”Ÿå¼‚å¸¸ä»£è¡¨è·å–å¤±è´¥çš„é”™è¯¯ï¼ŒåŸºäºè¿™ä¸ªåœºæ™¯ Swift æä¾›äº†ä¸€ä¸ªå¯æŠ›å‡ºå¼‚å¸¸çš„é—­åŒ…åˆå§‹åŒ–å™¨ï¼š12345678910111213enum CustomError: Error, Equatable { case inputNotValid}let fetchInt = { () -&gt; Int in if true { return 4 } else { throw CustomError.inputNotValid }}let result: Result&lt;Int, Error&gt; = Result { try fetchInt() } éœ€è¦æé†’æ˜¯é€šè¿‡è¿™ç§æ–¹å¼å£°æ˜çš„ Result çš„ error ç±»å‹åªèƒ½æ˜¯ Errorï¼Œä¸èƒ½æŒ‡å®šç‰¹å®šçš„ Errorã€‚","link":"/2019/05/03/Swift-Result-T-E-Error-æšä¸¾ç±»å‹/"},{"title":"Swifté¢å‘åè®® POP","text":"åŸºäº Swift çš„é¢å‘åè®®ç¼–ç¨‹12é¢å‘å¯¹è±¡çš„è®¾è®¡å’Œé¢å‘åè®®çš„è®¾è®¡éƒ½ä½¿ç”¨äº†å¤šæ€è®©æˆ‘ä»¬ä½¿ç”¨åŒæ ·çš„æ¥å£æ¥è·Ÿä¸åŒçš„ç±»å‹è¿›è¡Œäº¤äº’ã€‚åœ¨é¢å‘å¯¹è±¡çš„è®¾è®¡ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†åŸºç±»æä¾›çš„æ¥å£æ¥è·Ÿæ‰€æœ‰çš„å­ç±»è¿›è¡Œäº¤äº’ã€‚åœ¨é¢å‘åè®®çš„è®¾è®¡ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†åè®®å’Œåè®®æ‰©å±•æä¾›çš„æ¥å£æ¥è·Ÿéµå®ˆè¯¥åè®®çš„ç±»å‹è¿›è¡Œäº¤äº’ã€‚ä¸¤ç§è®¾è®¡æ–¹å¼å†™å‡ºçš„ä»£ç éƒ½å¾ˆå¥½è€Œä¸”æ˜“æ‡‚ã€‚ä½†ä¸ªäººæ„Ÿè§‰åè®®/åè®®æ‰©å±•ä»£ç æ›´å¥½ï¼Œå› ä¸ºåè®®/åè®®æ‰©å±•çš„æ–¹æ³•æ•´ä½“æ›´å¹²å‡€å’Œæ˜“æ‡‚äº›ã€‚' 12åœ¨é¢å‘åè®®è®¾è®¡ä¸­æˆ‘ä»¬æ›´å¤šçš„ä½¿ç”¨äº†å€¼ç±»å‹ï¼ˆç»“æ„ä½“structï¼‰è€Œéå¼•ç”¨ç±»å‹ï¼ˆç±»classï¼‰ã€‚Appleå·²ç»è¯´äº†æˆ‘ä»¬åº”è¯¥åœ¨åˆé€‚çš„åœ°æ–¹å°½å¯èƒ½åœ°åå¥½ä½¿ç”¨å€¼ç±»å‹è€Œéå¼•ç”¨ç±»å‹ã€‚ æœªå®Œå¾…ç»­","link":"/2019/05/04/Swifté¢å‘åè®®-POP/"},{"title":"VSCodeæ’ä»¶åŒ–","text":"å¼€å‘vscodeä»£ç æç¤ºæ’ä»¶æ‰“å¼€seting.json123\"[markdown]\": { \"editor.quickSuggestions\": true } userCodeæ·»åŠ 12345678910111213141516171819{ \"categories\": { \"prefix\": \"cate\", \"body\": [ \"toc: true\", \"categories: [$0]\" ], \"description\": \"categories\" }, \"python-code\": { \"prefix\": \"python-code\", \"body\": [ \"```python\", \"$0\", \"```\", ], \"description\": \"è¿™æ˜¯pythonçš„å¤šè¡Œä»£ç å—\" }} æ•ˆæœå¦‚ä¸‹ VSCodeå®˜æ–¹æ–‡æ¡£","link":"/2019/05/08/VSCodeæ’ä»¶åŒ–/"},{"title":"centosä¸‹æ­å»ºsvn","text":"centos7 Linuxsvnå®‰è£…é…ç½® å®‰è£…svn yum -y install subversion åˆ›å»ºsvnæ ¹æ–‡ä»¶å¤¹mkdir /var/svns é…ç½®æ–‡ä»¶å¤¹ 123vim /etc/sysconfig/svnserve#æ–‡ä»¶å†…å®¹OPTIONS=\"-r /var/svns\" svnåˆ›å»ºç‰ˆæœ¬åº“ åˆ›å»ºsvnç‰ˆæœ¬åº“svnadmin create /var/svns/xxxx 1234#ç‰ˆæœ¬åº“çš„confæ–‡ä»¶å¤¹authzï¼š#è´Ÿè´£è´¦å·æƒé™çš„ç®¡ç†ï¼Œæ§åˆ¶è´¦å·æ˜¯å¦è¯»å†™æƒé™passwdï¼š#è´Ÿè´£è´¦å·å’Œå¯†ç çš„ç”¨æˆ·åå•ç®¡ç†svnserve.confï¼š#svnæœåŠ¡å™¨é…ç½®æ–‡ä»¶ vim svnserve.conf 12345anon-access = none #è¡¨ç¤ºç¦æ­¢åŒ¿åç”¨æˆ·è®¿é—®ã€‚auth-access = write #è¡¨ç¤ºæˆæƒç”¨æˆ·æ‹¥æœ‰è¯»å†™æƒé™ã€‚password-db = passswd #æŒ‡å®šç”¨æˆ·åå£ä»¤æ–‡ä»¶ï¼Œå³ passwd æ–‡ä»¶ã€‚authz-db = authz #æŒ‡å®šæƒé™é…ç½®æ–‡ä»¶ï¼Œå³ authz æ–‡ä»¶ã€‚realm = /var/svnrepos #æŒ‡å®šè®¤è¯åŸŸï¼Œå³ /var/svnrepos ç›®å½•ã€‚ vim passwd 12[users] #ä¸‹é¢æ·»åŠ admin = rw #è®¾ç½®è¯»å†™æƒé™ vim authz 12[/]admin = password #è´¦å·å¯†ç  svnå‘½ä»¤æ§åˆ¶123killall svnserve #æ€æ‰svnè¿›ç¨‹svnserve -d -r /var/svns #å¯åŠ¨svnps -ef | grep svn #çœ‹æœåŠ¡å¯åŠ¨æ˜¯å¦æˆåŠŸ macåœ°å€æµ‹è¯• svn co svn://ipåœ°å€:3690/xxxx centos7 é˜²ç«å¢™å¼€æ”¾svné€šè¿‡12firewall-cmd --permanent --add-port=3690/tcpsystemctl restart firewalld","link":"/2017/01/27/centosä¸‹æ­å»ºsvn/"},{"title":"iOS å¼€å‘ç›¸å…³å¼€æºåº“","text":"å¼€å‘ç›¸å…³å¼€æºåº“ 1ã€è…¾è®¯å¼€æºï¼Œæé«˜é¡¹ç›® UI å¼€å‘æ•ˆç‡çš„è§£å†³æ–¹æ¡ˆï¼šQMUI_iOS 2ã€iOS ç»„ä»¶åŒ–ã€è§£è—•æœ€ä½³æ–¹æ¡ˆï¼Œæœ€å¼ºå¤§çš„åŠ¨æ€è·¯ç”±åº“ï¼šFFRouter 3ã€iOSé€†å‘å¼€å‘å·¥å…·ï¼šMonkeyDev 4ã€è‡ªåŠ¨åˆ›å»ºå¸¦æœ‰è°ƒè¯•ä¿¡æ¯çš„appIconçš„è„šæœ¬ï¼šLLIconVersioning 5ã€iOS æ€§èƒ½åˆ†æå’Œæµ‹è¯•æ¡†æ¶ï¼šDetoxInstruments 6ã€WebView OCä¸JSé€šä¿¡æ¡†æ¶ï¼šWebViewJavascriptBridge 7ã€ä¸€ä¸ªç®€å•çš„UITableView/UICollectionViewçš„superclass categoryï¼Œç”¨äºæ— æ•°æ®æ—¶è‡ªåŠ¨æ˜¾ç¤ºç©ºè§†å›¾ï¼šDZNEmptyDataSet 8ã€iOSä»£ç è‡ªåŠ¨ç¿»æ–°(æ··æ·†)å·¥å…·ï¼šWHC_ConfuseSoftware 9ã€ä¸€ä¸ªå¯ä»¥è§‚çœ‹å›½å†…ä¸»æµè§†é¢‘å¹³å°æ‰€æœ‰vipè§†é¢‘çš„Macå®¢æˆ·ç«¯ï¼šivideo 10ã€å¼€å±å¹¿å‘Šã€å¯åŠ¨å¹¿å‘Šè§£å†³æ–¹æ¡ˆ-æ”¯æŒé™æ€/åŠ¨æ€å›¾ç‰‡å¹¿å‘Š,mp4è§†é¢‘å¹¿å‘Š,å…¨å±/åŠå±å¹¿å‘Šï¼šXHLaunchAd 11ã€ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ macOS ç‰ˆå¾®ä¿¡å°åŠ©æ‰‹ï¼Œæ”¯æŒé˜²æ’¤å›ã€å¤šå¼€ã€è‡ªåŠ¨å›å¤ï¼šWeChatPlugin-MacOS 12ã€iOS APPå†…è°ƒè¯•å·¥å…·ï¼Œæ”¯æŒæŠ“åŒ…ã€Crashæ”¶é›†ã€æ²™ç›’æ–‡ä»¶æµè§ˆç­‰ï¼šLLDebugTool 13ã€ä¸€æ¬¾iOSè‹¹æœè¿œç¨‹æ¨é€æµ‹è¯•ç¨‹åº,Mac OS ä¸‹çš„ APNS å·¥å…·ï¼šSmartPush 14ã€Macé‡Œprovisionprofileå’Œmobileprovisionæ–‡ä»¶ç®¡ç†å™¨å·¥å…·ï¼šProfilesManager 15ã€iOSè·‘é©¬ç¯å¤§å…¨ï¼šMarqueeLabel 16ã€æ”¯æŒiOS/tvOS/OSXçš„æ¼‚äº®å›¾è¡¨ã€ç»Ÿè®¡å›¾ï¼šCharts 17ã€ä¸€è¡Œä»£ç è®¾ç½®çŠ¶æ€æ ã€å¯¼èˆªæ æŒ‰é’®ã€æ ‡é¢˜ã€é¢œè‰²ã€é€æ˜åº¦ï¼Œç§»åŠ¨ç­‰ï¼šWRNavigationBar 18ã€ç”¨äºåŸç”Ÿæ¸²æŸ“After EffectsçŸ¢é‡åŠ¨ç”»çš„iOSåº“ï¼šlottie-ios 19ã€Core Dataå’ŒSQLiteçš„æ›¿ä»£å“ï¼šrealm-cocoa 20ã€Mac OSå¼€æºå¯†ç å­˜å‚¨å·¥å…·ï¼šMacPass","link":"/2016/12/13/iOS-å¼€å‘ç›¸å…³å¼€æºåº“/"},{"title":"iOSUIWebViewç‚¹å‡»æ”¾å¤§å›¾ç‰‡","text":"1234567891011121314151617181920212223242526272829303132333435363738- (void)webViewDidFinishLoad:(UIWebView *)webView{ // æ›´æ”¹htmlæ‰€æœ‰å­—ä½“å¤§å° NSString *str = @\"document.getElementsByTagName('body')[0].style.webkitTextSizeAdjust= '90%'\"; [_webView stringByEvaluatingJavaScriptFromString:str]; // è®¡ç®—å†…å®¹é«˜åº¦ CGRect frame = webView.frame; frame.size.width = SCREEN_WIDTH; frame.size.height = 1; webView.frame = frame; frame.size.height = webView.scrollView.contentSize.height; NSLog(@\"webViewDidFinishLoadframe = %@\", [NSValue valueWithCGRect:frame]); //è¿™é‡Œæ˜¯jsï¼Œä¸»è¦ç›®çš„å®ç°å¯¹urlçš„è·å– static NSString * const jsGetImages = @\"function getImages(){\\ var objs = document.getElementsByTagName(\\\"img\\\");\\ var imgScr = '';\\ for(var i=0;i&lt;objs.length;i++){\\ imgScr = imgScr + objs[i].src + '+';\\ \\ objs[i].onclick=function(){\\ document.location=\\\"myweb:imageClick:\\\"+this.src;\\ };\\ };\\ return imgScr;\\ };\";//è¿™é‡Œè·å–ç½‘é¡µä¸­imgæ ‡ç­¾å¯¹è±¡ [webView stringByEvaluatingJavaScriptFromString:jsGetImages];//æ³¨å…¥jsæ–¹æ³• NSString *urlResurlt = [webView stringByEvaluatingJavaScriptFromString:@\"getImages()\"]; _mUrlArray = @[].mutableCopy; // åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å·²ç»å­˜åœ¨ for (NSString *str in [NSMutableArray arrayWithArray:[urlResurlt componentsSeparatedByString:@\"+\"]]) { [_mUrlArray addObject:str]; } [_mUrlArray removeObject:_mUrlArray.lastObject]; } 12345678910111213141516171819- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType{ //å°†urlè½¬æ¢ä¸ºstring NSString *requestString = [[request URL] absoluteString]; //hasPrefix åˆ¤æ–­åˆ›å»ºçš„å­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ä»¥pic:å­—ç¬¦å¼€å§‹ if ([requestString hasPrefix:@\"myweb:imageClick:\"]) { NSString * imageUrl = [requestString substringFromIndex:@\"myweb:imageClick:\".length]; //è·å–å½“å‰å›¾ç‰‡çš„urlåœ¨æ•´ä¸ªé“¾æ¥åœ°å€ä¸­ä½ç½® NSInteger index = [_mUrlArray indexOfObject:imageUrl]; /** *æ­¤å¤„å±•ç¤ºå›¾ç‰‡ */ return NO; } else if ([requestString hasPrefix:@\"http\"]){ //è·³è½¬é“¾æ¥ } return YES;}","link":"/2016/12/13/iOSUIWebViewç‚¹å‡»æ”¾å¤§å›¾ç‰‡/"},{"title":"vimé…ç½®æˆIDE","text":"æœ€ç»ˆæ•ˆæœ vimæ’ä»¶æ’ä»¶ç®¡ç†å™¨ Vundle1git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim å®‰è£…æ’ä»¶åœ¨shellé‡Œé¢è¿è¡Œ vim +PluginInstall +qall é…ç½®.vimrc123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270\" vundleif filereadable(expand(\"~/.vimrc.bundles\")) source ~/.vimrc.bundlesendifset nu \"å¼€å¯è¡Œå·set showcmd \"æ˜¾ç¤ºcmdset laststatus=1set magicset cursorlineset mouse=a \"å¯ç”¨é¼ æ ‡set go=set showmatchset matchtime=1set nobackupset rulerset autoindentset confirmset tabstop=4set shiftwidth=4set smarttabset nocompatibleset expandtabset backspace=indent,eol,startset wildmenuset fo=cqrtset laststatus=2set textwidth=78set colorcolumn=+1set ww=&lt;,&gt;,h,lset noeb visualbelllet mapleader = \",\"filetype onfiletype plugin onfiletype indent onsyntax onsyntax enable\" encodingset fencs=utf-8,usc-bom,shift-jis,gb18030,gbk,gb2312,cp936set termencoding=utf-8set encoding=utf-8set fileencodings=ucs-bom,utf-8,cp936set fileencoding=utf-8\" Molokaicolorscheme molokaihighlight NonText guibg=#060606highlight Folded guibg=#0A0A0A guifg=#9090D0\" some mapmap &lt;F5&gt; :call CR()&lt;CR&gt;func! CR() exec \"w\" exec \"!g++ % -o %&lt;\" exec \"! ./%&lt;\"endfuncmap &lt;F10&gt; :call RG()&lt;CR&gt;func! RG() exec \"w\" exec \"!g++ % -g -o % &lt;\" exec \"! ./%&lt;\"endfuncmap &lt;F2&gt; :call SetTitle()&lt;CR&gt;func SetTitle()let l = 0let l = l + 1 | call setline(l,'/******************************')let l = l + 1 | call setline(l,' *File name: '.expand(\"%\"))let l = l + 1 | call setline(l,' *Author: wzhzzmzzy')let l = l + 1 | call setline(l,' *Created Time: '.strftime(\"%c\"))let l = l + 1 | call setline(l,' *TODO:')let l = l + 1 | call setline(l,'******************************/')let l = l + 1 | call setline(l,'')let l = l + 1 | call setline(l,'#include &lt;cstdio&gt;')let l = l + 1 | call setline(l,'#include &lt;cstring&gt;')let l = l + 1 | call setline(l,'#include &lt;cstdlib&gt;')let l = l + 1 | call setline(l,'#include &lt;iostream&gt;')let l = l + 1 | call setline(l,'#include &lt;string&gt;')let l = l + 1 | call setline(l,'#include &lt;algorithm&gt;')let l = l + 1 | call setline(l,'#include &lt;vector&gt;')let l = l + 1 | call setline(l,'#include &lt;queue&gt;')let l = l + 1 | call setline(l,'#include &lt;set&gt;')let l = l + 1 | call setline(l,'#include &lt;map&gt;')let l = l + 1 | call setline(l,'')let l = l + 1 | call setline(l,'using namespace std;')let l = l + 1 | call setline(l,'')endfuncmap &lt;F3&gt; :call SetTitle2()&lt;CR&gt;func SetTitle2()let l = 0let l = l + 1 | call setline(l,'/******************************')let l = l + 1 | call setline(l,' *File name: '.expand(\"%\"))let l = l + 1 | call setline(l,' *Author: wzhzzmzzy')let l = l + 1 | call setline(l,' *Created Time: '.strftime(\"%c\"))let l = l + 1 | call setline(l,' *TODO:')let l = l + 1 | call setline(l,'******************************/')let l = l + 1 | call setline(l,'')let l = l + 1 | call setline(l,'#include &lt;bits/stdc++.h&gt;')let l = l + 1 | call setline(l,'using namespace std;')let l = l + 1 | call setline(l,'')endfuncset nocompatible \" è¿™æ˜¯å¿…éœ€çš„ filetype off \" è¿™æ˜¯å¿…éœ€çš„ \" åœ¨æ­¤è®¾ç½®è¿è¡Œæ—¶è·¯å¾„ set rtp+=~/.vim/bundle/Vundle.vim\" vundleåˆå§‹åŒ– call vundle#begin()\" æˆ–è€…ä¼ é€’ä¸€ä¸ªVundle å®‰è£…æ’ä»¶çš„è·¯å¾„\"call vundle#begin('~/some/path/here')\" è®© Vundle ç®¡ç† Vundle, å¿…é¡»Plugin 'VundleVim/Vundle.vim'Plugin 'tpope/vim-fugitive'\" ä¼ é€’è·¯å¾„ï¼Œåˆç†è®¾ç½®è¿è¡Œæ—¶è·¯å¾„ã€‚ Plugin 'rstacruz/sparkup', {'rtp': 'vim/'}\" vimä»£ç è¡¥å…¨æ’ä»¶ Plugin 'Valloric/YouCompleteMe'Plugin 'git://github.com/scrooloose/nerdtree.git'\"æ·»åŠ jedi-vimä»£ç è¡¥å…¨æ’ä»¶Plugin 'davidhalter/jedi-vim'\"pythonè¯­æ³•æ£€æµ‹Plugin 'scrooloose/syntastic'\"æ·»åŠ PEP8ä»£ç é£æ ¼æ£€æŸ¥Plugin 'nvie/vim-flake8'\"é…è‰²æ–¹æ¡ˆPlugin 'jnurmine/Zenburn'Plugin 'altercation/vim-colors-solarized'\"çŠ¶æ€æ Plugin 'vim-airline/vim-airline'\"ä»£ç æŠ˜å æ’ä»¶Plugin 'tmhedberg/SimpylFold'\"bufferç®¡ç†Bundle 'minibufexpl.vim'\"å¿«é€Ÿæ³¨é‡ŠBundle 'comments.vim'\"çª—å£ç®¡ç†Bundle 'winmanager' \"å¼€å¯ä»£ç æŠ˜å set foldmethod=indentset foldlevel=99\"è®¾ç½®å¿«æ·é”®ä¸ºç©ºæ ¼noremap &lt;space&gt; za\"æ˜¾ç¤ºæŠ˜å ä»£ç çš„æ–‡æ¡£å­—ç¬¦ä¸²let g:SimpylFold_docstring_preview=1\"æ¯ä¸ªæ’ä»¶éƒ½åº”è¯¥åœ¨è¿™ä¸€è¡Œä¹‹å‰ call vundle#end() \" è¿™æ˜¯å¿…éœ€çš„ filetype plugin indent on \" è¿™æ˜¯å¿…éœ€çš„ \" To ignore plugin indent changes, instead use:\"filetype plugin on\"\" Brief help\" :PluginList - lists configured plugins\" :PluginInstall - installs plugins; append `!` to update or just :PluginUpdate\" :PluginSearch foo - searches for foo; append `!` to refresh local cache\" :PluginClean - confirms removal of unused plugins; append `!` to auto-approve removal\"\" see :h vundle for more details or wiki for FAQ\" Put your non-Plugin stuff after this line\"\"\"å¯ç”¨NERDTreeautocmd vimenter * NERDTree\" Nerd Treelet NERDChristmasTree=0let NERDTreeWinSize=40let NERDTreeChDirMode=2let NERDTreeIgnore=['\\~$', '\\.pyc$', '\\.swp$']let NERDTreeShowBookmarks=1let NERDTreeWinPos=\"left\"autocmd vimenter * if !argc() | NERDTree | endif autocmd bufenter * if (winnr(\"$\") == 1 &amp;&amp; exists(\"b:NERDTreeType\") &amp;&amp; b:NERDTreeType == \"primary\") | q | endifnmap &lt;F6&gt; :NERDTreeToggle&lt;CR&gt;\" winmanageré…ç½®let g:NERDTree_title='NERD Tree'let g:winManagerWindowLayout='NERDTree|TagList'function! NERDTree_Start() exec 'NERDTree'endfunctionfunction! NERDTree_IsValid() return 1endfunction\" ç»‘å®šF2åˆ°winmanagernmap &lt;silent&gt; &lt;F2&gt; :WMToggle&lt;CR&gt;\" ç»‘å®šF8å¿«æ·é”®\" ä½¿ç”¨winmanageræ—¶ï¼Œä¸ä½¿ç”¨å¿«æ·é”®\" nnoremap &lt;silent&gt; &lt;F8&gt; :TlistToggle&lt;CR&gt;\" å¯åŠ¨Vimåï¼Œè‡ªåŠ¨æ‰“å¼€taglistçª—å£ã€‚\" ä½¿ç”¨winmanageræ—¶ï¼Œå°†è‡ªåŠ¨æ‰“å¼€çª—å£å…³é—­let Tlist_Auto_Open = 0\" Tagbarlet g:tagbar_width=35let g:tagbar_autofocus=1nmap &lt;F7&gt; :TagbarToggle&lt;CR&gt;\" YouCompleteMe\" å¯»æ‰¾å…¨å±€é…ç½®æ–‡ä»¶let g:ycm_global_ycm_extra_conf = '~/.vim/bundle/YouCompleteMe/cpp/ycm/.ycm_extra_conf.py'\" ç¦ç”¨syntasticæ¥å¯¹pythonæ£€æŸ¥let g:syntastic_ignore_files=[\".*\\.py$\"] \" ä½¿ç”¨ctagsç”Ÿæˆçš„tagsæ–‡ä»¶let g:ycm_collect_identifiers_from_tag_files = 1\" å¼€å¯è¯­ä¹‰è¡¥å…¨\" ä¿®æ”¹å¯¹Cè¯­è¨€çš„è¡¥å…¨å¿«æ·é”®ï¼Œé»˜è®¤æ˜¯CTRL+spaceï¼Œä¿®æ”¹ä¸ºALT+;æœªæµ‹å‡ºæ•ˆæœ\"let g:ycm_key_invoke_completion = '&lt;M-;&gt;'\" è®¾ç½®è½¬åˆ°å®šä¹‰å¤„çš„å¿«æ·é”®ä¸ºALT+Gï¼Œæœªæµ‹å‡ºæ•ˆæœ\"nmap &lt;M-g&gt; :YcmCompleter GoToDefinitionElseDeclaration &lt;C-R&gt;=expand(\"&lt;cword&gt;\")&lt;CR&gt;&lt;CR&gt; \"å…³é”®å­—è¡¥å…¨\"let g:ycm_seed_identifiers_with_syntax = 1\" åœ¨æ¥å—è¡¥å…¨åä¸åˆ†è£‚å‡ºä¸€ä¸ªçª—å£æ˜¾ç¤ºæ¥å—çš„é¡¹set completeopt-=preview\" è®©è¡¥å…¨è¡Œä¸ºä¸ä¸€èˆ¬çš„IDEä¸€è‡´set completeopt=longest,menu\" ä¸æ˜¾ç¤ºå¼€å¯vimæ—¶æ£€æŸ¥ycm_extra_confæ–‡ä»¶çš„ä¿¡æ¯let g:ycm_confirm_extra_conf=0\" æ¯æ¬¡é‡æ–°ç”ŸæˆåŒ¹é…é¡¹ï¼Œç¦æ­¢ç¼“å­˜åŒ¹é…é¡¹let g:ycm_cache_omnifunc=0\" åœ¨æ³¨é‡Šä¸­ä¹Ÿå¯ä»¥è¡¥å…¨let g:ycm_complete_in_comments=1\" è¾“å…¥ç¬¬ä¸€ä¸ªå­—ç¬¦å°±å¼€å§‹è¡¥å…¨let g:ycm_min_num_of_chars_for_completion=1\" é”™è¯¯æ ‡è¯†ç¬¦let g:ycm_error_symbol='&gt;&gt;'\" è­¦å‘Šæ ‡è¯†ç¬¦let g:ycm_warning_symbol='&gt;*'\" ä¸æŸ¥è¯¢ultisnipsæä¾›çš„ä»£ç æ¨¡æ¿è¡¥å…¨ï¼Œå¦‚æœéœ€è¦ï¼Œè®¾ç½®æˆ1å³å¯\" let g:ycm_use_ultisnips_completer=0\"\"\"è®¾ç½®ä¸»é¢˜é¢œè‰²ï¼Œä»¥åŠè®¾ç½®å¿«æ·é”®F5if has('gui_running') set background=dark colorscheme solarizedelse colorscheme zenburnendifcall togglebg#map(\"&lt;F5&gt;\")\"å¼€å¯ä»£ç æŠ˜å set foldmethod=indentset foldlevel=99\"è®¾ç½®å¿«æ·é”®ä¸ºç©ºæ ¼noremap &lt;space&gt; za\"æ˜¾ç¤ºæŠ˜å ä»£ç çš„æ–‡æ¡£å­—ç¬¦ä¸²let g:SimpylFold_docstring_preview=1","link":"/2019/05/09/vimé…ç½®æˆIDE/"},{"title":"iOSè„šæœ¬è‡ªåŠ¨æ‰“åŒ…å‘å¸ƒåŠè‡ªåŠ¨æ£€æµ‹æ›´æ–°","text":"ä½¿ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹å¹³å° è’²å…¬è‹± é›†æˆè’²å…¬è‹±SDK 1234pod 'PgyUpdate'//å¯åŠ¨æ›´æ–°æ£€æŸ¥SDK[[PgyUpdateManager sharedPgyManager] startManagerWithAppId:@\"appkey\"];//åœ¨è’²å…¬è‹±å¹³å°è·å–[[PgyUpdateManager sharedPgyManager] checkUpdate]; ç”±äºè’²å…¬è‹±å¹³å°æ›´æ–°APPçš„æ¡ä»¶æ˜¯æ ¹æ®Versionå’Œbuildçš„å€¼åˆ¤æ–­æ›´æ–°ï¼Œæ‰€ä»¥æ¯æ¬¡æ‰“åŒ…æ—¶buildåŠ 1 iOSæ‰‹åŠ¨æ‰“åŒ…æ·»åŠ è„šæœ¬æ‰“åŒ…buildè‡ªå¢ é€‰æ‹©build phasesï¼Œ åœ¨å…¶ä¸­æ·»åŠ run Script è„šæœ¬ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š 123456if [ \"$CONFIGURATION\" != \"Debug\" ]thenbuildNumber=$(/usr/libexec/PlistBuddy -c \"Print CFBundleVersion\" \"$INFOPLIST_FILE\")buildNumber=$(($buildNumber + 1))/usr/libexec/PlistBuddy -c \"Set :CFBundleVersion $buildNumber\" \"$INFOPLIST_FILE\"fi è‡ªåŠ¨æ‰“åŒ…è„šæœ¬ åœ¨è„šæœ¬çš„ç¼–è¯‘å¼€å§‹æ—¶æ·»åŠ å¦‚ä¸‹ä»£ç  12345# å·¥ç¨‹çš„Bundle +1buildNumber=$(/usr/libexec/PlistBuddy -c \"print CFBundleVersion\" ${project_path}/${project_name}/Info.plist)echo $buildNumberbuildNumber=$(($buildNumber + 1))/usr/libexec/PlistBuddy -c /usr/libexec/PlistBuddy -c \"print CFBundleVersion\" ${project_path}/@{project_name}/Info.plist ä¸Šä¼ åˆ°æµ‹è¯•å¹³å° 123456#ä¸Šä¼ åˆ°Fir# å°†XXXæ›¿æ¢æˆè‡ªå·±çš„Firå¹³å°çš„token#fir login -T XXX#fir publish $exportIpaPath/$scheme_name.ipaipaPath=${exportIpaPath}/${scheme_name}.ipacurl -F file=@${ipaPath} -F '_api_key=XXX' https://www.pgyer.com/apiv2/app/upload è‡ªåŠ¨åŒ–æ‰“åŒ…è„šæœ¬ é€‰æ‹©æ‰“åŒ…å¹³å°app-store æˆ–è€…ad-hoc é€‰æ‹©App Storeæ—¶æ‰“åŒ…å®Œæˆä¸Šä¼ åˆ°App Store é€‰æ‹©adhocæ—¶ä¸Šä¼ åˆ°å¯¹åº”çš„å¹³å° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127#ä½¿ç”¨æ–¹æ³•if [ ! -d ./IPADir ];thenmkdir -p IPADir;fi#å·¥ç¨‹ç»å¯¹è·¯å¾„project_path=$(cd `dirname $0`; pwd)#å·¥ç¨‹å å°†XXXæ›¿æ¢æˆè‡ªå·±çš„å·¥ç¨‹åproject_name=XXX#schemeå å°†XXXæ›¿æ¢æˆè‡ªå·±çš„shemeåscheme_name=XXX#æ‰“åŒ…æ¨¡å¼ Debug/Releasedevelopment_mode=Debug#buildæ–‡ä»¶å¤¹è·¯å¾„build_path=${project_path}/build#plistæ–‡ä»¶æ‰€åœ¨è·¯å¾„exportOptionsPlistPath=${project_path}/exportTest.plist#å¯¼å‡º.ipaæ–‡ä»¶æ‰€åœ¨è·¯å¾„exportIpaPath=${project_path}/IPADir/${development_mode}echo \"è¯·è¾“å…¥è¦å¯¼å‡ºçš„çš„å¹³å° ? [ 1:app-store 2:ad-hoc] \"##read numberwhile([[ $number != 1 ]] &amp;&amp; [[ $number != 2 ]])doecho \"æŠ¥é”™! åªèƒ½é€‰æ‹©å¹³å° 1 æˆ– 2\"echo \"è¯·é‡æ–°è¾“å…¥è¦å¯¼å‡ºçš„çš„å¹³å° ? [ 1:app-store 2:ad-hoc] \"read numberdoneif [ $number == 1 ];thendevelopment_mode=ReleaseexportOptionsPlistPath=${project_path}/exportAppstore.plistelsedevelopment_mode=ReleaseexportOptionsPlistPath=${project_path}/exportTest.plistfi#note: Using new build systemerror: Could not delete `XXX` because it was not created by the build system.rm -rf ${build_path}echo '///-----------'echo '/// æ­£åœ¨æ¸…ç†å·¥ç¨‹'echo '///-----------'xcodebuild \\clean -configuration ${development_mode} -quiet || exitecho '///--------'echo '/// æ¸…ç†å®Œæˆ'echo '///--------'echo ''echo '///-----------'echo '/// æ­£åœ¨ç¼–è¯‘å·¥ç¨‹:'${development_mode}echo '///-----------'# å·¥ç¨‹çš„Bundle +1buildNumber=$(/usr/libexec/PlistBuddy -c \"print CFBundleVersion\" ${project_path}/${project_name}/Info.plist)echo $buildNumberbuildNumber=$(($buildNumber + 1))/usr/libexec/PlistBuddy -c /usr/libexec/PlistBuddy -c \"print CFBundleVersion\" ${project_path}/@{project_name}/Info.plist#ç¼–è¯‘å·¥ç¨‹/Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuildxcodebuild \\archive -workspace ${project_path}/${project_name}.xcworkspace \\-scheme ${scheme_name} \\-configuration ${development_mode} \\-archivePath ${build_path}/${project_name}.xcarchive -quiet || exitecho '///--------'echo '/// ç¼–è¯‘å®Œæˆ'echo '///--------'echo ''echo '///----------'echo '/// å¼€å§‹ipaæ‰“åŒ…'echo '///----------'xcodebuild -exportArchive -archivePath ${build_path}/${project_name}.xcarchive \\-configuration ${development_mode} \\-exportPath ${exportIpaPath} \\-exportOptionsPlist ${exportOptionsPlistPath} \\-quiet || exitif [ -e $exportIpaPath/$scheme_name.ipa ]; thenecho '///----------'echo '/// ipaåŒ…å·²å¯¼å‡º'echo '///----------'open $exportIpaPathelseecho '///-------------'echo '/// ipaåŒ…å¯¼å‡ºå¤±è´¥ 'echo '///-------------'fiecho '///------------'echo '/// æ‰“åŒ…ipaå®Œæˆ 'echo '///-----------='echo ''echo '///-------------'echo '/// å¼€å§‹å‘å¸ƒipaåŒ… 'echo '///-------------'if [ $number == 1 ];then#éªŒè¯å¹¶ä¸Šä¼ åˆ°App Store# å°†-u åé¢çš„XXXæ›¿æ¢æˆè‡ªå·±çš„AppleIDçš„è´¦å·ï¼Œ-påé¢çš„XXXæ›¿æ¢æˆè‡ªå·±çš„å¯†ç altoolPath=\"/Applications/Xcode.app/Contents/Applications/Application Loader.app/Contents/Frameworks/ITunesSoftwareService.framework/Versions/A/Support/altool\"\"$altoolPath\" --validate-app -f ${exportIpaPath}/${scheme_name}.ipa -u XXX -p XXX -t ios --output-format xml\"$altoolPath\" --upload-app -f ${exportIpaPath}/${scheme_name}.ipa -u XXX -p XXX -t ios --output-format xmlelse#ä¸Šä¼ åˆ°Fir# å°†XXXæ›¿æ¢æˆè‡ªå·±çš„Firå¹³å°çš„token#fir login -T XXX#fir publish $exportIpaPath/$scheme_name.ipaipaPath=${exportIpaPath}/${scheme_name}.ipacurl -F file=@${ipaPath} -F '_api_key=XXX' https://www.pgyer.com/apiv2/app/uploadfiexit 0 exportTest.plist 12345678910&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;&lt;plist version=\"1.0\"&gt;&lt;dict&gt; &lt;key&gt;method&lt;/key&gt; &lt;string&gt;ad-hoc&lt;/string&gt; &lt;key&gt;compileBitcode&lt;/key&gt; &lt;false/&gt;&lt;/dict&gt;&lt;/plist&gt; exportAppstore.plist 123456789101112&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;&lt;plist version=\"1.0\"&gt;&lt;dict&gt; &lt;key&gt;method&lt;/key&gt; &lt;string&gt;app-store&lt;/string&gt; &lt;key&gt;uploadBitcode&lt;/key&gt; &lt;true/&gt; &lt;key&gt;uploadSymbols&lt;/key&gt; &lt;true/&gt;&lt;/dict&gt;&lt;/plist&gt;","link":"/2017/05/18/iOSè„šæœ¬è‡ªåŠ¨æ‰“åŒ…å‘å¸ƒåŠè‡ªåŠ¨æ£€æµ‹æ›´æ–°/"},{"title":"å…³ç³»æ•°æ®åº“Mysql","text":"å®‰è£…å’Œé…ç½®ï¼ˆä»¥CentOS Linuxç¯å¢ƒä¸ºä¾‹ï¼‰ä½¿ç”¨å®‰è£…å‘½ä»¤ ï¼šyum -y install mysql mysql-server mysql-develå®‰è£…å®Œæˆå´å‘ç°Myserverå®‰è£…ç¼ºå¤±ï¼Œåœ¨ç½‘ä¸Šæ‰¾åŸå› ï¼ŒåŸæ¥æ˜¯å› ä¸ºCentOS 7ä¸ŠæŠŠMySQLä»é»˜è®¤è½¯ä»¶åˆ—è¡¨ä¸­ç§»é™¤äº†ï¼Œç”¨MariaDBæ¥ä»£æ›¿ï¼Œæ‰€ä»¥è¿™å¯¼è‡´æˆ‘ä»¬å¿…é¡»è¦å»å®˜ç½‘ä¸Šè¿›è¡Œä¸‹è½½ï¼Œæ‰¾åˆ°é“¾æ¥ï¼Œ ä¸‹è½½å¹¶å®‰è£…MySQLå®˜æ–¹çš„Yum Repositorywget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤ç›´æ¥å®‰è£…Yum Repositoryyum -y install mysql57-community-release-el7-10.noarch.rpm å®‰è£…MySQLæœåŠ¡å™¨yum -y install mysql-community-server å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹å·²ç»å®‰è£…çš„MySQLç›¸å…³çš„åŒ…ã€‚ 1rpm -qa | grep mysql å¯åŠ¨MySQLæœåŠ¡ã€‚ å…ˆä¿®æ”¹MySQLçš„é…ç½®æ–‡ä»¶ï¼ˆ/etc/my.cnfï¼‰æ·»åŠ ä¸€è¡Œskip-grant-tablesï¼Œå¯ä»¥è®¾ç½®ä¸è¿›è¡Œèº«ä»½éªŒè¯å³å¯è¿æ¥MySQLæœåŠ¡å™¨ï¼Œç„¶åå°±å¯ä»¥ä»¥è¶…çº§ç®¡ç†å‘˜ï¼ˆrootï¼‰èº«ä»½ç™»å½•ã€‚ 1vim /etc/my.cnf 12345678910[mysqld]skip-grant-tablesdatadir=/var/lib/mysqlsocket=/var/lib/mysql/mysql.socksymbolic-links=0log-error=/var/log/mysqld.logpid-file=/var/run/mysqld/mysqld.pid æ¥ä¸‹æ¥å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥å¯åŠ¨MySQLã€‚ 1service mysqld start åœ¨CentOS 7ä¸­å»ºè®®ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥å¯åŠ¨MySQLã€‚ 1systemctl start mysqld ä½¿ç”¨MySQLå®¢æˆ·ç«¯å·¥å…·è¿æ¥æœåŠ¡å™¨ã€‚ å‘½ä»¤è¡Œå·¥å…·ï¼š 1mysql -u root ä¿®æ”¹è¶…çº§ç®¡ç†å‘˜ï¼ˆrootï¼‰çš„è®¿é—®å£ä»¤ä¸ºi_LOVE_macos_123ã€‚ 123use mysql;update user set authentication_string=password('i_LOVE_macos_123') where user='root';flush privileges; å°†MySQLé…ç½®æ–‡ä»¶ä¸­çš„skip-grant-tableså»æ‰ï¼Œç„¶åé‡å¯æœåŠ¡å™¨ï¼Œé‡æ–°ç™»å½•ã€‚è¿™ä¸€æ¬¡éœ€è¦æä¾›ç”¨æˆ·åå’Œå£ä»¤æ‰èƒ½è¿æ¥MySQLæœåŠ¡å™¨ã€‚ 12systemctl restart mysqldmysql -u root -p ä¹Ÿå¯ä»¥é€‰æ‹©å›¾å½¢åŒ–çš„å®¢æˆ·ç«¯å·¥å…·æ¥è¿æ¥MySQLæœåŠ¡å™¨ï¼Œå¯ä»¥é€‰æ‹©ä¸‹åˆ—å·¥å…·ä¹‹ä¸€ï¼š MySQL Workbenchï¼ˆå®˜æ–¹æä¾›çš„å·¥å…·ï¼‰ Navicat for MySQLï¼ˆç•Œé¢ç®€å•ä¼˜é›…ï¼ŒåŠŸèƒ½ç›´è§‚å¼ºå¤§ï¼‰ SQLyog for MySQLï¼ˆå¼ºå¤§çš„MySQLæ•°æ®åº“ç®¡ç†å‘˜å·¥å…·ï¼‰ å¸¸ç”¨å‘½ä»¤ã€‚ æŸ¥çœ‹æœåŠ¡å™¨ç‰ˆæœ¬ã€‚ 1select version(); æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“ã€‚ 1show databases; åˆ‡æ¢åˆ°æŒ‡å®šæ•°æ®åº“ã€‚ 1use mysql; æŸ¥çœ‹æ•°æ®åº“ä¸‹æ‰€æœ‰è¡¨ã€‚ 1show tables; è·å–å¸®åŠ©ã€‚åœ¨mysql&gt;æ‰§è¡Œ 1234567? contents;? functions;? numeric functions;? round;? data types;? longblob; MySQLç›¸å…³çŸ¥è¯†å­˜å‚¨å¼•æ“ InnoDB MyISAM æ•°æ®ç±»å‹ç´¢å¼•ç´¢å¼•çš„ç±»å‹ B-Treeç´¢å¼• HASHç´¢å¼• R-Treeç´¢å¼•ï¼ˆç©ºé—´ç´¢å¼•ï¼‰ Full-textç´¢å¼•ï¼ˆå…¨æ–‡ç´¢å¼•ï¼‰ è§†å›¾æŸ¥è¯¢çš„å¿«ç…§ï¼Œå¯ä»¥å°†è®¿é—®æƒé™æ§åˆ¶åˆ°åˆ—ä¸Šã€‚ 12create view ... as select ...drop view ... å­˜å‚¨è¿‡ç¨‹123456create procedure ... (params)begin...end;call ... 1cursor.callproc('...') è§¦å‘å™¨ä¸èƒ½ç”¨ï¼Œå› ä¸ºå¤šä¸ªè¡Œé”å¯èƒ½ç›´æ¥å‡çº§ä¸ºè¡¨é”ï¼Œå¯¼è‡´æ€§èƒ½ä½ä¸‹ã€‚ äº‹åŠ¡æ§åˆ¶SQLæ³¨å…¥æ”»å‡»æ•°æ®åˆ†åŒºSQLä¼˜åŒ–ä¼˜åŒ–æ­¥éª¤ é€šè¿‡show statusäº†è§£å„ç§SQLçš„æ‰§è¡Œé¢‘ç‡ã€‚ 1234show status like 'com_%';show status like 'innodb_%';show status like 'connections';show status like 'slow_queries'; å®šä½ä½æ•ˆç‡çš„SQLè¯­å¥ - æ…¢æŸ¥è¯¢æ—¥å¿—ã€‚ 1show processlist é€šè¿‡explainäº†è§£SQLçš„æ‰§è¡Œè®¡åˆ’ã€‚ select_typeï¼šæŸ¥è¯¢ç±»å‹ï¼ˆsimpleã€primaryã€unionã€subqueryï¼‰ tableï¼šè¾“å‡ºç»“æœé›†çš„è¡¨ typeï¼šè®¿é—®ç±»å‹ï¼ˆALLã€indexã€rangeã€refã€eq_refã€constã€NULLï¼‰ possible_keysï¼šæŸ¥è¯¢æ—¶å¯èƒ½ç”¨åˆ°çš„ç´¢å¼• keyï¼šå®é™…ä½¿ç”¨çš„ç´¢å¼• key_lenï¼šç´¢å¼•å­—æ®µçš„é•¿åº¦ rowsï¼šæ‰«æçš„è¡Œæ•° extraï¼šé¢å¤–ä¿¡æ¯ é€šè¿‡show profileså’Œshow profile for queryåˆ†æSQLã€‚ SQLä¼˜åŒ– ä¼˜åŒ–insertè¯­å¥ ä¼˜åŒ–order byè¯­å¥ ä¼˜åŒ–group byè¯­å¥ ä¼˜åŒ–åµŒå¥—æŸ¥è¯¢ ä¼˜åŒ–oræ¡ä»¶ ä¼˜åŒ–åˆ†é¡µæŸ¥è¯¢ ä½¿ç”¨SQLæç¤º USE INDEX IGNORE INDEX FORCE INDEX é…ç½®ä¼˜åŒ– è°ƒæ•´max_connections è°ƒæ•´back_log è°ƒæ•´table_open_cache è°ƒæ•´thread_cache_size è°ƒæ•´innodb_lock_wait_timeout æ¶æ„ä¼˜åŒ– é€šè¿‡æ‹†åˆ†æé«˜è¡¨çš„è®¿é—®æ•ˆç‡ å‚ç›´æ‹†åˆ† æ°´å¹³æ‹†åˆ† é€†èŒƒå¼ç†è®º æ•°æ®è¡¨è®¾è®¡çš„è§„èŒƒç¨‹åº¦ç§°ä¹‹ä¸ºèŒƒå¼ï¼ˆNormal Formï¼‰ 1NFï¼šåˆ—ä¸èƒ½å†æ‹†åˆ† 2NFï¼šæ‰€æœ‰çš„å±æ€§éƒ½ä¾èµ–äºä¸»é”® 3NFï¼šæ‰€æœ‰çš„å±æ€§éƒ½ç›´æ¥ä¾èµ–äºä¸»é”®ï¼ˆæ¶ˆé™¤ä¼ é€’ä¾èµ–ï¼‰ BCNFï¼šæ¶ˆé™¤éå¹³å‡¡å¤šå€¼ä¾èµ– ä½¿ç”¨ä¸­é—´è¡¨æé«˜ç»Ÿè®¡æŸ¥è¯¢é€Ÿåº¦ æ•°æ®å¤‡ä»½å¯¼å…¥å’Œå¯¼å‡º select â€¦ into outfile â€¦ load data infile â€¦ into table â€¦ mysqldump mysqlimport ibbackupå·¥å…·xtrabackupå·¥å…·ä¸»ä»å¤åˆ¶é›†ç¾¤","link":"/2018/09/19/å…³ç³»æ•°æ®åº“Mysql/"},{"title":"åšå®¢å…¥é—¨","text":"æ¬¢è¿ä½¿ç”¨ GuoTZ ç‰ˆ åšå®¢åšå®¢ æ‰€ä½¿ç”¨çš„ Markdown è¯­æ³•ä¸º Github Flavored Markdownï¼Œç®€ç§° GFMï¼Œè¿™æ˜¯ä¸€ç§æœ€ä¸ºå¹¿æ³›ä½¿ç”¨çš„ Markdown è¯­æ³•ä¹‹ä¸€ã€‚å¦‚æœä½ ä¸çŸ¥é“ä»€ä¹ˆæ˜¯ Markdownï¼Œå»ºè®®çœ‹ä¸€ä¸‹é™„å¸¦çš„ Markdown è¯­æ³•å®˜æ–¹è¯´æ˜ æ–‡æ¡£ã€‚GFM é™¤äº†æ”¯æŒå®˜æ–¹çš„è¯­æ³•å¤–ï¼Œè¿˜æ‰©å±•äº†ä¸å°‘è¯­æ³•ã€‚ GuoTZ ç‰ˆ åšå®¢ çš„ä¸»è¦ç•Œé¢å’ŒåŠŸèƒ½1[Markdown è¯­æ³•å®˜æ–¹è¯´æ˜](Markdown Syntax.md) Markdown è¯­æ³•å®˜æ–¹è¯´æ˜ 1![å±•ç¤ºå›¾ç‰‡](http://uploads.scratch.mit.edu/projects/thumbnails/120894657.png) å›è½¦è½¬ä¸ºæ¢è¡Œå®˜æ–¹çš„è¯­æ³•è§„å®šç»“å°¾åŠ  2 ä¸ªä»¥ä¸Šç©ºæ ¼åŠ æ¢è¡Œæ‰ä¼šè½¬æˆæ¢è¡Œï¼Œä¹Ÿå°±æ˜¯ &lt;br /&gt; æ ‡ç­¾ã€‚MWeb ä¸­æœ‰ä¸ªé€‰é¡¹å¯ä»¥ç›´æ¥æŠŠæ¢è¡Œè½¬æˆ &lt;br /&gt;ï¼Œä¸ç”¨åŠ ä¸Š 2 ä¸ªä»¥ä¸Šç©ºæ ¼ï¼Œè¿™ä¸ªé€‰é¡¹é»˜è®¤æ˜¯å¼€å¯çš„ã€‚å¦‚æœè¦å…³é—­ï¼Œè¯·åœ¨è®¾ç½®é¡µé¢å…³é—­ã€‚ ä»»åŠ¡åˆ—è¡¨ï¼ˆTask listsï¼‰Markdown è¯­æ³•ï¼š 12- [ ] ä»»åŠ¡ä¸€ æœªåšä»»åŠ¡ `- + ç©ºæ ¼ + [ ]`- [x] ä»»åŠ¡äºŒ å·²åšä»»åŠ¡ `- + ç©ºæ ¼ + [x]` æ•ˆæœå¦‚ä¸‹ï¼š ä»»åŠ¡ä¸€ æœªåšä»»åŠ¡ - + ç©ºæ ¼ + [ ] ä»»åŠ¡äºŒ å·²åšä»»åŠ¡ - + ç©ºæ ¼ + [x] å›¾ç‰‡å¤§å°åŠå¯¹é½å®˜æ–¹å’Œ GFM éƒ½ä¸æ”¯æŒå›¾ç‰‡å¤§å°æ§åˆ¶åŠå¯¹é½è®¾ç½®ã€‚ å¤šè¡Œæˆ–è€…ä¸€æ®µä»£ç Markdown è¯­æ³•ï¼š 123456function fancyAlert(arg) { if(arg) { $.facebox({div:'#foo'}) }} æ•ˆæœå¦‚ä¸‹ï¼š 123456function fancyAlert(arg) { if(arg) { $.facebox({div:'#foo'}) }} è¿™ä¸ªè¯­æ³•ç›®å‰åœ¨ åšå®¢ ä¸­ä½¿ç”¨ï¼Œå¿…é¡»å‰åç©ºä¸€è¡Œï¼Œæ‰ä¼šæ­£ç¡®è§£æã€‚æˆ‘è§‰å¾—ï¼Œåœ¨å†™ Markdown æ–‡æ¡£è¿‡ç¨‹ä¸­ï¼Œè¿ç”¨ç©ºè¡Œå¾ˆæœ‰å¿…è¦ï¼ŒåŸºæœ¬ä¸Šï¼Œå—çº§å…ƒç´ ï¼ˆæ ‡é¢˜ã€åˆ—è¡¨ã€å¼•ç”¨ã€ä»£ç å—ã€è¡¨æ ¼ã€æ®µè½ç­‰ï¼‰ï¼Œéƒ½å»ºè®®å‰åç©ºä¸€è¡Œã€‚ è¡¨æ ¼Markdown è¯­æ³•ï¼š 1234ç¬¬ä¸€æ ¼è¡¨å¤´ | ç¬¬äºŒæ ¼è¡¨å¤´--------- | -------------å†…å®¹å•å…ƒæ ¼ ç¬¬ä¸€åˆ—ç¬¬ä¸€æ ¼ | å†…å®¹å•å…ƒæ ¼ç¬¬äºŒåˆ—ç¬¬ä¸€æ ¼å†…å®¹å•å…ƒæ ¼ ç¬¬ä¸€åˆ—ç¬¬äºŒæ ¼ å¤šåŠ æ–‡å­— | å†…å®¹å•å…ƒæ ¼ç¬¬äºŒåˆ—ç¬¬äºŒæ ¼ æ•ˆæœå¦‚ä¸‹ï¼š ç¬¬ä¸€æ ¼è¡¨å¤´ ç¬¬äºŒæ ¼è¡¨å¤´ å†…å®¹å•å…ƒæ ¼ ç¬¬ä¸€åˆ—ç¬¬ä¸€æ ¼ å†…å®¹å•å…ƒæ ¼ç¬¬äºŒåˆ—ç¬¬ä¸€æ ¼ å†…å®¹å•å…ƒæ ¼ ç¬¬ä¸€åˆ—ç¬¬äºŒæ ¼ å¤šåŠ æ–‡å­— å†…å®¹å•å…ƒæ ¼ç¬¬äºŒåˆ—ç¬¬äºŒæ ¼ åˆ é™¤çº¿Markdown è¯­æ³•ï¼š åŠ åˆ é™¤çº¿åƒè¿™æ ·ç”¨ï¼š ~~åˆ é™¤è¿™äº›~~ æ•ˆæœå¦‚ä¸‹ï¼š åŠ åˆ é™¤çº¿åƒè¿™æ ·ç”¨ï¼š åˆ é™¤è¿™äº› LaTeXMarkdown è¯­æ³•ï¼š 12345678å—çº§å…¬å¼ï¼š$$ x = \\dfrac{-b \\pm \\sqrt{b^2 - 4ac}}{2a} $$\\\\[ \\frac{1}{\\Bigl(\\sqrt{\\phi \\sqrt{5}}-\\phi\\Bigr) e^{\\frac25 \\pi}} =1+\\frac{e^{-2\\pi}} {1+\\frac{e^{-4\\pi}} {1+\\frac{e^{-6\\pi}}{1+\\frac{e^{-8\\pi}} {1+\\ldots} } } } \\\\]è¡Œå†…å…¬å¼ï¼š $\\Gamma(n) = (n-1)!\\quad\\forall n\\in\\mathbb N$ æ•ˆæœå¦‚ä¸‹ï¼ˆåœ¨è®¾ç½®é¡µé¢ä¸­å¯ç”¨ LaTeX æ‰ä¼šçœ‹åˆ°æ•ˆæœï¼Œé»˜è®¤ä¸ºå¯ç”¨ï¼‰ï¼š å—çº§å…¬å¼ï¼š$$ x = \\dfrac{-b \\pm \\sqrt{b^2 - 4ac}}{2a} $$ \\[ \\frac{1}{\\Bigl(\\sqrt{\\phi \\sqrt{5}}-\\phi\\Bigr) e^{\\frac25 \\pi}} =1+\\frac{e^{-2\\pi}} {1+\\frac{e^{-4\\pi}} {1+\\frac{e^{-6\\pi}}{1+\\frac{e^{-8\\pi}} {1+\\ldots} } } } \\] è¡Œå†…å…¬å¼ï¼š $\\Gamma(n) = (n-1)!\\quad\\forall n\\in\\mathbb N$ è„šæ³¨ï¼ˆFootnoteï¼‰Markdown è¯­æ³•ï¼š 1è¿™æ˜¯ä¸€ä¸ªè„šæ³¨ï¼š[^sample_footnote] æ•ˆæœå¦‚ä¸‹ï¼š è¿™æ˜¯ä¸€ä¸ªè„šæ³¨ï¼š^sample_footnote æ³¨é‡Šå’Œé˜…è¯»æ›´å¤š æ³¨ é˜…è¯»æ›´å¤šçš„åŠŸèƒ½åªç”¨åœ¨æ–‡æ¡£åº“ç”Ÿæˆé™æ€ç½‘ç«™æˆ–å‘å¸ƒåˆ° Wordpress åšå®¢æ—¶ï¼Œæ’å…¥æ—¶æ³¨æ„è¦åç©ºä¸€è¡Œã€‚ TOCMarkdown è¯­æ³•ï¼š 1[TOC] æ•ˆæœå¦‚ä¸‹ï¼š [TOC] markdownè¯­æ³•é«˜äº® Apache Bash C# C++ CSS CoffeeScript Diff HTML, XML HTTP Ini, TOML JSON Java JavaScript Makefile Markdown Nginx Objective-C PHP Perl Properties Python Ruby SQL Shell Session Other Swift TP agger Script TypeScript VB.NET Vim new â€œç®—æ³•-ï¼šæ’åºç®—æ³•â€servergeneratedeploy","link":"/2016/12/12/åšå®¢å…¥é—¨/"},{"title":"æ•°æ®ç»“æ„","text":"çº¿æ€§æ•°æ®ç»“æ„æ•°ç»„å®šä¹‰æ ˆå®šä¹‰æ ˆçš„åŠŸèƒ½åè®®æ¥å£æ•°ç»„æ ˆç”¨æ•°ç»„å®ç°æ ˆç»“æ„æ•°ç»„æ ˆçš„ä½¿ç”¨é“¾è¡¨æ ˆç”¨é“¾è¡¨å®ç°æ ˆç»“æ„é“¾è¡¨æ ˆçš„ä½¿ç”¨é˜Ÿåˆ—å®šä¹‰é˜Ÿåˆ—çš„åŠŸèƒ½åè®®æ¥å£æ•°ç»„é˜Ÿåˆ—ç”¨æ•°ç»„å®ç°é˜Ÿåˆ—ç»“æ„æ•°ç»„é˜Ÿåˆ—çš„ä½¿ç”¨å¾ªç¯é˜Ÿåˆ—ç”¨æ•°ç»„å¾ªç¯å®ç°é˜Ÿåˆ—ç»“æ„é“¾è¡¨é˜Ÿåˆ—ç”¨é“¾è¡¨å®ç°é˜Ÿåˆ—ç»“æ„é“¾è¡¨æ ˆçš„ä½¿ç”¨åˆ†æé“¾è¡¨é˜Ÿåˆ—é“¾è¡¨é˜Ÿåˆ—ä¼˜åŒ–é“¾è¡¨å®šä¹‰é“¾è¡¨çš„ç»“æ„é“¾è¡¨çš„å®ç°é“¾è¡¨çš„å¢é“¾è¡¨çš„æ”¹é“¾è¡¨çš„æŸ¥é“¾è¡¨çš„åˆ é“¾è¡¨çš„ä½¿ç”¨äºŒåˆ†æœç´¢æ ‘å®šä¹‰äºŒåˆ†æœç´¢æ ‘çš„ç»“æ„äºŒåˆ†æœç´¢æ ‘çš„å®ç°äºŒåˆ†æœç´¢æ ‘æŸ¥è¯¢æŸèŠ‚ç‚¹äºŒåˆ†æœç´¢æ ‘çš„éå†å‰åºéå†ä¸­åºéå†ååºéå†éé€’å½’å‰åºéå†æ ˆå±‚åºéå†é˜Ÿåˆ—é›†åˆçš„åº•å±‚å®ç° é“¾è¡¨å®ç°é›†åˆ äºŒåˆ†æœç´¢æ ‘é›†åˆ æ˜ å°„ map å­—å…¸ dictåº•å±‚å®ç° é“¾è¡¨å®ç° äºŒåˆ†æœç´¢æ•°å®ç° äºŒå‰å † ä¼˜å…ˆé˜Ÿåˆ— ç»“æ„ å…¥ å‡º äºŒå‰å † Oã’n Oã’n é¡ºåºçº¿æ€§ç»“æ„ O1 On æ™®é€šçº¿æ€§ç»“æ„ On O1 çº¿æ®µæ ‘ Tireå­—å…¸æ ‘å¹¶æŸ¥é›†å¹³è¡¡æ ‘å’ŒAVLçº¢é»‘æ ‘å“ˆå¸Œè¡¨","link":"/2017/09/12/æ•°æ®ç»“æ„/"},{"title":"æ•°æ®ç»“æ„ä¹‹äºŒåˆ†æœç´¢æ ‘","text":"äºŒåˆ†æœç´¢æ ‘swiftä»£ç  å®šä¹‰äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBinary Search Treeï¼‰ï¼Œä¹Ÿç§°æœ‰åºäºŒå‰æ ‘ï¼ˆordered binary treeï¼‰,æ’åºäºŒå‰æ ‘ï¼ˆsorted binary treeï¼‰ï¼Œæ˜¯æŒ‡ä¸€æ£µç©ºæ ‘æˆ–è€…å…·æœ‰ä¸‹åˆ—æ€§è´¨çš„äºŒå‰æ ‘ï¼š è‹¥ä»»æ„èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼› ä»»æ„èŠ‚ç‚¹çš„å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼› ä»»æ„èŠ‚ç‚¹çš„å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘ã€‚ æ²¡æœ‰é”®å€¼ç›¸ç­‰çš„èŠ‚ç‚¹ï¼ˆno duplicate nodesï¼‰ã€‚ äºŒåˆ†æœç´¢æ ‘çš„ç»“æ„123456789101112131415161718/// å…ƒæŸ¥æ‰¾æ ‘çš„èŠ‚ç‚¹class Node&lt;E&gt;:CustomDebugStringConvertible { ///æ•°æ®åŸŸ public var e:E /// å·¦å­æ ‘ public var left: Node&lt;E&gt;? /// å³å­æ ‘ public var right: Node&lt;E&gt;? init(e:E) { self.e = e self.left = nil self.right = nil } var debugDescription: String { return \"\\(e)\" }} äºŒåˆ†æœç´¢æ ‘çš„å®ç°123456789101112131415161718192021222324/// äºŒåˆ†æœç´¢æ ‘çš„æ•°æ®æ˜¯å…·æœ‰æ¯”è¾ƒæ€§çš„class BST&lt;E&gt;:CustomDebugStringConvertible where E:Comparable { private var root:Node&lt;E&gt;? private var size:Int init() { self.size=0 self.root=nil } public func getSize() -&gt; Int { return self.size } public func isEmpty() -&gt; Bool{ return self.size == 0; } var debugDescription: String { return \"\" } } äºŒåˆ†æœç´¢æ ‘çš„æ·»åŠ èŠ‚ç‚¹1234567891011121314151617181920// å‘äºŒåˆ†æœç´¢æ ‘ä¸­æ·»åŠ æ–°çš„å…ƒç´ epublic func add(e:E){ root = add(node: self.root, e: e) }// å‘ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘ä¸­æ’å…¥å…ƒç´ eï¼Œé€’å½’ç®—æ³•private func add(node:Node&lt;E&gt;?, e:E) -&gt; Node&lt;E&gt;?{ if node == nil { size += 1 return Node.init(e: e) } if e &lt; node!.e { node?.left = add(node: node?.left, e: e) } else if e &gt; node!.e { node?.right = add(node: node?.right, e: e) } return node} äºŒåˆ†æœç´¢æ ‘æŸ¥è¯¢æŸèŠ‚ç‚¹1234567891011121314151617181920// çœ‹äºŒåˆ†æœç´¢æ ‘ä¸­æ˜¯å¦åŒ…å«å…ƒç´ epublic func contains(e:E) -&gt; Bool{ return self.contains(node: root, e: e)}// çœ‹ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘ä¸­æ˜¯å¦åŒ…å«å…ƒç´ e, é€’å½’ç®—æ³•private func contains(node:Node&lt;E&gt;?, e:E) -&gt; Bool{ if node==nil { return false; } if e == node!.e { return true } else if e &lt; node!.e { return contains(node: node?.left, e: e) } else { return contains(node: node?.right, e: e) }} äºŒåˆ†æœç´¢æ ‘çš„éå†å‰åºéå†123456789101112131415// äºŒåˆ†æœç´¢æ ‘çš„å‰åºéå†public func preOrder(){ self.preOrder(node: self.root);}// å‰åºéå†ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘, é€’å½’ç®—æ³•private func preOrder(node:Node&lt;E&gt;?){ if node==nil { return } print(node!.e); self.preOrder(node: node!.left); self.preOrder(node: node!.right);} ä¸­åºéå†ä¸­åºåŠç”±å°åˆ°å¤§çš„æ’åº12345678910111213141516// äºŒåˆ†æœç´¢æ ‘çš„ä¸­åºéå†//å¤§å°é¡ºåºæ’åˆ—public func inOrder(){ self.inOrder(node: self.root);}// ä¸­åºéå†ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘é€‰å·¦å†æ ¹å†å³èŠ‚ç‚¹, é€’å½’ç®—æ³•private func inOrder(node:Node&lt;E&gt;?){ if node==nil { return } self.inOrder(node: node!.left); print(node!.e); self.inOrder(node: node!.right);} ååºéå†12345678910111213/// ååºéå†public func postOrder() { self.postOrder(node: self.root)}private func postOrder(node:Node&lt;E&gt;?) { if node == nil { return } self.postOrder(node: node?.left) self.postOrder(node: node?.right) print(node!.e)} éé€’å½’å‰åºéå†åˆ©ç”¨æ ˆç»“æ„å®ç°é€’å½’æ ˆçš„ç»“æ„1234567891011121314151617// äºŒåˆ†æœç´¢æ ‘çš„éé€’å½’å‰åºéå†public func preOrderNR(){ let stack = ListStack&lt;Node&lt;E&gt;&gt;(); stack.push(e: root!); while(!stack.isEmpty()){ let cur = stack.pop(); print(\"\\(String(describing: (cur?.e)!))\"); if(cur?.right != nil){ stack.push(e: (cur?.right)!); } if(cur?.left != nil){ stack.push(e: (cur?.left)!); } }} å±‚åºéå†åˆ©ç”¨é˜Ÿåˆ—çš„å…ˆè¿›é€‰å‡ºçš„åŸç†ï¼Œä»è·ŸèŠ‚ç‚¹éå†æœç´¢æ ‘ï¼Œä¾æ¬¡å°†è¯¥èŠ‚ç‚¹çš„å·¦å³å­æ ‘åŠ å…¥é˜Ÿåˆ—ä¸­ï¼Œæ¯å¤„ç†å®Œä¸€ä¸ªèŠ‚ç‚¹åéƒ½å°†å…¶å·¦å³å­æ ‘åŠ å…¥é˜Ÿåˆ—å³å¯ï¼Œ**çŸ¥é“å·¦å³å­æ ‘ä¸ºnil**1234567891011121314151617181920// äºŒåˆ†æœç´¢æ ‘çš„å±‚åºéå†public func levelOrder(){ let q = ListQueue&lt;Node&lt;E&gt;&gt;(); if self.root==nil { return } q.enqueue(e: self.root!) while(!q.isEmpty()){ let cur = q.dequeue() print(\"\\(String(describing: (cur?.e)!))\") if(cur?.left != nil){ q.enqueue(e: (cur?.left)!) } if(cur?.right != nil){ q.enqueue(e: (cur?.right)!) } }} æœç´¢æ ‘çš„ä½¿ç”¨1234567891011121314151617var bst = BST&lt;Int&gt;()//var list = [1,4,6,2,3,4,55,67,8,9,10]var list = [11,21,23,20,5,6,7,8,9,3,11,12,4,14,15,16,17,18,19]for i in list { bst .add(e: i)}print(\"-------å‰åº-----------\")bst.preOrder()print(\"-------éé€’å½’å‰åº-----------\")bst.preOrderNR()print(\"-------å±‚åº-----------\")bst.levelOrder()print(\"-------ä¸­åº-----------\")bst.inOrder()print(\"-------ååº-----------\")bst.postOrder() ä¸Šé¢ä»£ç äº§ç”Ÿçš„äºŒåˆ†æœç´¢æ ‘çš„ç»“æ„å¦‚ä¸‹å…¶æ‰“å°ç»“æ„12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697Hello, World!-------å‰åº-----------11534678921201214151617181923-------éé€’å½’å‰åº-----------11534678921201214151617181923-------å±‚åº-----------11521362023471281491516171819-------ä¸­åº-----------34567891112141516171819202123-------ååº-----------43987651918171615141220232111Program ended with exit code: 0","link":"/2017/10/01/æ•°æ®ç»“æ„ä¹‹äºŒåˆ†æœç´¢æ ‘/"},{"title":"æ•°æ®ç»“æ„ä¹‹äºŒåˆ†æœç´¢æ ‘2","text":"æ•°æ®ç»“æ„ä¹‹äºŒåˆ†æœç´¢æ ‘2æŸ¥æ‰¾æœ€å€¼æŸ¥æ‰¾æœ€å°å€¼1234567891011121314151617181920// å¯»æ‰¾äºŒåˆ†æœç´¢æ ‘çš„æœ€å°å…ƒç´ public func minimum() -&gt;E?{ if(size == 0){ return nil } let minNode = minimum(node: self.root); return minNode?.e;}// è¿”å›ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘çš„æœ€å°å€¼æ‰€åœ¨çš„èŠ‚ç‚¹private func minimum(node:Node&lt;E&gt;?) -&gt; Node&lt;E&gt;?{ if node == nil { return nil } if( node!.left == nil ){ return node } return minimum(node: node?.left);} æŸ¥æ‰¾æœ€å¤§å€¼1234567891011121314151617181920// å¯»æ‰¾äºŒåˆ†æœç´¢æ ‘çš„æœ€daå…ƒç´ public func maxmum() -&gt;E?{ if(size == 0){ return nil } let minNode = maxmum(node: self.root); return minNode?.e;}// è¿”å›ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘çš„æœ€å¤§å€¼æ‰€åœ¨çš„èŠ‚ç‚¹private func maxmum(node:Node&lt;E&gt;?) -&gt; Node&lt;E&gt;?{ if node == nil { return nil } if( node!.left == nil ){ return node } return minimum(node: node?.right);} è°ƒè¯•123456789101112var bst = BST&lt;Int&gt;()//var list = [1,4,6,2,3,4,55,67,8,9,10]var list = [11,21,23,20,5,6,7,8,9,3,11,12,4,14,15,16,17,18,19]for i in list { bst .add(e: i)}print(\"-------mini-----------\")print(bst.minimum())print(\"-------max-----------\")print(bst.maxmum()) 12345-------mini-----------3-------max-----------23Program ended with exit code: 0 åˆ é™¤æœ€å€¼åˆ é™¤æœ€å°å€¼1234567891011121314151617181920212223// ä»äºŒåˆ†æœç´¢æ ‘ä¸­åˆ é™¤æœ€å°å€¼æ‰€åœ¨èŠ‚ç‚¹, è¿”å›æœ€å°å€¼public func removeMin() -&gt;E?{ let ret = minimum(); root = removeMin(node: root); return ret;}// åˆ é™¤æ‰ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘ä¸­çš„æœ€å°èŠ‚ç‚¹// è¿”å›åˆ é™¤èŠ‚ç‚¹åæ–°çš„äºŒåˆ†æœç´¢æ ‘çš„æ ¹private func removeMin(node:Node&lt;E&gt;?)-&gt;Node&lt;E&gt;?{ if node == nil { return nil } if(node!.left == nil){ let rightNode = node?.right; node!.right = nil; size -= 1; return rightNode; } node!.left = removeMin(node: node!.left); return node;} åˆ é™¤æœ€å¤§å€¼1234567891011121314151617181920212223// ä»äºŒåˆ†æœç´¢æ ‘ä¸­åˆ é™¤æœ€å¤§å€¼æ‰€åœ¨èŠ‚ç‚¹, è¿”å›æœ€å¤§å€¼public func removeMax() -&gt;E?{ let ret = maxmum(); root = removeMax(node: root); return ret;}// åˆ é™¤æ‰ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘ä¸­çš„æœ€å¤§èŠ‚ç‚¹// è¿”å›åˆ é™¤èŠ‚ç‚¹åæ–°çš„äºŒåˆ†æœç´¢æ ‘çš„æ ¹private func removeMax(node:Node&lt;E&gt;?)-&gt;Node&lt;E&gt;?{ if node == nil { return nil } if(node!.right == nil){ let leftNode = node?.left; node!.left = nil; size -= 1; return leftNode; } node!.right = removeMax(node: node!.right); return node;} 123456789101112131415161718192021222324252627var bst = BST&lt;Int&gt;()//var list = [1,4,6,2,3,4,55,67,8,9,10]var list = [11,21,23,20,5,6,7,8,9,3,11,12,4,14,15,16,17,18,19]for i in list { bst .add(e: i)}print(\"-------mini-----------\")print(bst.minimum() ?? -1)print(\"-------max-----------\")print(bst.maxmum() ?? -1)bst.removeMin()bst.removeMax()print(\"-------åˆ é™¤æœ€å°å€¼å-----------\")print(bst.minimum() ?? -1)print(\"-------åˆ é™¤æœ€å¤§å€¼-----------\")print(bst.maxmum() ?? -1)-------mini-----------3-------max-----------23-------åˆ é™¤æœ€å°å€¼å-----------4-------åˆ é™¤æœ€å¤§å€¼-----------21Program ended with exit code: 0 åˆ é™¤ä»»æ„å€¼1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253// ä»äºŒåˆ†æœç´¢æ ‘ä¸­åˆ é™¤å…ƒç´ ä¸ºeçš„èŠ‚ç‚¹public func remove(e:E){ root = remove(node: root, e: e);}// åˆ é™¤æ‰ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘ä¸­å€¼ä¸ºeçš„èŠ‚ç‚¹, é€’å½’ç®—æ³•// è¿”å›åˆ é™¤èŠ‚ç‚¹åæ–°çš„äºŒåˆ†æœç´¢æ ‘çš„æ ¹private func remove(node:Node&lt;E&gt;?,e:E)-&gt;Node&lt;E&gt;?{ if( node == nil ){ return nil } if( e &lt; node!.e ){ node!.left = remove(node: node!.left , e: e) return node } else if(e &gt; node!.e){ node!.right = remove(node: node!.right, e: e) return node } else{ // e.compareTo(node.e) == 0 // å¾…åˆ é™¤èŠ‚ç‚¹å·¦å­æ ‘ä¸ºç©ºçš„æƒ…å†µ if(node!.left == nil){ let rightNode = node!.right node!.right = nil size -= 1 return rightNode } // å¾…åˆ é™¤èŠ‚ç‚¹å³å­æ ‘ä¸ºç©ºçš„æƒ…å†µ if(node!.right == nil){ let leftNode = node!.left node!.left = nil size -= 1 return leftNode } // å¾…åˆ é™¤èŠ‚ç‚¹å·¦å³å­æ ‘å‡ä¸ä¸ºç©ºçš„æƒ…å†µ // æ‰¾åˆ°æ¯”å¾…åˆ é™¤èŠ‚ç‚¹å¤§çš„æœ€å°èŠ‚ç‚¹, å³å¾…åˆ é™¤èŠ‚ç‚¹å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹ // ç”¨è¿™ä¸ªèŠ‚ç‚¹é¡¶æ›¿å¾…åˆ é™¤èŠ‚ç‚¹çš„ä½ç½® let successor = Node(e: (minimum(node: node?.right)?.e)!) size += 1 successor.right = removeMin(node: node?.right) successor.left = node!.left node!.left = nil node!.right = nil size -= 1 return successor }}","link":"/2017/10/01/æ•°æ®ç»“æ„ä¹‹äºŒåˆ†æœç´¢æ ‘2/"},{"title":"æ•°æ®ç»“æ„ä¹‹æ ˆå®ç°","text":"æ ˆswiftä»£ç  å®šä¹‰ï¼šæ ˆæ˜¯é™å®šä»…åœ¨è¡¨å¤´è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œçš„çº¿æ€§è¡¨æ ˆçš„åŠŸèƒ½åè®®æ¥å£1234567891011121314151617181920212223242526272829protocol StackAble { associatedtype E /// æŸ¥è¯¢æ ˆçš„ä¸ªæ•° /// /// - Returns: func func getSize() -&gt; Int /// æŸ¥è¯¢æ ˆæ˜¯å¦ä¸ºç©º /// /// - Returns: true false func isEmpty() -&gt; Bool /// å…¥æ ˆ /// /// - Parameter e: å…¥æ ˆçš„æ•°æ® /// - Returns: return value description mutating func push(e:E) throws /// å‡ºæ ˆ /// /// - Returns: å€¼ mutating func pop() throws -&gt; E? /// æŸ¥çœ‹æ ˆé¡¶çš„æ•°æ® /// /// - Returns: return value description func peek() throws -&gt; E?} æ•°ç»„æ ˆç”¨æ•°ç»„å®ç°æ ˆç»“æ„12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758struct ArrayStack&lt;E&gt;: StackAble { private var data:[E] init() { self.data = Array&lt;E&gt;() } func getSize() -&gt; Int { return self.data.count } func isEmpty() -&gt; Bool { return self.data.count == 0 } mutating func push(e: E) throws{ self.data.insert(e, at: 0) } mutating func pop() throws -&gt; E? { let e = self.data.first if e == nil { throw OperationError.ErrorMsg(\"ä¸å­˜åœ¨\") } self.data.remove(at: 0) return e! } func peek() throws -&gt; E? { let e = self.data.first if e == nil { throw OperationError.ErrorMsg(\"æ ˆé¡¶ä¸å­˜åœ¨å…ƒç´ \") } return e! } // é‡å†™åŸºç±»ä¸­descriptionå±æ€§ var description: String { var res = String(); res.append(\"Stack: \"); res.append(\"top [\"); for i in 0..&lt;self.data.count { res.append(\"\\(self.data[i])\"); if (i != self.data.count - 1){ res.append(\", \"); } } res.append(\"]\"); return res; }}/// å®šä¹‰é”™è¯¯ç±»å‹////// - ErrorMsg: ErrorMsg description/// - ErrorOther: ErrorOther descriptionenum OperationError : Error { case ErrorMsg(String) case ErrorOther} æ•°ç»„æ ˆçš„ä½¿ç”¨123456789var stack = ArrayStack&lt;Int&gt;()for i in 0...10 { stack.push(e: i) print(stack.description)}try! stack.pop()print(stack.description) è¾“å‡ºç»“æœ12345678910111213Stack: top [0]Stack: top [1, 0]Stack: top [2, 1, 0]Stack: top [3, 2, 1, 0]Stack: top [4, 3, 2, 1, 0]Stack: top [5, 4, 3, 2, 1, 0]Stack: top [6, 5, 4, 3, 2, 1, 0]Stack: top [7, 6, 5, 4, 3, 2, 1, 0]Stack: top [8, 7, 6, 5, 4, 3, 2, 1, 0]Stack: top [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]Stack: top [10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]Stack: top [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]Program ended with exit code: 0 é“¾è¡¨æ ˆç”¨é“¾è¡¨å®ç°æ ˆç»“æ„é“¾è¡¨çš„å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445struct LinkedStack&lt;E&gt;:StackAble where E:Equatable { var data: LinkedList&lt;E&gt; init() { self.data = LinkedList&lt;E&gt;() } func getSize() -&gt; Int { return self.data.getSize() } func isEmpty() -&gt; Bool { return self.data.isEmpty() } mutating func push(e: E) throws { try self.data.addLast(e: e) } mutating func pop() throws -&gt; E? { return try self.data.removeFirst() } func peek() throws -&gt; E? { return try self.data.getFirst() } // é‡å†™åŸºç±»ä¸­descriptionå±æ€§ var description: String { var res = String(); res.append(\"Stack: \"); res.append(\"top [\"); for i in 0..&lt;self.data.getSize() { if let e = (try? self.data.get(index: i)) { res.append(\"\\(String(describing:e ))\"); if (i != self.data.getSize() - 1){ res.append(\", \"); } } } res.append(\"]\"); return res; }} é“¾è¡¨æ ˆçš„ä½¿ç”¨123456789var stack = LinkedStack&lt;Int&gt;()for i in 0...10 { try stack.push(e: i) print(stack.description)}try! stack.pop()print(stack.description) è¾“å‡ºç»“æœ12345678910111213é“¾è¡¨æ ˆ: æ ˆé¡¶ [0]é“¾è¡¨æ ˆ: æ ˆé¡¶ [0, 1]é“¾è¡¨æ ˆ: æ ˆé¡¶ [0, 1, 2]é“¾è¡¨æ ˆ: æ ˆé¡¶ [0, 1, 2, 3]é“¾è¡¨æ ˆ: æ ˆé¡¶ [0, 1, 2, 3, 4]é“¾è¡¨æ ˆ: æ ˆé¡¶ [0, 1, 2, 3, 4, 5]é“¾è¡¨æ ˆ: æ ˆé¡¶ [0, 1, 2, 3, 4, 5, 6]é“¾è¡¨æ ˆ: æ ˆé¡¶ [0, 1, 2, 3, 4, 5, 6, 7]é“¾è¡¨æ ˆ: æ ˆé¡¶ [0, 1, 2, 3, 4, 5, 6, 7, 8]é“¾è¡¨æ ˆ: æ ˆé¡¶ [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]é“¾è¡¨æ ˆ: æ ˆé¡¶ [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]é“¾è¡¨æ ˆ: æ ˆé¡¶ [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]Program ended with exit code: 0","link":"/2017/09/14/æ•°æ®ç»“æ„ä¹‹æ ˆå®ç°/"},{"title":"æ•°æ®ç»“æ„ä¹‹æ•°ç»„å®ç°","text":"","link":"/2017/09/12/æ•°æ®ç»“æ„ä¹‹æ•°ç»„å®ç°/"},{"title":"æ•°æ®ç»“æ„ä¹‹é“¾è¡¨å®ç°","text":"é“¾è¡¨swiftä»£ç  çº¿æ€§è¡¨çš„é“¾å¼å­˜å‚¨è¡¨ç¤ºçš„ç‰¹ç‚¹æ˜¯ç”¨ä¸€ç»„ä»»æ„çš„å­˜å‚¨å•å…ƒå­˜å‚¨çº¿æ€§è¡¨çš„æ•°æ®å…ƒç´ ï¼ˆè¿™ç»„å­˜å‚¨å•å…ƒå¯ä»¥æ˜¯è¿ç»­çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸è¿ç»­çš„ï¼‰é“¾è¡¨çš„ç»“æ„1234567891011121314151617181920212223public class Node&lt;Element&gt;: CustomDebugStringConvertible { public var e: Element? //æ•°æ®åŸŸ public var node: Node&lt;Element&gt;? //æŒ‡é’ˆåŸŸ init(e:Element?,node:Node&lt;Element&gt;?) { self.e = e self.node = node } convenience init(e:Element?) { self.init(e: e,node: nil) } convenience init() { self.init(e: nil,node: nil) } public var debugDescription: String { return self.e == nil ? \"nil\" : String(describing: self.e!) }} é“¾è¡¨çš„å®ç°12345678910111213141516171819202122232425262728293031/// E å¿…é¡»éµå®ˆç›¸ç­‰åè®® Equatableclass LinkedList&lt;E&gt; where E:Equatable { /// è™šæ‹Ÿå¤´ç»“ç‚¹ private var dummyHead:Node&lt;E&gt; /// é“¾è¡¨çš„å¤§å° private var size:Int init() { self.size = 0 self.dummyHead = Node&lt;E&gt;() } // è·å–é“¾è¡¨ä¸­çš„å…ƒç´ ä¸ªæ•° public func getSize() -&gt; Int{ return size; } // è¿”å›é“¾è¡¨æ˜¯å¦ä¸ºç©º public func isEmpty() -&gt; Bool{ return size == 0; } var description: String { var res = String(); var cur = dummyHead.node while(cur != nil){ res.append(cur!.debugDescription + \"-&gt;\"); cur = cur?.node } res.append(\"nil\") return res }} é“¾è¡¨çš„å¢123456789101112131415161718192021222324252627// åœ¨é“¾è¡¨çš„index(0-based)ä½ç½®æ·»åŠ æ–°çš„å…ƒç´ epublic func add(index:Int, e:E) throws -&gt; Void{ if (index &lt; 0 || index &gt; size){ throw OperationError.ErrorMsg(\"æ·»åŠ å¤±è´¥ã€‚éæ³•ç´¢å¼•ã€‚\") } var prev:Node&lt;E&gt;? = dummyHead; for _ in 0..&lt;index { prev = prev?.node } if let prev = prev { prev.node = Node.init(e: e, node: prev.node); } self.size += 1;}// åœ¨é“¾è¡¨å¤´æ·»åŠ æ–°çš„å…ƒç´ epublic func addFirst(e:E) throws -&gt; Void{ try add(index: 0, e: e);}// åœ¨é“¾è¡¨æœ«å°¾æ·»åŠ æ–°çš„å…ƒç´ epublic func addLast(e:E) throws -&gt; Void{ try add(index: size, e: e);} é“¾è¡¨çš„æ”¹123456789101112// ä¿®æ”¹é“¾è¡¨çš„ç¬¬index(0-based)ä¸ªä½ç½®çš„å…ƒç´ ä¸ºepublic func set(index:Int, e:E) throws { if (index &lt; 0 || index &gt; size){ throw OperationError.ErrorMsg(\"æ·»åŠ å¤±è´¥ã€‚éæ³•ç´¢å¼•ã€‚\") } var cur = dummyHead.node for _ in 0..&lt;index { cur = cur?.node cur?.e = e }} é“¾è¡¨çš„æŸ¥1234567891011121314151617181920212223242526272829303132333435363738// è·å¾—é“¾è¡¨çš„ç¬¬index(0-based)ä¸ªä½ç½®çš„å…ƒç´ public func get(index:Int) throws -&gt; E?{ if (index &lt; 0 || index &gt; size){ throw OperationError.ErrorMsg(\"æ·»åŠ å¤±è´¥ã€‚éæ³•ç´¢å¼•ã€‚\") } var cur = self.dummyHead.node; for _ in 0..&lt;index { cur = cur?.node } return cur?.e;}// è·å¾—é“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ public func getFirst() throws -&gt; E?{ return try get(index: 0);}// è·å¾—é“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ public func getLast() throws -&gt; E?{ return try get(index: size - 1);}// æŸ¥æ‰¾é“¾è¡¨ä¸­æ˜¯å¦æœ‰å…ƒç´ epublic func contains(e:E) -&gt; Bool{ var cur = dummyHead.node; while(cur != nil){ if let next = cur?.e { if next == e { return true } } cur = cur?.node } return false;} é“¾è¡¨çš„åˆ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748// ä»é“¾è¡¨ä¸­åˆ é™¤index(0-based)ä½ç½®çš„å…ƒç´ , è¿”å›åˆ é™¤çš„å…ƒç´ public func remove(index:Int) throws -&gt; E?{ if (index &lt; 0 || index &gt; size){ throw OperationError.ErrorMsg(\"æ·»åŠ å¤±è´¥ã€‚éæ³•ç´¢å¼•ã€‚\") } var prev:Node&lt;E&gt;? = dummyHead; for _ in 0..&lt;index { prev = prev?.node } let retNode = prev?.node prev?.node = retNode?.node retNode?.node = nil self.size -= 1 return retNode?.e;}// ä»é“¾è¡¨ä¸­åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ , è¿”å›åˆ é™¤çš„å…ƒç´ public func removeFirst() throws -&gt; E?{ return try remove(index: 0);}// ä»é“¾è¡¨ä¸­åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ , è¿”å›åˆ é™¤çš„å…ƒç´ public func removeLast() throws -&gt; E?{ return try remove(index: size - 1);}// ä»é“¾è¡¨ä¸­åˆ é™¤å…ƒç´ epublic func removeElement(e:E){ var prev:Node&lt;E&gt;? = dummyHead while(prev?.node != nil){ if let next = prev?.e { if next == e { break; } } prev = prev?.node; } if(prev?.node != nil){ let delNode = prev?.node prev?.node = delNode?.node delNode?.node = nil }} é“¾è¡¨çš„ä½¿ç”¨12345678910111213141516171819202122232425var listed = LinkedList&lt;Int&gt;()print(\"å¢\")try listed.addLast(e: 0)try listed.addFirst(e: 10)try listed.add(index: 1, e: 12)try listed.addLast(e: 1)try listed.addFirst(e: 2)try listed.add(index: 4, e: 5)print(listed.description)print(\"æŸ¥\")let first = try listed.getFirst()let last = try listed.getLast()let index = try listed.get(index: 2)print(\"æŸ¥è¯¢first=====\\(first ?? 0)\\næŸ¥è¯¢last=====\\(last ?? 0)\\næŸ¥è¯¢index2=====:\\(index ?? 0)\")print(\"æŸ¥è¯¢æ˜¯å¦å­˜åœ¨æ•°å­—5===\\(listed.contains(e: 5))\")print(\"åˆ \")try listed.removeLast()print(listed.description)try listed.removeFirst()print(listed.description)try listed.remove(index: 2)print(listed.description)print(\"æ”¹\")try listed.set(index: 1, e: 100)print(listed.description) 1234567891011121314å¢2-&gt;10-&gt;12-&gt;0-&gt;5-&gt;1-&gt;nilæŸ¥æŸ¥è¯¢first=====2æŸ¥è¯¢last=====1æŸ¥è¯¢index2=====:12æŸ¥è¯¢æ˜¯å¦å­˜åœ¨æ•°å­—5===trueåˆ 2-&gt;10-&gt;12-&gt;0-&gt;5-&gt;nil10-&gt;12-&gt;0-&gt;5-&gt;nil10-&gt;12-&gt;5-&gt;nilæ”¹10-&gt;100-&gt;5-&gt;nilProgram ended with exit code: 0","link":"/2017/09/16/æ•°æ®ç»“æ„ä¹‹é“¾è¡¨å®ç°/"},{"title":"æ•°æ®ç»“æ„ä¹‹é˜Ÿåˆ—å®ç°","text":"é˜Ÿåˆ—swiftä»£ç  å®šä¹‰ï¼šå®ƒåªå…è®¸åœ¨è¡¨çš„å‰ç«¯ï¼ˆfrontï¼‰è¿›è¡Œåˆ é™¤æ“ä½œï¼Œè€Œåœ¨è¡¨çš„åç«¯ï¼ˆrearï¼‰è¿›è¡Œæ’å…¥æ“ä½œï¼Œå’Œæ ˆä¸€æ ·ï¼Œé˜Ÿåˆ—æ˜¯ä¸€ç§æ“ä½œå—é™åˆ¶çš„çº¿æ€§è¡¨é˜Ÿåˆ—çš„åŠŸèƒ½åè®®æ¥å£123456789101112131415161718192021222324252627282930protocol QueueAble { associatedtype E /// æŸ¥è¯¢é˜Ÿåˆ—çš„ä¸ªæ•° /// /// - Returns: func func getSize() -&gt; Int /// æŸ¥è¯¢é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º /// /// - Returns: true false func isEmpty() -&gt; Bool /// å…¥é˜Ÿåˆ— /// /// - Parameter e: å…¥é˜Ÿåˆ—çš„æ•°æ® /// - Returns: return value description mutating func enqueue(e:E) throws /// å‡ºé˜Ÿåˆ— /// /// - Returns: å€¼ mutating func dequeue() throws -&gt; E? /// æŸ¥çœ‹é˜Ÿåˆ—é¡¶çš„æ•°æ® /// /// - Returns: return value description func getFront() throws -&gt; E?} æ•°ç»„é˜Ÿåˆ—ç”¨æ•°ç»„å®ç°é˜Ÿåˆ—ç»“æ„12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849struct ArrayQueue&lt;E&gt;: QueueAble { private var data:[E] init() { self.data = Array&lt;E&gt;() } func getSize() -&gt; Int { return self.data.count } func isEmpty() -&gt; Bool { return self.data.count == 0 } mutating func enqueue(e: E) throws{ self.data.append(e) } mutating func dequeue() throws -&gt; E? { let e = self.data.first if e == nil { throw OperationError.ErrorMsg(\"ä¸å­˜åœ¨\") } self.data.remove(at: 0) return e! } func getFront() throws -&gt; E? { let e = self.data.first if e == nil { throw OperationError.ErrorMsg(\"æ ˆé¡¶ä¸å­˜åœ¨å…ƒç´ \") } return e! } // é‡å†™åŸºç±»ä¸­descriptionå±æ€§ var description: String { var res = String(); res.append(\"é˜Ÿåˆ—: \"); res.append(\"é˜Ÿé¦– [\"); for i in 0..&lt;self.data.count { res.append(\"\\(self.data[i])\"); if (i != self.data.count - 1){ res.append(\", \"); } } res.append(\"] é˜Ÿå°¾\"); return res; }} æ•°ç»„é˜Ÿåˆ—çš„ä½¿ç”¨12345678910111213141516var queue = ArrayQueue&lt;Int&gt;()print(\"å¼€å§‹åŠ å…¥é˜Ÿåˆ—\")for i in 0...10 { queue.enqueue(e: i) print(queue.description)}print(\"åŠ å…¥å®Œæˆ\")print(\"-------------\")print(\"ç¬¬ä¸€æ¬¡å‡ºé˜Ÿ\")try! queue.dequeue()print(queue.description)print(\"ç¬¬äºŒæ¬¡å‡ºé˜Ÿ\")try! queue.dequeue()print(queue.description)print(\"å‡ºé˜Ÿå®Œæˆ\") è¾“å‡ºç»“æœ12345678910111213141516171819å¼€å§‹åŠ å…¥é˜Ÿåˆ—é˜Ÿåˆ—: é˜Ÿé¦– [0] é˜Ÿå°¾é˜Ÿåˆ—: é˜Ÿé¦– [0, 1] é˜Ÿå°¾é˜Ÿåˆ—: é˜Ÿé¦– [0, 1, 2] é˜Ÿå°¾é˜Ÿåˆ—: é˜Ÿé¦– [0, 1, 2, 3] é˜Ÿå°¾é˜Ÿåˆ—: é˜Ÿé¦– [0, 1, 2, 3, 4] é˜Ÿå°¾é˜Ÿåˆ—: é˜Ÿé¦– [0, 1, 2, 3, 4, 5] é˜Ÿå°¾é˜Ÿåˆ—: é˜Ÿé¦– [0, 1, 2, 3, 4, 5, 6] é˜Ÿå°¾é˜Ÿåˆ—: é˜Ÿé¦– [0, 1, 2, 3, 4, 5, 6, 7] é˜Ÿå°¾é˜Ÿåˆ—: é˜Ÿé¦– [0, 1, 2, 3, 4, 5, 6, 7, 8] é˜Ÿå°¾é˜Ÿåˆ—: é˜Ÿé¦– [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] é˜Ÿå°¾é˜Ÿåˆ—: é˜Ÿé¦– [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10] é˜Ÿå°¾åŠ å…¥å®Œæˆ-------------ç¬¬ä¸€æ¬¡å‡ºé˜Ÿé˜Ÿåˆ—: é˜Ÿé¦– [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] é˜Ÿå°¾ç¬¬äºŒæ¬¡å‡ºé˜Ÿé˜Ÿåˆ—: é˜Ÿé¦– [2, 3, 4, 5, 6, 7, 8, 9, 10] é˜Ÿå°¾å‡ºé˜Ÿå®Œæˆ å¾ªç¯é˜Ÿåˆ—ç”¨æ•°ç»„å¾ªç¯å®ç°é˜Ÿåˆ—ç»“æ„é“¾è¡¨é˜Ÿåˆ—ç”¨é“¾è¡¨å®ç°é˜Ÿåˆ—ç»“æ„é“¾è¡¨çš„å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445struct LinkedStack&lt;E&gt;:StackAble where E:Equatable { var data: LinkedList&lt;E&gt; init() { self.data = LinkedList&lt;E&gt;() } func getSize() -&gt; Int { return self.data.getSize() } func isEmpty() -&gt; Bool { return self.data.isEmpty() } mutating func push(e: E) throws { try self.data.addLast(e: e) } mutating func pop() throws -&gt; E? { return try self.data.removeFirst() } func peek() throws -&gt; E? { return try self.data.getFirst() } // é‡å†™åŸºç±»ä¸­descriptionå±æ€§ var description: String { var res = String(); res.append(\"é“¾è¡¨æ ˆ: \"); res.append(\"æ ˆé¡¶ [\"); for i in 0..&lt;self.data.getSize() { if let e = (try? self.data.get(index: i)) { res.append(\"\\(String(describing:e ))\"); if (i != self.data.getSize() - 1){ res.append(\", \"); } } } res.append(\"]\"); return res; }} é“¾è¡¨æ ˆçš„ä½¿ç”¨123456789101112131415var queue = LinkedQueue&lt;Int&gt;()print(\"å¼€å§‹åŠ å…¥é˜Ÿåˆ—\")for i in 0...10 { try queue.enqueue(e: i) print(queue.description)}print(\"åŠ å…¥å®Œæˆ\")print(\"-------------\")print(\"ç¬¬ä¸€æ¬¡å‡ºé˜Ÿ\")try! queue.dequeue()print(queue.description)print(\"ç¬¬äºŒæ¬¡å‡ºé˜Ÿ\")try! queue.dequeue()print(queue.description)print(\"å‡ºé˜Ÿå®Œæˆ\") è¾“å‡ºç»“æœ1234567891011121314151617181920å¼€å§‹åŠ å…¥é˜Ÿåˆ—é“¾è¡¨é˜Ÿåˆ—: é˜Ÿé¦– [0] é˜Ÿå°¾é“¾è¡¨é˜Ÿåˆ—: é˜Ÿé¦– [1, 0] é˜Ÿå°¾é“¾è¡¨é˜Ÿåˆ—: é˜Ÿé¦– [2, 1, 0] é˜Ÿå°¾é“¾è¡¨é˜Ÿåˆ—: é˜Ÿé¦– [3, 2, 1, 0] é˜Ÿå°¾é“¾è¡¨é˜Ÿåˆ—: é˜Ÿé¦– [4, 3, 2, 1, 0] é˜Ÿå°¾é“¾è¡¨é˜Ÿåˆ—: é˜Ÿé¦– [5, 4, 3, 2, 1, 0] é˜Ÿå°¾é“¾è¡¨é˜Ÿåˆ—: é˜Ÿé¦– [6, 5, 4, 3, 2, 1, 0] é˜Ÿå°¾é“¾è¡¨é˜Ÿåˆ—: é˜Ÿé¦– [7, 6, 5, 4, 3, 2, 1, 0] é˜Ÿå°¾é“¾è¡¨é˜Ÿåˆ—: é˜Ÿé¦– [8, 7, 6, 5, 4, 3, 2, 1, 0] é˜Ÿå°¾é“¾è¡¨é˜Ÿåˆ—: é˜Ÿé¦– [9, 8, 7, 6, 5, 4, 3, 2, 1, 0] é˜Ÿå°¾é“¾è¡¨é˜Ÿåˆ—: é˜Ÿé¦– [10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0] é˜Ÿå°¾åŠ å…¥å®Œæˆ-------------ç¬¬ä¸€æ¬¡å‡ºé˜Ÿé“¾è¡¨é˜Ÿåˆ—: é˜Ÿé¦– [10, 9, 8, 7, 6, 5, 4, 3, 2, 1] é˜Ÿå°¾ç¬¬äºŒæ¬¡å‡ºé˜Ÿé“¾è¡¨é˜Ÿåˆ—: é˜Ÿé¦– [10, 9, 8, 7, 6, 5, 4, 3, 2] é˜Ÿå°¾å‡ºé˜Ÿå®ŒæˆProgram ended with exit code: 0 åˆ†æé“¾è¡¨é˜Ÿåˆ—121ã€åŠ å…¥é˜Ÿåˆ— O(1)2ã€ç§»é™¤é˜Ÿåˆ— O(n) é“¾è¡¨é˜Ÿåˆ—ä¼˜åŒ–ä»å°¾èŠ‚ç‚¹å…¥é˜Ÿåˆ—ï¼Œä»é¦–èŠ‚ç‚¹å‡ºé˜Ÿåˆ—1234567891011121314class LinkedList2&lt;E&gt;: LinkedList&lt;E&gt; where E:Equatable { /// å°¾ç»“ç‚¹ private var foot:Node&lt;E&gt;? override init() { super.init() self.foot = self.dummyHead } override func addLast(e: E) throws { self.foot?.node = Node.init(e: e, node: nil) self.foot = self.foot?.node self.size += 1; }} 123456789101112131415161718192021222324252627282930313233343536373839404142struct LinkedQueue2&lt;E&gt;: QueueAble where E:Equatable { private var data:LinkedList2&lt;E&gt; init() { self.data = LinkedList2&lt;E&gt;() } func getSize() -&gt; Int { return self.data.getSize() } func isEmpty() -&gt; Bool { return self.data.getSize() == 0 } mutating func enqueue(e: E) throws{ try self.data.addLast(e: e) } mutating func dequeue() throws -&gt; E? { return try self.data.removeFirst() } func getFront() throws -&gt; E? { return try self.data.getFirst() } // é‡å†™åŸºç±»ä¸­descriptionå±æ€§ var description: String { var res = String(); res.append(\"é“¾è¡¨é˜Ÿåˆ—: \"); res.append(\"é˜Ÿé¦– [\"); for i in 0..&lt;self.data.getSize() { if let e = try? self.data.get(index: i) { res.append(\"\\(e)\"); if (i != self.data.getSize() - 1){ res.append(\", \"); } } } res.append(\"] é˜Ÿå°¾\"); return res; }}","link":"/2017/09/14/æ•°æ®ç»“æ„ä¹‹é˜Ÿåˆ—å®ç°/"},{"title":"æ•°æ®ç»“æ„ä¹‹é›†åˆå®ç°","text":"é›†åˆswiftå®ç°ä»£ç  é›†åˆï¼ˆSetï¼‰æ˜¯ç”¨æ¥å­˜å‚¨ç›¸åŒç±»å‹ã€æ²¡æœ‰ç¡®å®šé¡ºåºã€ä¸”ä¸é‡å¤çš„å€¼ã€‚ ä¹Ÿå°±æ˜¯è¯´å½“å…ƒç´ é¡ºåºä¸é‡è¦æ—¶ï¼Œæˆ–è€…å¸Œæœ›ç¡®ä¿æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨é›†åˆè€Œä¸æ˜¯æ•°ç»„ã€‚ é“¾è¡¨å®ç°é›†åˆ1234567891011121314151617181920212223242526272829303132class LinkedListSet&lt;E&gt;: SetAble,CustomDebugStringConvertible where E:Equatable{ private var data: LinkedList&lt;E&gt; init() { self.data = LinkedList&lt;E&gt;() } func add(e: E) { if !self.data.contains(e: e) { self.data.addFirst(e: e) } } func contains(e: E) -&gt; Bool { return self.data.contains(e: e) } func remove(e: E) { self.data.removeElement(e: e) } func getSize() -&gt; Int { return self.data.getSize() } func isEmpty() -&gt; Bool { return self.data.isEmpty() } var debugDescription: String { return self.data.debugDescription }} ç”±ä¸Šå›¾å¯çœ‹å‡º é“¾è¡¨å®ç°çš„é›†åˆæ·»åŠ å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n) æœç´¢æ ‘å®ç°é›†åˆäºŒåˆ†æœç´¢æ ‘å®ç°é›†åˆ12345678910111213141516171819202122232425262728293031class BSTSet&lt;E&gt;:SetAble where E:Comparable { private var data: BST&lt;E&gt; init() { self.data = BST&lt;E&gt;() } func add(e: E) { self.data.add(e: e) } func contains(e: E) -&gt; Bool { return self.data.contains(e: e) } func remove(e: E) { self.data.remove(e: e) } func getSize() -&gt; Int { return self.data.getSize() } func isEmpty() -&gt; Bool { return self.data.isEmpty() } var debugDescription: String { self.data.preOrderRN() return \"\" }} ç”±ä¸Šå›¾å¯çœ‹å‡º äºŒåˆ†æœç´¢æ ‘å®ç°çš„é›†åˆå¢åˆ æŸ¥å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(**logn**)","link":"/2017/10/01/æ•°æ®ç»“æ„ä¹‹é›†åˆå®ç°/"},{"title":"ç®—æ³•-ï¼šæ’åºç®—æ³•","text":"æ¯”è¾ƒæ’åº å®šä¹‰1 (åŸºäºæ¯”è¾ƒçš„æ’åº)ç»™å®šä¸€ä¸ªåŒ…å«nä¸ªå¯¹è±¡çš„å¾…æ’åºåºåˆ—a1a2â€¦an. å‡è®¾æˆ‘ä»¬çŸ¥é“å¦‚ä½•æ¯”è¾ƒå…¶ä¸­ä»»æ„ä¸¤ä¸ªå¯¹è±¡çš„å¤§å°å…³ç³»ã€‚åªå¦‚ä½•å¯¹è¿™ä¸€åºåˆ—æ’åº 121. ä¼ é€’æ€§ï¼šå¦‚æœa&lt;=b ,b&lt;=c,åˆ™ä¸€å®šæœ‰a&lt;=c2. å…¨åºæ€§ï¼šå¯¹ä»»æ„aå’Œbï¼Œæˆ–è€…a&lt;=bï¼Œæˆ–è€…b&lt;=c å®šä¹‰2 (åˆå¹¶å¤šä¸ªæœ‰åºåˆ—)å°†nä¸ªåºåˆ—åˆå¹¶ä¸ºä¸€ä¸ªåºåˆ—ã€‚ å®šä¹‰3(å‰kå°æ•°)ç»™å®šä¸€ä¸ªåŒ…å«nä¸ªå¯¹è±¡çš„åºåˆ— æ‰¾å‡ºå‰kä¸ªæœ€å°çš„æ•° 1. æ¢³æ’åº12345678å†’æ³¡æ’åºfor iï¼0,2,â€¦,n-1 do for jï¼1,2,â€¦,n-i do if ajï¼aj+1 then äº¤æ¢ajå’Œaj+1 endif endifendif 12345678910111213public void bubbleSort(int[] a) { boolean exchange; for(int i = a.length - 1; i &gt; 0; i--) { exchange = false; for(int j = 0; j &lt; i; j++) { if(a[j] &gt; a[j+1]) { swap(a, j, j+1); exchange = true; } } if(!exchange) return; }} 123456789101112æ¢³æ’åºjâ†n,sâ†1.3,flagâ†falseWhile jï¼1æˆ–è€…flagï¼true do iâ†0ï¼Œjâ†max{|j/s|ï¼Œ1}ï¼Œflagï¼false while i+j â‰¦ n do If ai ï¼ aiï¼‹j then äº¤æ¢aiå’Œaiï¼‹j flagâ†true endif iâ†iï¼‹1 end whileend while 2. å †æ’åº12 3. å½’å¹¶æ’åº4. å¿«é€Ÿæ’åº5. å†…çœåŸ¹è®­6. Timsortéæ¯”è¾ƒæ’åº1. æ¡¶æ’åº2. åŸºæ•°åŸ¹è®­","link":"/2018/03/12/ç®—æ³•-ï¼šæ’åºç®—æ³•/"},{"title":"DjangoçŸ¥è¯†ç‚¹æ¦‚è¿°4","text":"RESTfulé—®é¢˜1ï¼šRESTfulæ¶æ„åˆ°åº•è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿï¼ˆURLå…·æœ‰è‡ªæè¿°æ€§ã€èµ„æºè¡¨è¿°ä¸è§†å›¾çš„è§£è€¦å’Œã€äº’æ“ä½œæ€§åˆ©ç”¨æ„å»ºå¾®æœåŠ¡ä»¥åŠé›†æˆç¬¬ä¸‰æ–¹ç³»ç»Ÿã€æ— çŠ¶æ€æ€§æé«˜æ°´å¹³æ‰©å±•èƒ½åŠ›ï¼‰ é—®é¢˜2ï¼šé¡¹ç›®åœ¨ä½¿ç”¨RESTfulæ¶æ„æ—¶æœ‰æ²¡æœ‰é‡åˆ°ä¸€äº›é—®é¢˜æˆ–éšæ‚£ï¼Ÿï¼ˆå¯¹èµ„æºè®¿é—®çš„é™åˆ¶ã€èµ„æºä»å±å…³ç³»æ£€æŸ¥ã€é¿å…æ³„éœ²ä¸šåŠ¡ä¿¡æ¯ã€é˜²èŒƒå¯èƒ½çš„æ”»å‡»ï¼‰ è¡¥å……ï¼šä¸‹é¢çš„å‡ ä¸ªå’Œå®‰å…¨æ€§ç›¸å…³çš„å“åº”å¤´åœ¨å‰é¢è®²ä¸­é—´ä»¶çš„æ—¶å€™æåˆ°è¿‡çš„ã€‚ X-Frame-Options: DENY X-Content-Type-Options: nosniff X-XSS-Protection: 1; mode=block; StrictÂ­-Transport-Â­Security: max-age=31536000; é—®é¢˜3ï¼šå¦‚ä½•ä¿æŠ¤APIä¸­çš„æ•æ„Ÿä¿¡æ¯ä»¥åŠé˜²èŒƒé‡æ”¾æ”»å‡»ï¼Ÿï¼ˆæ‘˜è¦å’Œä»¤ç‰Œï¼‰ æ¨èé˜…è¯»ï¼šã€Šå¦‚ä½•æœ‰æ•ˆé˜²æ­¢APIçš„é‡æ”¾æ”»å‡»ã€‹ã€‚ ä½¿ç”¨djangorestframeworkå®‰è£…djangorestfrmeworkï¼ˆä¸ºäº†æè¿°æ–¹ä¾¿ï¼Œä»¥ä¸‹ç»Ÿä¸€ç®€ç§°ä¸ºdrfï¼‰ã€‚ 1pip install djangorestframework é…ç½®drfã€‚ 123456789101112131415161718192021222324252627282930INSTALLED_APPS = [ 'rest_framework', ]REST_FRAMEWORK = {# é…ç½®é»˜è®¤é¡µé¢å¤§å°'PAGE_SIZE': 10,# é…ç½®é»˜è®¤çš„åˆ†é¡µç±»'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination',# é…ç½®å¼‚å¸¸å¤„ç†å™¨# 'EXCEPTION_HANDLER': 'api.exceptions.exception_handler',# é…ç½®é»˜è®¤è§£æå™¨# 'DEFAULT_PARSER_CLASSES': (# 'rest_framework.parsers.JSONParser',# 'rest_framework.parsers.FormParser',# 'rest_framework.parsers.MultiPartParser',# ),# é…ç½®é»˜è®¤é™æµç±»# 'DEFAULT_THROTTLE_CLASSES': (),# é…ç½®é»˜è®¤æˆæƒç±»# 'DEFAULT_PERMISSION_CLASSES': (# 'rest_framework.permissions.IsAuthenticated',# ),# é…ç½®é»˜è®¤è®¤è¯ç±»# 'DEFAULT_AUTHENTICATION_CLASSES': (# 'rest_framework_jwt.authentication.JSONWebTokenAuthentication',# ),} ç¼–å†™åºåˆ—åŒ–å™¨123456789101112131415161718192021222324252627282930313233343536373839404142from rest_framework import serializersfrom rest_framework.serializers import ModelSerializerfrom common.models import District, HouseType, Estate, Agentclass DistrictSerializer(ModelSerializer):class Meta: model = District fields = ('distid', 'name')class HouseTypeSerializer(ModelSerializer):class Meta: model = HouseType fields = '__all__'class AgentSerializer(ModelSerializer):class Meta: model = Agent fields = ('agentid', 'name', 'tel', 'servstar', 'certificated')class EstateSerializer(ModelSerializer):district = serializers.SerializerMethodField()agents = serializers.SerializerMethodField()@staticmethoddef get_agents(estate): return AgentSerializer(estate.agents, many=True).data@staticmethoddef get_district(estate): return DistrictSerializer(estate.district).dataclass Meta: model = Estate fields = '__all__' æ–¹æ³•1ï¼šä½¿ç”¨è£…é¥°å™¨1234567891011121314@api_view(['GET'])@cache_page(timeout=None, cache='api')def provinces(request):queryset = District.objects.filter(parent__isnull=True)serializer = DistrictSerializer(queryset, many=True)return Response(serializer.data)@api_view(['GET'])@cache_page(timeout=300, cache='api')def cities(request, provid):queryset = District.objects.filter(parent__distid=provid)serializer = DistrictSerializer(queryset, many=True)return Response(serializer.data) 1234urlpatterns = [path('districts/', views.provinces, name='districts'),path('districts/&lt;int:provid&gt;/', views.cities, name='cities'),] è¯´æ˜ï¼šä¸Šé¢ä½¿ç”¨äº†Djangoè‡ªå¸¦çš„è§†å›¾è£…é¥°å™¨ï¼ˆ@cache_pageï¼‰æ¥å®ç°å¯¹APIæ¥å£è¿”å›æ•°æ®çš„ç¼“å­˜ã€‚ æ–¹æ³•2ï¼šä½¿ç”¨APIViewåŠå…¶å­ç±»æ›´å¥½çš„å¤ç”¨ä»£ç ï¼Œä¸è¦é‡â€œå¤å‘æ˜è½®å­â€ã€‚ 123class HouseTypeApiView(CacheResponseMixin, ListAPIView):queryset = HouseType.objects.all()serializer_class = HouseTypeSerializer 123urlpatterns = [path('housetypes/', views.HouseTypeApiView.as_view(), name='housetypes'),] è¯´æ˜ï¼šä¸Šé¢ä½¿ç”¨äº†drf_extensionsæä¾›çš„CacheResponseMixinæ··å…¥ç±»å®ç°äº†å¯¹æ¥å£æ•°æ®çš„ç¼“å­˜ã€‚å¦‚æœé‡å†™äº†è·å–æ•°æ®çš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨drf_extensionsæä¾›çš„@cache_responseæ¥å®ç°å¯¹æ¥å£æ•°æ®çš„ç¼“å­˜ï¼Œä¹Ÿå¯ä»¥ç”¨è‡ªå®šä¹‰çš„å‡½æ•°æ¥ç”Ÿæˆç¼“å­˜ä¸­çš„keyã€‚å½“ç„¶è¿˜æœ‰ä¸€ä¸ªé€‰æ‹©å°±æ˜¯é€šè¿‡Djangoæä¾›çš„@method_decoratorè£…é¥°å™¨ï¼Œå°†@cache_pageè£…é¥°å™¨å¤„ç†ä¸ºè£…é¥°æ–¹æ³•çš„è£…é¥°å™¨ï¼Œè¿™æ ·ä¹Ÿèƒ½æä¾›ä½¿ç”¨ç¼“å­˜æœåŠ¡ã€‚ drf-extensionsé…ç½®å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456789# é…ç½®DRFæ‰©å±•æ¥æ”¯æŒç¼“å­˜APIæ¥å£è°ƒç”¨ç»“æœREST_FRAMEWORK_EXTENSIONS = {'DEFAULT_CACHE_RESPONSE_TIMEOUT': 300,'DEFAULT_USE_CACHE': 'default',# é…ç½®é»˜è®¤ç¼“å­˜å•ä¸ªå¯¹è±¡çš„keyå‡½æ•°'DEFAULT_OBJECT_CACHE_KEY_FUNC': 'rest_framework_extensions.utils.default_object_cache_key_func',# é…ç½®é»˜è®¤ç¼“å­˜å¯¹è±¡åˆ—è¡¨çš„keyå‡½æ•°'DEFAULT_LIST_CACHE_KEY_FUNC': 'rest_framework_extensions.utils.default_list_cache_key_func',} æ–¹æ³•3ï¼šä½¿ç”¨ViewSetåŠå…¶å­ç±»1234class HouseTypeViewSet(CacheResponseMixin, viewsets.ModelViewSet):queryset = HouseType.objects.all()serializer_class = HouseTypeSerializerpagination_class = None 1234router = DefaultRouter()router.register('housetypes', views.HouseTypeViewSet)urlpatterns += router.urls djangorestframeworkæä¾›äº†åŸºäºBootstrapå®šåˆ¶çš„é¡µé¢æ¥æ˜¾ç¤ºæ¥å£è¿”å›çš„JSONæ•°æ®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨POSTMANè¿™æ ·çš„å·¥å…·å¯¹APIæ¥å£è¿›è¡Œæµ‹è¯•ã€‚ è¡¥å……è¯´æ˜åœ¨è¿™é‡Œé¡ºä¾¿æä¸€ä¸‹è·Ÿå‰ç«¯ç›¸å…³çš„å‡ ä¸ªé—®é¢˜ã€‚ é—®é¢˜1ï¼šå¦‚ä½•è®©æµè§ˆå™¨èƒ½å¤Ÿå‘èµ·DELETE/PUT/PATCHï¼Ÿ 12345&lt;form method=\"post\"&gt; &lt;input type=\"hidden\" name=\"_method\" value=\"delete\"&gt; &lt;/form&gt; 12if request.method == 'POST' and '_method' in request.POST:request.method = request.POST['_method'].upper() 1234567891011121314151617&lt;script&gt;$.ajax({ 'url': '/api/provinces', 'type': 'put', 'data': {}, 'dataType': 'json', 'success': function(json) { // Web = æ ‡ç­¾(å†…å®¹) + CSS(æ˜¾ç¤º) + JS(è¡Œä¸º) // JavaScript = ES + BOM + DOM // DOMæ“ä½œå®ç°é¡µé¢çš„å±€éƒ¨åˆ·æ–° }, 'error': function() {}});$.getJSON('/api/provinces', function(json) { // DOMæ“ä½œå®ç°é¡µé¢çš„å±€éƒ¨åˆ·æ–°});&lt;/script&gt; é—®é¢˜2ï¼šå¦‚ä½•è§£å†³å¤šä¸ªJavaScriptåº“ä¹‹é—´æŸä¸ªå®šä¹‰ï¼ˆå¦‚$å‡½æ•°ï¼‰å†²çªçš„é—®é¢˜ï¼Ÿ 123456789&lt;script src=\"js/jquery.min.js\"&gt;&lt;/script&gt;&lt;script src=\"js/abc.min.js\"&gt;&lt;/script&gt;&lt;script&gt;// $å·²ç»è¢«ååŠ è½½çš„JavaScriptåº“å ç”¨äº†// ä½†æ˜¯å¯ä»¥ç›´æ¥ç”¨ç»‘å®šåœ¨windowå¯¹è±¡ä¸Šçš„jQueryå»ä»£æ›¿$jQuery(function() { jQuery('#okBtn').on('click', function() {});});&lt;/script&gt; 123456789&lt;script src=\"js/abc.min.js\"&gt;&lt;/script&gt;&lt;script src=\"js/jquery.min.js\"&gt;&lt;/script&gt;&lt;script&gt;// å°†$è®©å‡ºç»™å…¶ä»–çš„JavaScriptåº“ä½¿ç”¨jQuery.noConflict();jQuery(function() { jQuery('#okBtn').on('click', function() {});});&lt;/script&gt; é—®é¢˜3ï¼šjQueryå¯¹è±¡ä¸åŸç”ŸDOMå¯¹è±¡ä¹‹é—´å¦‚ä½•è½¬æ¢ï¼Ÿ 123456789&lt;button id=\"okBtn\"&gt;ç‚¹æˆ‘&lt;/button&gt;&lt;script src=\"js/jquery.min.js\"&gt;&lt;/script&gt;&lt;script&gt;var btn = document.getElementById('okBtn'); // åŸç”ŸJavaScriptå¯¹è±¡(ä½¿ç”¨ç›¸å¯¹éº»çƒ¦)var $btn = $('#okBtn'); // jQueryå¯¹è±¡(æ‹¥æœ‰æ›´å¤šçš„å±æ€§å’Œæ–¹æ³•è€Œä¸”æ²¡æœ‰æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜)$btn.on('click', function() {});// $(btn)å¯ä»¥å°†åŸç”ŸJavaScriptå¯¹è±¡è½¬æˆjQueryå¯¹è±¡// $btn.get(0)æˆ–$btn[0]å¯ä»¥è·å¾—åŸç”Ÿçš„JavaScriptå¯¹è±¡&lt;/script&gt; è¿‡æ»¤æ•°æ®å¦‚æœéœ€è¦è¿‡æ»¤æ•°æ®ï¼ˆå¯¹æ•°æ®æ¥å£è®¾ç½®ç­›é€‰æ¡ä»¶ã€æ’åºæ¡ä»¶ç­‰ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨django-filterä¸‰æ–¹åº“æ¥å®ç°ã€‚ 1pip install django-filter 12345678910111213INSTALLED_APPS = [ 'django_filters',]REST_FRAMEWORK = { 'DEFAULT_FILTER_BACKENDS': ( 'django_filters.rest_framework.DjangoFilterBackend', 'rest_framework.filters.OrderingFilter',), } 123456789101112131415161718from django.utils.decorators import method_decoratorfrom django.views.decorators.cache import cache_pagefrom django_filters.rest_framework import DjangoFilterBackendfrom rest_framework.filters import OrderingFilterfrom rest_framework.generics import RetrieveAPIView, ListCreateAPIViewfrom api.serializers import EstateSerializerfrom common.models import Estate@method_decorator(decorator=cache_page(timeout=120, cache='api', key_prefix='estates'), name='get')class EstateView(RetrieveAPIView, ListCreateAPIView):queryset = Estate.objects.all().select_related('district').prefetch_related('agents')serializer_class = EstateSerializerfilter_backends = (DjangoFilterBackend, OrderingFilter)filter_fields = ('name', 'district')ordering = ('-hot', )ordering_fields = ('hot', 'estateid') 12345678910111213141516from django_filters import rest_framework as drffrom common.models import HouseInfoclass HouseInfoFilter(drf.FilterSet):\"\"\"è‡ªå®šä¹‰æˆ¿æºæ•°æ®è¿‡æ»¤å™¨\"\"\"title = drf.CharFilter(lookup_expr='starts')dist = drf.NumberFilter(field_name='district')min_price = drf.NumberFilter(field_name='price', lookup_expr='gte')max_price = drf.NumberFilter(field_name='price', lookup_expr='lte')type = drf.NumberFilter()class Meta: model = HouseInfo fields = ('title', 'district', 'min_price', 'max_price', 'type') 123456789class HouseInfoViewSet(CacheResponseMixin, ReadOnlyModelViewSet):queryset = HouseInfo.objects.all() \\ .select_related('type', 'district', 'estate', 'agent') \\ .prefetch_related('tags').order_by('-pubdate')serializer_class = HouseInfoSerializerfilter_backends = (DjangoFilterBackend, OrderingFilter)filterset_class = HouseInfoFilterordering = ('price',)ordering_fields = ('price', 'area') èº«ä»½è®¤è¯æŸ¥çœ‹drfä¸­APIViewç±»çš„ä»£ç å¯ä»¥çœ‹å‡ºï¼Œdrfé»˜è®¤çš„è®¤è¯æ–¹æ¡ˆæ˜¯ DEFAULT_AUTHENTICATION_CLASSESï¼Œå¦‚æœä¿®æ”¹authentication_classeså°±å¯ä»¥è‡ªè¡Œå®šåˆ¶èº«ä»½è®¤è¯çš„æ–¹æ¡ˆã€‚ `Pythonclass APIView(View):","link":"/2018/04/27/DjangoçŸ¥è¯†ç‚¹æ¦‚è¿°4/"},{"title":"æ•°æ®ç»“æ„ä¹‹å­—å…¸LinkedMapå®ç°","text":"å­—å…¸12javaé‡Œæ˜ å°„Map(HashMapã€TreeMap(çº¢é»‘æ ‘))ocã€swiftã€pythoné‡Œçš„å­—å…¸dict swiftå®ç°ä»£ç åœ°å€** å®šä¹‰å­—å…¸çš„æ¥å£1234567891011protocol MapAble { associatedtype K associatedtype V func add(key:K,Value:V) // æ·»åŠ keyã€value func contains(key:K) -&gt;Bool // æ£€æŸ¥æ˜¯å¦å­˜åœ¨key func remove(key:K) -&gt; V? // ç§»é™¤key func getSize() -&gt;Int // è·å–å­—å…¸çš„å¤§å° func isEmpty() -&gt; Bool // åˆ¤æ–­å­—å…¸æ˜¯å¦ä¸ºç©º func get(key:K) -&gt; V? // æ ¹æ®keyè·å–value ä¸å­˜åœ¨keyè¿”å›nill func set(key:K,value:V) throws // æ›´æ–°keyå¯¹åº”çš„value ä¸å­˜åœ¨keyæŠ›å‡ºå¼‚å¸¸} å®ç°åŸºäºé“¾è¡¨çš„LinkedMapå­—å…¸è®¾è®¡æ¯ä¸ªèŠ‚ç‚¹å­˜æ”¾keyï¼Œvalueçš„é“¾è¡¨123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158/// é”™è¯¯ä¿¡æ¯////// - msg: &lt;#msg description#&gt;enum UserError:Error { case msg(String)}/// é“¾è¡¨çš„èŠ‚ç‚¹class Node&lt;K,V&gt;:CustomDebugStringConvertible { var key:K? var value:V? var node:Node&lt;K,V&gt;? init(key:K?,value:V?, node:Node&lt;K,V&gt;?) { self.key = key self.value = value self.node = node } init() { self.key = nil self.value = nil self.node = nil } var debugDescription: String { var keyStr = \"nil\" if let key = self.key { keyStr = \"\\\"\\(key)\\\"\" } var vStr = \"nil\" if let v = self.value { vStr = \"\\\"\\(v)\\\"\" } return keyStr+\":\"+vStr }}/// æ¯ä¸ªèŠ‚ç‚¹å­˜æ”¾keyï¼Œvalueçš„é“¾è¡¨class LinkedList&lt;K,V&gt;:CustomDebugStringConvertible where K:Comparable { private var dummyHead:Node&lt;K,V&gt; private var size:Int init(){ self.dummyHead = Node&lt;K,V&gt;() self.size = 0 } // è·å–é“¾è¡¨ä¸­çš„å…ƒç´ ä¸ªæ•° public func getSize()-&gt;Int{ return size } // è¿”å›é“¾è¡¨æ˜¯å¦ä¸ºç©º public func isEmpty()-&gt;Bool{ return size == 0 } /// æŸ¥æ‰¾keyå¯¹åº”çš„èŠ‚ç‚¹ /// /// - Parameter key: key description /// - Returns: return value description private func getNode(key:K) -&gt; Node&lt;K, V&gt;? { var cur:Node&lt;K,V&gt;? = self.dummyHead.node while cur != nil { if let curKey = cur?.key { if curKey == key { return cur } } cur = cur?.node } return nil } /// æ·»åŠ é”®å€¼å¯¹ /// /// - Parameters: /// - key: key description /// - value: value description func add(key:K,value:V) { let node = getNode(key: key) if node == nil { self.dummyHead.node = Node&lt;K,V&gt;.init(key: key, value: value, node: self.dummyHead.node) self.size += 1 } else { node?.value = value } } /// æŸ¥è¯¢keyæ˜¯å¦å­˜åœ¨ /// /// - Parameter key: key description /// - Returns: return value description func contains(key:K) -&gt; Bool { return (self.getNode(key: key) != nil) } /// æŸ¥è¯¢keyå¯¹åº”çš„value /// /// - Parameter key: key description /// - Returns: return value description func get(key:K) -&gt; V? { return self.getNode(key: key)?.value } /// è®¾ç½®ç®€ç›´å¯¹å— /// /// - Parameters: /// - key: key description /// - value: value description /// - Throws: å½“keyä¸å­˜åœ¨æ—¶æŠ›å‡ºå¼‚å¸¸ func set(key:K,value:V) throws{ let node = self.getNode(key: key) if node==nil { throw UserError.msg(\"keyä¸å­˜åœ¨\") } node?.value = value } /// ç§»é™¤keyå¯¹åº”çš„èŠ‚ç‚¹ /// /// - Parameter key: key description /// - Returns: return value description func remove(key:K) -&gt; V? { var prev:Node&lt;K,V&gt;? = self.dummyHead; while(prev?.node != nil){ if let nodeKey = prev?.node?.key { if (nodeKey == key) { break; } } prev = prev?.node } if(prev?.node != nil){ let delNode = prev?.node prev?.node = delNode?.node delNode?.node = nil size -= 1 return delNode?.value } return nil } var debugDescription: String { var str = \"{\\n\" var node:Node&lt;K,V&gt;? = self.dummyHead for _ in 0..&lt;self.getSize() { node = node?.node if let nodeNoNull = node { str.append(\"\\t\\(String(describing: nodeNoNull))\" + \",\\n\") } } return str+\"}\" }} æ ¹æ®å¸¦æœ‰keyï¼Œvalueçš„èŠ‚ç‚¹çš„é“¾è¡¨å®ç°å­—å…¸1234567891011121314151617181920212223242526272829303132333435363738394041class LinkedMap&lt;K,V&gt;:MapAble,CustomDebugStringConvertible where K:Comparable { var data: LinkedList&lt;K,V&gt; init() { self.data = LinkedList&lt;K,V&gt;() } func add(key: K, Value: V) { self.data.add(key: key, value: Value) } func contains(key: K) -&gt; Bool { return self.data.contains(key: key) } func remove(key: K) -&gt; V? { return self.data.remove(key: key) } func get(key: K) -&gt; V? { return self.data.get(key: key) } func set(key: K, value: V) throws { try self.data.set(key: key, value: value) } func getSize() -&gt; Int { return self.data.getSize() } func isEmpty() -&gt; Bool { return self.data.isEmpty() } var debugDescription: String { return self.data.debugDescription } } LinkedMapçš„ä½¿ç”¨123456789let map = LinkedMap&lt;String,String&gt;()for i in 0...9 { map.add(key: \"key\\(i)\", Value: \"value\\(i)\")}print(\"æ·»åŠ åçš„å­—å…¸-------\\n\"+map.debugDescription)try map.set(key: \"key5\", value: \"T##String\")print(\"å˜æ›´key5çš„å­—å…¸-------\\n\"+map.debugDescription)_ = map.remove(key: \"key8\")print(\"åˆ é™¤key8åçš„å­—å…¸-------\\n\"+map.debugDescription) æ‰“å°ç»“æœ123456789101112131415161718192021222324252627282930313233343536373839æ·»åŠ åçš„å­—å…¸------- { \"key9\":\"value9\", \"key8\":\"value8\", \"key7\":\"value7\", \"key6\":\"value6\", \"key5\":\"value5\", \"key4\":\"value4\", \"key3\":\"value3\", \"key2\":\"value2\", \"key1\":\"value1\", \"key0\":\"value0\", } å˜æ›´key5çš„å­—å…¸------- { \"key9\":\"value9\", \"key8\":\"value8\", \"key7\":\"value7\", \"key6\":\"value6\", \"key5\":\"T##String\", \"key4\":\"value4\", \"key3\":\"value3\", \"key2\":\"value2\", \"key1\":\"value1\", \"key0\":\"value0\", } åˆ é™¤key8åçš„å­—å…¸------- { \"key9\":\"value9\", \"key7\":\"value7\", \"key6\":\"value6\", \"key5\":\"T##String\", \"key4\":\"value4\", \"key3\":\"value3\", \"key2\":\"value2\", \"key1\":\"value1\", \"key0\":\"value0\", } Program ended with exit code: **0**","link":"/2017/10/03/æ•°æ®ç»“æ„ä¹‹å­—å…¸Mapå®ç°/"},{"title":"DjangoçŸ¥è¯†ç‚¹æ¦‚è¿°2","text":"è§†å›¾å‡½æ•°(Controller)å¦‚ä½•è®¾è®¡è§†å›¾å‡½æ•° ç”¨æˆ·çš„æ¯ä¸ªæ“ä½œï¼ˆç”¨æˆ·æ•…äº‹ï¼‰å¯¹åº”ä¸€ä¸ªè§†å›¾å‡½æ•°ã€‚ æ¯ä¸ªè§†å›¾å‡½æ•°å¯ä»¥æ„æˆä¸€ä¸ªäº‹åŠ¡è¾¹ç•Œã€‚ äº‹åŠ¡çš„ACIDç‰¹æ€§ã€‚ åŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡ä¸­å„é¡¹çš„æ“ä½œè¦ä¹ˆå…¨åšè¦ä¹ˆå…¨ä¸åšï¼› ä¸€è‡´æ€§ï¼ˆConsistentcyï¼‰ï¼šäº‹åŠ¡å‰åç³»ç»Ÿçš„çŠ¶æ€æ˜¯ä¸€è‡´çš„ï¼› éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šå¹¶å‘æ‰§è¡Œçš„äº‹åŠ¡æ— æ³•çœ‹åˆ°å½¼æ­¤çš„ä¸­é—´çŠ¶æ€ï¼› æŒä¹…æ€§ï¼ˆDurationï¼‰ï¼šäº‹åŠ¡å®Œæˆåæ‰€åšçš„æ”¹åŠ¨éƒ½ä¼šè¢«æŒä¹…åŒ–ã€‚ äº‹åŠ¡éš”ç¦»çº§åˆ« - è®¾ç½®äº‹åŠ¡éš”ç¦»çº§åˆ«æ˜¯ä¸ºäº†æ•°æ®åº“åº•å±‚ä¾æ®äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸ºæ•°æ®åŠ ä¸Šé€‚å½“çš„é”ã€‚å¦‚æœéœ€è¦ä¿è¯æ•°æ®çš„å¼ºä¸€è‡´æ€§ï¼Œé‚£ä¹ˆå…³ç³»å‹æ•°æ®åº“ä»ç„¶æ˜¯å”¯ä¸€çš„ä¹Ÿæ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Œå› ä¸ºå…³ç³»å‹æ•°æ®åº“å¯ä»¥é€šè¿‡é”æœºåˆ¶æ¥ä¿æŠ¤æ•°æ®ã€‚äº‹åŠ¡éš”ç¦»çº§åˆ«ä»ä½åˆ°é«˜ä¾æ¬¡æ˜¯ï¼šRead Uncommittedï¼ˆè¯»æœªæäº¤ï¼‰ã€Read Committedï¼ˆè¯»æäº¤ï¼‰ã€Repeatable Readï¼ˆå¯é‡å¤è¯»ï¼‰ã€Serializableï¼ˆä¸²è¡ŒåŒ–ï¼‰ã€‚äº‹åŠ¡éš”ç¦»çº§åˆ«è¶Šé«˜ï¼Œæ•°æ®å¹¶å‘è®¿é—®çš„é—®é¢˜è¶Šå°‘ï¼Œä½†æ˜¯æ€§èƒ½è¶Šå·®ï¼›äº‹åŠ¡éš”ç¦»çº§åˆ«è¶Šä½ï¼Œæ•°æ®å¹¶å‘è®¿é—®çš„é—®é¢˜è¶Šå¤šï¼Œä½†æ˜¯æ€§èƒ½è¶Šå¥½ã€‚ æ•°æ®å¹¶å‘è®¿é—®ä¼šäº§ç”Ÿ5ç§é—®é¢˜ï¼ˆè¯·å‚è€ƒæˆ‘çš„ã€ŠJavaé¢è¯•é¢˜å…¨é›†ï¼ˆä¸Šï¼‰ã€‹ç¬¬80é¢˜å¯¹è¯¥é—®é¢˜çš„è®²è§£ï¼‰ï¼š ç¬¬1ç±»ä¸¢å¤±æ›´æ–°ï¼ˆAäº‹åŠ¡æ’¤é”€è¦†ç›–Bäº‹åŠ¡æ›´æ–°çš„æ•°æ®ï¼‰å’Œç¬¬2ç±»ä¸¢å¤±æ›´æ–°ï¼ˆAäº‹åŠ¡æäº¤è¦†ç›–Bäº‹åŠ¡æ›´æ–°çš„æ•°æ®ï¼‰ã€‚ è„è¯»ï¼ˆè¯»è„æ•°æ®ï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°å…¶ä»–å°šæœªæäº¤çš„äº‹åŠ¡çš„æ•°æ®ã€‚ ä¸å¯é‡å¤è¯»ï¼š ä¸€ä¸ªäº‹åŠ¡åœ¨è¯»å–å®ƒçš„æŸ¥è¯¢ç»“æœæ—¶ï¼Œè¢«å¦ä¸€ä¸ªäº‹åŠ¡æ›´æ–°äº†å®ƒçš„æŸ¥è¯¢è®°å½•å¯¼è‡´æ— æ³•è¯»åˆ°æ•°æ®ã€‚ å¹»è¯»ï¼šä¸€ä¸ªäº‹åŠ¡åœ¨è¯»å–å®ƒçš„æŸ¥è¯¢ç»“æœæ—¶ï¼Œå‘ç°è¯»åˆ°äº†è¢«å¦ä¸€ä¸ªäº‹åŠ¡æäº¤çš„æ–°æ•°æ®ã€‚ 123456-- è®¾ç½®å…¨å±€é»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«set global transaction isolation level repeatable read;-- è®¾ç½®å½“å‰ä¼šè¯çš„äº‹åŠ¡éš”ç¦»çº§åˆ«set session transaction isolation level read committed;-- æŸ¥è¯¢å½“å‰ä¼šè¯çš„äº‹åŠ¡éš”ç¦»çº§åˆ«select @@tx_isolation; Djangoä¸­çš„äº‹åŠ¡æ§åˆ¶ã€‚ ç»™æ¯ä¸ªè¯·æ±‚ç»‘å®šäº‹åŠ¡ç¯å¢ƒï¼ˆåæ¨¡å¼ï¼‰ã€‚ 1ATOMIC_REQUESTS = True ä½¿ç”¨äº‹åŠ¡è£…é¥°å™¨ï¼ˆç®€å•æ˜“ç”¨ï¼‰ - ç²—ç²’åº¦ï¼ˆæ§åˆ¶ä¸å¤Ÿç²¾ç»†ï¼‰ã€‚ 12@transaction.non_atomic_requests@transaction.atomic ä½¿ç”¨ä¸Šä¸‹æ–‡è¯­æ³•ï¼ˆç»†ç²’åº¦ - äº‹åŠ¡æ§åˆ¶çš„èŒƒå›´æ›´åŠ ç²¾å‡†ï¼‰ã€‚ 12with transaction.atomic(): pass å…³é—­è‡ªåŠ¨æäº¤ä½¿ç”¨æ‰‹åŠ¨æäº¤ã€‚ 1AUTOCOMMIT = False 12transaction.commit()transaction.rollback() URLé…ç½® å¯ä»¥è®©éƒ¨åˆ†URLåªåœ¨è°ƒè¯•æ¨¡å¼ä¸‹ç”Ÿæ•ˆã€‚ 12345678from django.conf import settings urlpatterns = [...] if settings.DEBUG:urlpatterns += [ ... ] å¯ä»¥ä½¿ç”¨å‘½åæ•è·ç»„æ•è·è·¯å¾„å‚æ•°ã€‚ 12url(r'api/code/(?P&lt;mobile&gt;1[3-9]\\d{9})'),path('api/code/&lt;str:mobile&gt;'), URLé…ç½®ä¸å…³å¿ƒè¯·æ±‚ä½¿ç”¨çš„æ–¹æ³•ï¼ˆä¸€ä¸ªè§†å›¾å‡½æ•°å¯ä»¥å¤„ç†ä¸åŒçš„è¯·æ±‚æ–¹å¼ï¼‰ã€‚ å¦‚æœä½¿ç”¨urlå‡½æ•°æ•è·çš„è·¯å¾„å‚æ•°éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œpathå‡½æ•°å¯ä»¥æŒ‡å®šè·¯å¾„å‚æ•°ç±»å‹ã€‚ å¯ä»¥ä½¿ç”¨includeå‡½æ•°å¼•å…¥å…¶ä»–URLé…ç½®ï¼Œæ•è·çš„å‚æ•°ä¼šå‘ä¸‹ä¼ é€’ã€‚ åœ¨urlå’Œpathå‡½æ•°ç”šè‡³æ˜¯includeå‡½æ•°ä¸­éƒ½å¯ä»¥ç”¨å­—å…¸å‘è§†å›¾ä¼ å…¥é¢å¤–çš„å‚æ•°ï¼Œå¦‚æœå‚æ•°ä¸æ•è·çš„å‚æ•°åŒåï¼Œåˆ™ä½¿ç”¨å­—å…¸ä¸­çš„å‚æ•°ã€‚ å¯ä»¥ç”¨reverseå‡½æ•°å®ç°URLçš„é€†å‘è§£æï¼ˆä»åå­—è§£æå‡ºURLï¼‰ï¼Œåœ¨æ¨¡æ¿ä¸­ä¹Ÿå¯ä»¥ç”¨urlå®ç°åŒæ ·çš„æ“ä½œã€‚ 1234path('', views.index, name='index') return redirect(reverse('index'))return redirect('index') æ¨¡æ¿(View)åç«¯æ¸²æŸ“ æ¨¡æ¿çš„é…ç½®å’Œæ¸²æŸ“å‡½æ•°ã€‚ 123456789101112131415TEMPLATES = [{ 'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [os.path.join(BASE_DIR, 'templates'), ], 'APP_DIRS': True, 'OPTIONS': { 'context_processors': [ 'django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages', ], },},] 1resp = render(request, 'index.html', {'foo': ...}) æ¨¡æ¿é‡åˆ°å˜é‡åçš„æŸ¥æ‰¾é¡ºåºã€‚ å­—å…¸æŸ¥æ‰¾ï¼ˆå¦‚ï¼šfoo['bar']ï¼‰ å±æ€§æŸ¥æ‰¾ï¼ˆå¦‚ï¼šfoo.barï¼‰ æ–¹æ³•è°ƒç”¨ï¼ˆå¦‚ï¼šfoo.bar()ï¼‰ æ–¹æ³•ä¸èƒ½æœ‰å¿…é¡»ä¼ å€¼çš„å‚æ•° åœ¨æ¨¡æ¿ä¸­ä¸èƒ½å¤Ÿç»™æ–¹æ³•ä¼ å‚ å¦‚æœæ–¹æ³•çš„alters_dataè¢«è®¾ç½®ä¸ºTrueåˆ™ä¸èƒ½è°ƒç”¨è¯¥æ–¹æ³•ï¼ˆé¿å…è¯¯æ“ä½œçš„é£é™©ï¼‰ï¼Œæ¨¡å‹å¯¹è±¡åŠ¨æ€ç”Ÿæˆçš„delete()å’Œsave()æ–¹æ³•éƒ½è®¾å®šäº†alters_data = Trueã€‚ åˆ—è¡¨ç´¢å¼•æŸ¥æ‰¾ï¼ˆå¦‚ï¼šfoo[0]ï¼‰ æ¨¡æ¿æ ‡ç­¾çš„ä½¿ç”¨ã€‚ if / else / endif for / endfor ifequal / endifequal / ifnotequal / endifnotequal / comment / endcomment è¿‡æ»¤å™¨çš„ä½¿ç”¨ã€‚ lower / upper / first / last / truncatewords / date/ time / length / pluralize / center / ljust / rjust / cut / urlencode / default_if_none / filesizeformat / join / slice / slugify æ¨¡æ¿çš„åŒ…å«å’Œç»§æ‰¿ã€‚ include / block extends æ¨¡æ¿åŠ è½½å™¨ï¼ˆåé¢ä¼˜åŒ–éƒ¨åˆ†ä¼šè®²åˆ°ï¼‰ã€‚ æ–‡ä»¶ç³»ç»ŸåŠ è½½å™¨ 1234TEMPLATES = [{ 'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [os.path.join(BASE_DIR, 'templates')],}] åº”ç”¨ç›®å½•åŠ è½½å™¨ 1234TEMPLATES = [{ 'BACKEND': 'django.template.backends.django.DjangoTemplates', 'APP_DIRS': True,}] å‰ç«¯æ¸²æŸ“ å‰ç«¯æ¨¡æ¿å¼•æ“ï¼šHandlebars / Mustacheã€‚ å‰ç«¯MV*æ¡†æ¶ã€‚ MVC - AngularJS MVVM(Model-View-ViewModel) - Vue.js å…¶ä»–è§†å›¾ MIMEï¼ˆå¤šç”¨é€”Interneté‚®ä»¶æ‰©å±•ï¼‰ç±»å‹ - å‘ŠçŸ¥æµè§ˆå™¨ä¼ è¾“çš„æ•°æ®ç±»å‹ã€‚ Content-Type è¯´æ˜ application/json JSONï¼ˆJavaScript Object Notationï¼‰ application/pdf PDFï¼ˆPortable Document Formatï¼‰ audio/mpeg MP3æˆ–å…¶ä»–MPEGéŸ³é¢‘æ–‡ä»¶ audio/vnd.wave WAVéŸ³é¢‘æ–‡ä»¶ image/gif GIFå›¾åƒæ–‡ä»¶ image/jpeg JPEGå›¾åƒæ–‡ä»¶ image/png PNGå›¾åƒæ–‡ä»¶ text/html HTMLæ–‡ä»¶ text/xml XML video/mp4 MP4è§†é¢‘æ–‡ä»¶ video/quicktime QuickTimeè§†é¢‘æ–‡ä»¶ å¦‚ä½•å¤„ç½®ç”Ÿæˆçš„å†…å®¹ï¼ˆinline / attachmentï¼‰ã€‚ 1234567&gt;&gt;&gt; from urllib.parse import quote&gt;&gt;&gt;&gt;&gt;&gt; response['content-type'] = 'application/pdf'&gt;&gt;&gt; filename = quote('Pythonè¯­è¨€è§„èŒƒ.pdf')&gt;&gt;&gt; filename'Python%E8%AF%AD%E8%A8%80%E8%A7%84%E8%8C%83.pdf'&gt;&gt;&gt; response['content-disposition'] = f'attachment; filename=\"{filename}\"' æé†’ï¼šURLä»¥åŠè¯·æ±‚å’Œå“åº”å¤´ä¸­çš„ä¸­æ–‡éƒ½åº”è¯¥å¤„ç†æˆç™¾åˆ†å·ç¼–ç ã€‚ ç”ŸæˆCSV / Excel / PDF / ç»Ÿè®¡æŠ¥è¡¨ã€‚ å‘æµè§ˆå™¨ä¼ è¾“äºŒè¿›åˆ¶æ•°æ®ã€‚ 12345buffer = ByteIO() resp = HttpResponse(content_type='...')resp['Content-Disposition'] = 'attachment; filename=\"...\"'resp.write(buffer.getvalue()) 123456789101112131415161718192021222324252627282930313233343536373839def get_style(name, color=0, bold=False, italic=False): style = xlwt.XFStyle() font = xlwt.Font() font.name = name font.colour_index = color font.bold = bold font.italic = italic style.font = font return style def export_emp_excel(request): # åˆ›å»ºExcelå·¥ä½œç°¿(ä½¿ç”¨ä¸‰æ–¹åº“xlwt) workbook = xlwt.Workbook() # å‘å·¥ä½œç°¿ä¸­æ·»åŠ å·¥ä½œè¡¨ sheet = workbook.add_sheet('å‘˜å·¥è¯¦ç»†ä¿¡æ¯') # è®¾ç½®è¡¨å¤´ titles = ['ç¼–å·', 'å§“å', 'ä¸»ç®¡', 'èŒä½', 'å·¥èµ„', 'éƒ¨é—¨åç§°'] for col, title in enumerate(titles): sheet.write(0, col, title, get_style('HanziPenSC-W3', 2, True)) # ä½¿ç”¨Djangoçš„ORMæ¡†æ¶æŸ¥è¯¢å‘˜å·¥æ•°æ® emps = Emp.objects.all().select_related('dept').select_related('mgr') cols = ['no', 'name', 'mgr', 'job', 'sal', 'dept'] # é€šè¿‡åµŒå¥—çš„å¾ªç¯å°†å‘˜å·¥è¡¨çš„æ•°æ®å†™å…¥Excelå·¥ä½œè¡¨çš„å•å…ƒæ ¼ for row, emp in enumerate(emps): for col, prop in enumerate(cols): val = getattr(emp, prop, '') if isinstance(val, (Dept, Emp)): val = val.name sheet.write(row + 1, col, val) # å°†Excelæ–‡ä»¶çš„äºŒè¿›åˆ¶æ•°æ®å†™å…¥å†…å­˜ buffer = BytesIO() workbook.save(buffer) # é€šè¿‡HttpResponseå¯¹è±¡å‘æµè§ˆå™¨è¾“å‡ºExcelæ–‡ä»¶ resp = HttpResponse(buffer.getvalue()) resp['content-type'] = 'application/msexcel' # å¦‚æœæ–‡ä»¶åæœ‰ä¸­æ–‡éœ€è¦å¤„ç†æˆç™¾åˆ†å·ç¼–ç  resp['content-disposition'] = 'attachment; filename=\"detail.xls\"' return resp å¤§æ–‡ä»¶çš„æµå¼å¤„ç†ï¼šStreamingHttpResponseã€‚ 12345678910def download_file(request): file_stream = open('...', 'rb') # å¦‚æœæ–‡ä»¶çš„äºŒè¿›åˆ¶æ•°æ®è¾ƒå¤§åˆ™æœ€å¥½ç”¨è¿­ä»£å™¨è¿›è¡Œå¤„ç†é¿å…è¿‡å¤šçš„å ç”¨æœåŠ¡å™¨å†…å­˜ file_iter = iter(lambda: file_stream.read(4096), b'') resp = StreamingHttpResponse(file_iter) # ä¸­æ–‡æ–‡ä»¶åè¦å¤„ç†æˆç™¾åˆ†å·ç¼–ç  filename = quote('...', 'utf-8') resp['Content-Type'] = '...' resp['Content-Disposition'] = f'attachment; filename=\"{filename}\"' return resp è¯´æ˜ï¼šå¦‚æœéœ€è¦ç”ŸæˆPDFæ–‡ä»¶ï¼Œå¯ä»¥éœ€è¦å®‰è£…reportlabã€‚å¦å¤–ï¼Œä½¿ç”¨StreamingHttpResponseåªèƒ½å‡å°‘å†…å­˜çš„å¼€é”€ï¼Œä½†æ˜¯å¦‚æœä¸‹è½½ä¸€ä¸ªå¤§æ–‡ä»¶ä¼šå¯¼è‡´ä¸€ä¸ªè¯·æ±‚é•¿æ—¶é—´å ç”¨æœåŠ¡å™¨èµ„æºï¼Œæ¯”è¾ƒå¥½çš„åšæ³•è¿˜æ˜¯æŠŠæŠ¥è¡¨æå‰ç”Ÿæˆå¥½ï¼ˆå¯ä»¥è€ƒè™‘ä½¿ç”¨å®šæ—¶ä»»åŠ¡ï¼‰ï¼Œæ”¾åœ¨é™æ€èµ„æºæœåŠ¡å™¨æˆ–è€…æ˜¯äº‘å­˜å‚¨æœåŠ¡å™¨ä¸Šä»¥è®¿é—®é™æ€èµ„æºçš„æ–¹å¼è®¿é—®ã€‚ EChartsæˆ–Chart.jsã€‚ æ€è·¯ï¼šåç«¯åªæä¾›JSONæ ¼å¼çš„æ•°æ®ï¼Œå‰ç«¯JavaScriptæ¸²æŸ“ç”Ÿæˆå›¾è¡¨ã€‚ 12345678910111213def get_charts_data(request): \"\"\"è·å–ç»Ÿè®¡å›¾è¡¨JSONæ•°æ®\"\"\" names = [] totals = [] # é€šè¿‡connectionsè·å–æŒ‡å®šæ•°æ®åº“è¿æ¥å¹¶åˆ›å»ºæ¸¸æ ‡å¯¹è±¡ with connections['backend'].cursor() as cursor: # åœ¨ä½¿ç”¨ORMæ¡†æ¶æ—¶å¯ä»¥ä½¿ç”¨å¯¹è±¡ç®¡ç†å™¨çš„aggregate()å’Œannotate()æ–¹æ³•å®ç°åˆ†ç»„å’Œèšåˆå‡½æ•°æŸ¥è¯¢ # æ‰§è¡ŒåŸç”ŸSQLæŸ¥è¯¢(å¦‚æœORMæ¡†æ¶ä¸èƒ½æ»¡è¶³ä¸šåŠ¡æˆ–æ€§èƒ½éœ€æ±‚) cursor.execute('select dname, total from vw_dept_emp') for row in cursor.fetchall(): names.append(row[0]) totals.append(row[1]) return JsonResponse({'names': names, 'totals': totals}) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;title&gt;ç»Ÿè®¡å›¾è¡¨&lt;/title&gt; &lt;style&gt; #main { width: 600px; height: 400px; } &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=\"main\"&gt;&lt;/div&gt; &lt;script src=\"https://cdn.bootcss.com/echarts/4.2.0-rc.2/echarts.min.js\"&gt;&lt;/script&gt; &lt;script src=\"https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt; &lt;script&gt; var myChart = echarts.init($('#main')[0]); $.ajax({ 'url': 'charts_data', 'type': 'get', 'data': {}, 'dataType': 'json', 'success': function(json) { var option = { title: { text: 'å‘˜å·¥åˆ†å¸ƒç»Ÿè®¡å›¾' }, tooltip: {}, legend: { data:['äººæ•°'] }, xAxis: { data: json.names }, yAxis: {}, series: [{ name: 'äººæ•°', type: 'bar', data: json.totals }] }; myChart.setOption(option); }, 'error': function() {} }); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; ä¸­é—´ä»¶é—®é¢˜1ï¼šä¸­é—´ä»¶èƒŒåçš„è®¾è®¡ç†å¿µæ˜¯ä»€ä¹ˆï¼Ÿï¼ˆåˆ†ç¦»æ¨ªåˆ‡å…³æ³¨åŠŸèƒ½/æ‹¦æˆªè¿‡æ»¤å™¨æ¨¡å¼ï¼‰ é—®é¢˜2ï¼šä¸­é—´ä»¶æœ‰å“ªäº›ä¸åŒçš„å®ç°æ–¹å¼ï¼Ÿï¼ˆå‚è€ƒä¸‹é¢çš„ä»£ç ï¼‰ é—®é¢˜3ï¼šæè¿°Djangoå†…ç½®çš„ä¸­é—´ä»¶åŠå…¶æ‰§è¡Œé¡ºåºã€‚ï¼ˆæ¨èé˜…è¯»ï¼šDjangoå®˜æ–¹æ–‡æ¡£ - ä¸­é—´ä»¶ - ä¸­é—´ä»¶é¡ºåºï¼‰ æ¿€æ´»ä¸­é—´ä»¶12345678910MIDDLEWARE = ['django.middleware.security.SecurityMiddleware','django.contrib.sessions.middleware.SessionMiddleware','django.middleware.common.CommonMiddleware','django.middleware.csrf.CsrfViewMiddleware','django.contrib.auth.middleware.AuthenticationMiddleware','django.contrib.messages.middleware.MessageMiddleware','django.middleware.clickjacking.XFrameOptionsMiddleware','common.middlewares.block_sms_middleware',] è‡ªå®šä¹‰ä¸­é—´ä»¶123456789def simple_middleware(get_response): def middleware(request, *args, **kwargs): response = get_response(request, *args, **kwargs) return response return middleware 12345678910class MyMiddleware(object): def __init__(self, get_response):self.get_response = get_response def __call__(self, request): response = self.get_response(request) return response 12345678910111213141516171819class MyMiddleware(object): def __init__(self):pass def process_request(request):pass def process_view(request, view_func, view_args, view_kwargs):pass def process_template_response(request, response):pass def process_response(request, response):pass def process_exception(request, exception):pass å†…ç½®ä¸­é—´ä»¶ CommonMiddleware - åŸºç¡€è®¾ç½®ä¸­é—´ä»¶ DISALLOWED_USER_AGENTS - ä¸è¢«å…è®¸çš„ç”¨æˆ·ä»£ç†ï¼ˆæµè§ˆå™¨ï¼‰ APPEND_SLASH - æ˜¯å¦è¿½åŠ / USE_ETAG - æµè§ˆå™¨ç¼“å­˜ç›¸å…³ SecurityMiddleware - å®‰å…¨ç›¸å…³ä¸­é—´ä»¶ SECURE_HSTS_SECONDS - å¼ºåˆ¶ä½¿ç”¨HTTPSçš„æ—¶é—´ SECURE_HSTS_INCLUDE_SUBDOMAINS - HTTPSæ˜¯å¦è¦†ç›–å­åŸŸå SECURE_CONTENT_TYPE_NOSNIFF - æ˜¯å¦å…è®¸æµè§ˆå™¨æ¨æ–­å†…å®¹ç±»å‹ SECURE_BROWSER_XSS_FILTER - æ˜¯å¦å¯ç”¨è·¨ç«™è„šæœ¬æ”»å‡»è¿‡æ»¤å™¨ SECURE_SSL_REDIRECT - æ˜¯å¦é‡å®šå‘åˆ°HTTPSè¿æ¥ SECURE_REDIRECT_EXEMPT - å…é™¤é‡å®šå‘åˆ°HTTPS SessionMiddleware - ä¼šè¯ä¸­é—´ä»¶ CsrfViewMiddleware - é˜²èŒƒè·¨ç«™èº«ä»½ä¼ªé€ ä¸­é—´ä»¶ XFrameOptionsMiddleware - é˜²èŒƒç‚¹å‡»åŠ«æŒæ”»å‡»ä¸­é—´ä»¶ è¡¨å• ç”¨æ³•ï¼šé€šå¸¸ä¸è¦ç”¨æ¥ç”Ÿæˆé¡µé¢ä¸Šçš„è¡¨å•æ§ä»¶ï¼ˆè€¦åˆåº¦å¤ªé«˜ä¸å®¹æ˜“å®šåˆ¶ï¼‰ï¼Œä¸»è¦ç”¨æ¥éªŒè¯æ•°æ®ã€‚ Formçš„å±æ€§å’Œæ–¹æ³•ï¼š is_valid() / is_multipart() errors / fields / is_bound / changed_data / cleaned_data add_error() / has_errors() / non_field_errors() clean() Form.errorsçš„æ–¹æ³•ï¼š as_data() / as_json() / get_json_data() é—®é¢˜1ï¼šDjangoä¸­çš„Formå’ŒModelFormæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿï¼ˆé€šå¸¸ä¸ç”¨æ¥ç”Ÿæˆè¡¨å•ä¸»è¦ç”¨æ¥éªŒè¯æ•°æ®ï¼‰ é—®é¢˜2ï¼šè¡¨å•ä¸Šä¼ æ–‡ä»¶æ—¶åº”è¯¥æ³¨æ„å“ªäº›é—®é¢˜ï¼Ÿï¼ˆè¡¨å•çš„è®¾ç½®ã€å¤šæ–‡ä»¶ä¸Šä¼ ã€å›¾ç‰‡é¢„è§ˆï¼ˆFileReaderï¼‰ã€Ajaxä¸Šä¼ æ–‡ä»¶ã€ä¸Šä¼ åçš„æ–‡ä»¶å¦‚ä½•å­˜å‚¨ã€è°ƒç”¨äº‘å­˜å‚¨ï¼ˆå¦‚é˜¿é‡Œäº‘OSSã€ä¸ƒç‰›äº‘ã€LeanCloudç­‰ï¼‰ï¼‰ 123456&lt;form action=\"\" method=\"post\" enctype=\"multipart/form-data\"&gt;&lt;input type=\"file\" name=\"...\" multiple&gt;&lt;input type=\"file\" name=\"foo\"&gt;&lt;input type=\"file\" name=\"foo\"&gt;&lt;input type=\"file\" name=\"foo\"&gt;&lt;/form&gt; è¯´æ˜ï¼šä¸Šä¼ å›¾ç‰‡æ–‡ä»¶çš„é¢„è§ˆæ•ˆæœå¯ä»¥é€šè¿‡HTML5çš„FileReaderæ¥å®ç°ã€‚ è¯´æ˜ï¼šä½¿ç”¨äº‘å­˜å‚¨é€šå¸¸æ˜¯æ¯”è‡ªå·±é…ç½®åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿè¿™ç§æ–¹å¼æ›´é è°±çš„åšæ³•ï¼Œè€Œä¸”äº‘å­˜å‚¨é€šå¸¸æˆæœ¬å¹¶ä¸å¤ªé«˜ï¼Œä¸ä»…å¦‚æ­¤å¤§å¤šæ•°äº‘å­˜å‚¨è¿˜æä¾›äº†å¦‚å›¾ç‰‡å‰ªè£ã€ç”Ÿæˆæ°´å°ã€è§†é¢‘è½¬ç ã€CDNç­‰æœåŠ¡ã€‚å¦‚æœè¦è‡ªå·±åšä¸Šä¼ çš„è§†é¢‘æ–‡ä»¶è½¬ç ï¼Œéœ€è¦å®‰è£…ä¸‰æ–¹åº“ffmpegï¼Œåœ¨ç¨‹åºä¸­è°ƒç”¨è¯¥ä¸‰æ–¹åº“å¯ä»¥å®ç°è½¬ç ã€‚ Cookieå’ŒSessioné—®é¢˜1ï¼šä½¿ç”¨Cookieèƒ½è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿï¼ˆç”¨æˆ·è·Ÿè¸ªï¼Œè§£å†³HTTPåè®®æ— çŠ¶æ€é—®é¢˜ï¼‰ URLé‡å†™ 1http://www.abc.com/path/resource?foo=bar éšè—åŸŸï¼ˆéšå¼è¡¨å•åŸŸï¼‰- åŸ‹ç‚¹ 12345&lt;form action=\"\" method=\"post\"&gt; &lt;input type=\"hidden\" name=\"foo\" value=\"bar\"&gt; &lt;/form&gt; Cookie - æµè§ˆå™¨ä¸­çš„ä¸´æ—¶æ–‡ä»¶ï¼ˆæ–‡æœ¬æ–‡ä»¶ï¼‰- BASE64 é—®é¢˜2ï¼šCookieå’ŒSessionä¹‹é—´å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆSessionçš„æ ‡è¯†é€šè¿‡Cookieä¿å­˜å’Œä¼ è¾“ï¼‰ Sessionçš„é…ç½® Sessionå¯¹åº”çš„ä¸­é—´ä»¶ï¼šdjango.contrib.sessions.middleware.SessionMiddlewareã€‚ Sessionå¼•æ“ã€‚ åŸºäºæ•°æ®åº“ï¼ˆé»˜è®¤æ–¹å¼ï¼‰ 123INSTALLED_APPS = [ 'django.contrib.sessions',] åŸºäºç¼“å­˜ï¼ˆæ¨èä½¿ç”¨ï¼‰ 12SESSION_ENGINE = 'django.contrib.sessions.backends.cache'SESSION_CACHE_ALIAS = 'session' åŸºäºæ–‡ä»¶ï¼ˆåŸºæœ¬ä¸è€ƒè™‘ï¼‰ åŸºäºCookieï¼ˆä¸é è°±ï¼‰ 1SESSION_ENGINE = 'django.contrib.sessions.backends.signed_cookies' Cookieç›¸å…³çš„é…ç½®ã€‚ 123456SESSION_COOKIE_NAME = 'djang_session_id'SESSION_COOKIE_AGE = 1209600# å¦‚æœè®¾ç½®ä¸ºTrueï¼ŒCookieå°±æ˜¯åŸºäºæµè§ˆå™¨çª—å£çš„Cookieï¼Œä¸ä¼šæŒä¹…åŒ–SESSION_EXPIRE_AT_BROWSER_CLOSE = False SESSION_SAVE_EVERY_REQUEST = FalseSESSION_COOKIE_HTTPONLY = True sessionçš„å±æ€§å’Œæ–¹æ³•ã€‚ session_key / session_data / expire_date __getitem__ / __setitem__ / __delitem__ / __contains__ set_expiry() / get_expiry_age() / get_expiry_date() - è®¾ç½®/è·å–ä¼šè¯è¶…æœŸæ—¶é—´ flush() - é”€æ¯ä¼šè¯ set_test_cookie() / test_cookie_worked() / delete_test_cookie() - æµ‹è¯•æµè§ˆå™¨æ˜¯å¦æ”¯æŒCookieï¼ˆæç¤ºç”¨æˆ·å¦‚æœæµè§ˆå™¨ç¦ç”¨Cookieå¯èƒ½ä¼šå½±å“ç½‘ç«™çš„ä½¿ç”¨ï¼‰ sessionçš„åºåˆ—åŒ–ã€‚ 1SESSION_SERIALIZER = 'django.contrib.sessions.serializers.JSONSerializer' JSONSerializerï¼ˆ1.6åŠä»¥åé»˜è®¤ï¼‰- å¦‚æœæƒ³å°†è‡ªå®šä¹‰çš„å¯¹è±¡æ”¾åˆ°sessionä¸­ï¼Œä¼šé‡åˆ°â€œObject of type â€˜XXXâ€™ is not JSON serializableâ€çš„é—®é¢˜ï¼ˆå¦‚æœé…ç½®ä½¿ç”¨Redisä¿å­˜Sessionï¼Œdjango-redisä½¿ç”¨äº†Pickleåºåˆ—åŒ–ï¼Œè¿™ä¸ªé—®é¢˜å°±ä¸å­˜åœ¨äº†ï¼‰ã€‚ PickleSerializerï¼ˆ1.6ä»¥å‰çš„é»˜è®¤ï¼‰- å› ä¸ºå®‰å…¨é—®é¢˜ä¸æ¨èä½¿ç”¨ï¼Œä½†æ˜¯åªè¦ä¸å»ååºåˆ—åŒ–ç”¨æˆ·æ„é€ çš„æ¶æ„çš„Payloadå…¶å®ä¹Ÿæ²¡æœ‰ä»€ä¹ˆé£é™©ã€‚å…³äºè¿™ç§æ–¹å¼çš„å®‰å…¨æ¼æ´ï¼Œå¯ä»¥å‚è€ƒã€ŠPython Pickleçš„ä»»æ„ä»£ç æ‰§è¡Œæ¼æ´å®è·µå’ŒPayloadæ„é€ ã€‹ä¸€æ–‡æˆ–ã€Šè½¯ä»¶æ¶æ„-Pythonè¯­è¨€å®ç°ã€‹ä¸Šå…³äºè¿™ä¸ªé—®é¢˜çš„è®²è§£ã€‚ è¯´æ˜ï¼šå¦‚æœä½¿ç”¨äº†django_redisæ•´åˆRedisä½œä¸ºsessionçš„å­˜å‚¨å¼•æ“ï¼Œé‚£ä¹ˆç”±äºdjango_redisåˆå°è£…äº†ä¸€ä¸ªPickleSerializeræ¥æä¾›åºåˆ—åŒ–ï¼Œæ‰€ä»¥ä¸ä¼šå­˜åœ¨ä¸Šè¿°çš„é—®é¢˜ï¼Œä¸”Redisä¸­ä¿å­˜çš„valueæ˜¯pickleåºåˆ—åŒ–ä¹‹åçš„ç»“æœã€‚","link":"/2018/04/25/DjangoçŸ¥è¯†ç‚¹æ¦‚è¿°2/"},{"title":"æ•°æ®ç»“æ„ä¹‹å­—å…¸TreeMapå®ç°","text":"swiftå®ç°ä»£ç åœ°å€ å®ç°åŸºäºäºŒåˆ†æœç´¢æ ‘çš„TreeMapå­—å…¸å®ç°æ¯ä¸ªèŠ‚ç‚¹å­˜æ”¾keyï¼Œvalueçš„äºŒå‰æœç´¢æ ‘1234567891011121314151617181920212223242526272829/// äºŒåˆ†ä¸Šæœç´¢æ ‘çš„èŠ‚ç‚¹class BstNode&lt;K,V&gt; :CustomDebugStringConvertible{ var key:K? var value:V? var left:BstNode&lt;K,V&gt;? var right:BstNode&lt;K,V&gt;? init() { self.right = nil self.left = nil self.key = nil self.value = nil } init(key:K,value:V) { self.key = key self.value = value } var debugDescription: String { var keyStr = \"nil\" if let key = self.key { keyStr = \"\\\"\\(key)\\\"\" } var vStr = \"nil\" if let v = self.value { vStr = \"\\\"\\(v)\\\"\" } return keyStr+\":\"+vStr }} 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279/// äºŒåˆ†æœç´¢æ ‘class BST&lt;K,V&gt; where K:Comparable { private var root: BstNode&lt;K,V&gt;? private var size: Int init() { self.root = nil self.size = 0 } func getSize() -&gt; Int { return self.size } func isEmpty() -&gt; Bool { return self.size == 0 } //MARK:æ·»åŠ å…ƒç´  /// æ·»åŠ å…ƒç´  /// /// - Parameter e: e description func add(key:K,value:V) { self.root = self.add(node: self.root, key: key,value: value) } // å‘ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘ä¸­æ’å…¥å…ƒç´ eï¼Œé€’å½’ç®—æ³• // è¿”å›æ’å…¥æ–°èŠ‚ç‚¹åäºŒåˆ†æœç´¢æ ‘çš„æ ¹ private func add(node:BstNode&lt;K,V&gt;?, key:K,value:V)-&gt;BstNode&lt;K,V&gt;{ guard let node = node else { self.size+=1 return BstNode.init(key: key, value: value) } if key &lt; node.key! { node.left = add(node: node.left,key: key, value: value) } else if key &gt; node.key! { node.right = add(node: node.right, key: key, value: value) } return node } /// è·å–keyå¯¹åº”çš„value /// /// - Parameter key: &lt;#key description#&gt; /// - Returns: &lt;#return value description#&gt; func get(key:K) -&gt; V? { return self.get(key: key, node: self.root)?.value } func set(key:K,value:V) throws { let node = self.get(key: key, node: self.root) if node==nil { throw UserError.msg(\"keyä¸å­˜åœ¨\") } node?.value = value } private func get(key:K,node:BstNode&lt;K,V&gt;?) -&gt; BstNode&lt;K,V&gt;? { guard let node = node else { return nil } if key &lt; node.key! { return self.get(key: key, node: node.left) } else if key &gt; node.key! { return self.get(key: key, node: node.right) } return node } // MARK:æŸ¥çœ‹æ˜¯å¦å­˜åœ¨å…ƒç´ e /// æŸ¥çœ‹æ˜¯å¦å­˜åœ¨å…ƒç´ e /// /// - Parameter e: æŸ¥è¯¢çš„å…ƒç´  /// - Returns: trueè¡¨ç¤ºå­˜åœ¨ï¼Œå¦åˆ™è¡¨ç¤ºä¸å­˜åœ¨ func contains(key:K) -&gt; Bool { return self.contains(key: key, node: self.root) } private func contains(key:K,node:BstNode&lt;K,V&gt;?) -&gt; Bool { guard let node = node else { return false } if key &lt; node.key! { return self.contains(key: key, node: node.left) } else if key &gt; node.key! { return self.contains(key: key, node: node.right) } return true } //MARK:å‰åºéå† /// å‰åºéå† func preOrder() { self.preOrder(node: self.root) } private func preOrder(node:BstNode&lt;K,V&gt;?) { guard let node = node else { return } print(node) preOrder(node: node.left) preOrder(node: node.right) } //MARK:ä¸­åºéå† /// ä¸­åºéå† func inOrder() { self.inOrder(node: self.root) } private func inOrder(node:BstNode&lt;K,V&gt;?) { guard let node = node else { return } preOrder(node: node.left) print(node) preOrder(node: node.right) } //MARK:ååºéå† /// ååºéå† func postOrder() { self.postOrder(node: self.root) } private func postOrder(node:BstNode&lt;K,V&gt;?) { guard let node = node else { return } postOrder(node: node.left) postOrder(node: node.right) print(node) } //MARK:å±‚åºéå† /// å±‚åºéå† func levelOrder() { let q = Queue&lt;BstNode&lt;K,V&gt;&gt;() guard let root = self.root else { return } q.push(e: root) while !q.isEmpty() { let cur = q.pop() if let cur = cur { print(cur) if cur.left != nil{ q.push(e: cur.left!) }else if cur.right != nil{ q.push(e: cur.right!) } } } } //MARK:å‰åºéé€’å½’éå† /// å‰åºéé€’å½’éå† func preOrderRN() { let stack = Stack&lt;BstNode&lt;K,V&gt;&gt;() guard let root = self.root else { return } stack.push(e: root) while !stack.isEmpty() { let cur = stack.pop() if let cur = cur { print(cur) if cur.left != nil{ stack.push(e: cur.left!) }else if cur.right != nil{ stack.push(e: cur.right!) } } } } //MARK: å¯»æ‰¾æœ€å°å…ƒç´  /// å¯»æ‰¾æœ€å°å…ƒç´  /// /// - Returns: return value description func minimum() -&gt; K? { if self.size==0 { return nil } return self.minimum(node: self.root)?.key } private func minimum(node:BstNode&lt;K,V&gt;?) -&gt; BstNode&lt;K,V&gt;? { guard let node = node else { return nil } if node.left != nil { return self.minimum(node: node.left) } return node } //MARK: å¯»æ‰¾æœ€å¤§å…ƒç´  /// å¯»æ‰¾æœ€å¤§å…ƒç´  /// /// - Returns: return value description func maxmum() -&gt; K? { if self.size==0 { return nil } return self.maxmum(node: self.root)?.key } private func maxmum(node:BstNode&lt;K,V&gt;?) -&gt; BstNode&lt;K,V&gt;? { guard let node = node else { return nil } if node.right == nil { return node } return self.maxmum(node: node.right) } //MARK:åˆ é™¤æœ€å°å€¼ /// åˆ é™¤xæœ€å°å€¼ /// /// - Returns: return value description func removeMin() -&gt; K? { let data = self.minimum() self.root = removeMin(node: self.root) return data } private func removeMin(node:BstNode&lt;K,V&gt;?) -&gt; BstNode&lt;K,V&gt;? { guard let node = node else { return nil } if node.left == nil { let rightNode = node.right node.right = nil size -= 1 return rightNode } node.left = self.removeMin(node: node.left) return node } //MARK:ç§»é™¤æœ€å¤§å€¼ /// ç§»é™¤æœ€å¤§å€¼ /// /// - Returns: return value description func removeMax() -&gt; K? { let data = self.maxmum() self.root = self.removeMin(node: self.root) return data } private func removeMax(node:BstNode&lt;K,V&gt;?) -&gt; BstNode&lt;K,V&gt;? { guard let node = node else { return nil } if node.right == nil { let leftnode = node.left node.left = nil self.size -= 1 return leftnode } node.right = removeMax(node: node.right) return node } //MARK:ç§»é™¤ä»»æ„å€¼ /// ç§»é™¤ä»»æ„å€¼ /// /// - Returns: return value description func remove(key:K) { self.root = remove(key: key, node: self.root) } private func remove(key:K,node:BstNode&lt;K,V&gt;?) -&gt; BstNode&lt;K,V&gt;? { guard let node = node else { return nil } guard let eval = node.key else { return nil } if key &lt; eval { node.left = remove(key: key, node: node.left) return node } else if key &gt; eval { node.right = remove(key: key, node: node.right) return node } else { // å¾…åˆ é™¤èŠ‚ç‚¹å·¦å­æ ‘ä¸ºç©ºçš„æƒ…å†µ if node.left == nil { let rightNode = node.right node.right = nil self.size -= 1 return rightNode } // å¾…åˆ é™¤èŠ‚ç‚¹å³å­æ ‘ä¸ºç©ºçš„æƒ…å†µ if node.right == nil { let leftNode = node.left node.left = nil self.size -= 1 return leftNode } let successor = self.minimum(node: node.right) successor?.right = self.removeMin(node: node.right) successor?.left = node.left node.left = nil node.right = nil return successor } } } æ ¹æ®äºŒå‰æœç´¢æ ‘å®ç°TreeMap1234567891011121314151617181920212223242526272829303132333435363738394041424344class BSTMap&lt;K,V&gt;:MapAble,CustomDebugStringConvertible where K:Comparable { var data: BST&lt;K,V&gt; init() { self.data = BST&lt;K,V&gt;() } func add(key: K, Value: V) { self.data.add(key: key, value: Value) } func contains(key: K) -&gt; Bool { return self.data.contains(key: key) } func remove(key: K) -&gt; V? { let data = self.data.get(key: key) self.data.remove(key: key) return data } func get(key: K) -&gt; V? { return self.data.get(key: key) } func set(key: K, value: V) throws { try self.data.set(key: key, value: value) } func getSize() -&gt; Int { return self.data.getSize() } func isEmpty() -&gt; Bool { return self.data.isEmpty() } var debugDescription: String { self.data.inOrder() return \"\" } } LinkedMapçš„ä½¿ç”¨let map1 = BSTMap&lt;String,String&gt;() for i in 0â€¦9 { map1.add(key: â€œkey(i)â€, Value: â€œvalue(i)â€)}print(â€œæ·»åŠ åçš„å­—å…¸â€”â€”-\\nâ€)map1.debugDescriptiontry map1.set(key: â€œkey5â€, value: â€œT##Stringâ€)print(â€œå˜æ›´key5çš„å­—å…¸â€”â€”-\\nâ€)map1.debugDescription_ = map1.remove(key: â€œkey8â€)print(â€œåˆ é™¤key8åçš„å­—å…¸â€”â€”-\\nâ€)map1.debugDescription1234567891011121314151617181920212223242526272829303132333435#### æ‰“å°ç»“æœ ```swiftæ·»åŠ åçš„å­—å…¸-------&quot;key0&quot;:&quot;value0&quot;&quot;key1&quot;:&quot;value1&quot;&quot;key2&quot;:&quot;value2&quot;&quot;key3&quot;:&quot;value3&quot;&quot;key4&quot;:&quot;value4&quot;&quot;key5&quot;:&quot;value5&quot;&quot;key6&quot;:&quot;value6&quot;&quot;key7&quot;:&quot;value7&quot;&quot;key8&quot;:&quot;value8&quot;&quot;key9&quot;:&quot;value9&quot;å˜æ›´key5çš„å­—å…¸-------&quot;key0&quot;:&quot;value0&quot;&quot;key1&quot;:&quot;value1&quot;&quot;key2&quot;:&quot;value2&quot;&quot;key3&quot;:&quot;value3&quot;&quot;key4&quot;:&quot;value4&quot;&quot;key5&quot;:&quot;T##String&quot;&quot;key6&quot;:&quot;value6&quot;&quot;key7&quot;:&quot;value7&quot;&quot;key8&quot;:&quot;value8&quot;&quot;key9&quot;:&quot;value9&quot;åˆ é™¤key8åçš„å­—å…¸-------&quot;key0&quot;:&quot;value0&quot;&quot;key1&quot;:&quot;value1&quot;&quot;key2&quot;:&quot;value2&quot;&quot;key3&quot;:&quot;value3&quot;&quot;key4&quot;:&quot;value4&quot;&quot;key5&quot;:&quot;T##String&quot;&quot;key6&quot;:&quot;value6&quot;&quot;key7&quot;:&quot;value7&quot;&quot;key9&quot;:&quot;value9&quot;Program ended with exit code: 0","link":"/2017/10/03/æ•°æ®ç»“æ„ä¹‹å­—å…¸TreeMapå®ç°/"},{"title":"ç©è½¬Linux","text":"åŸºç¡€å‘½ä»¤Linuxç³»ç»Ÿçš„å‘½ä»¤é€šå¸¸éƒ½æ˜¯å¦‚ä¸‹æ‰€ç¤ºçš„æ ¼å¼ï¼š 1å‘½ä»¤åç§° [å‘½åå‚æ•°] [å‘½ä»¤å¯¹è±¡] è·å–ç™»å½•ä¿¡æ¯ - w / who / lastã€‚ 12345678910[root@guotz ~]# w23:31:16 up 12:16, 2 users, load average: 0.00, 0.01, 0.05USER TTY FROM LOGIN@ IDLE JCPU PCPU WHATroot pts/0 182.139.66.250 23:03 4.00s 0.02s 0.00s wjackfrue pts/1 182.139.66.250 23:26 3:56 0.00s 0.00s -bash[root@guotz ~]# whoroot pts/0 2018-04-12 23:03 (182.139.66.250)jackfrued pts/1 2018-04-12 23:26 (182.139.66.250)[root@guotz ~]# who am iroot pts/0 2018-04-12 23:03 (182.139.66.250) æŸ¥çœ‹è‡ªå·±ä½¿ç”¨çš„Shell - psã€‚ Shellä¹Ÿè¢«ç§°ä¸ºâ€œå£³â€ï¼Œå®ƒæ˜¯ç”¨æˆ·ä¸å†…æ ¸äº¤æµçš„ç¿»è¯‘å®˜ï¼Œç®€å•çš„è¯´å°±æ˜¯äººä¸è®¡ç®—æœºäº¤äº’çš„æ¥å£ã€‚ç›®å‰å¾ˆå¤šLinuxç³»ç»Ÿé»˜è®¤çš„Shelléƒ½æ˜¯bashï¼ˆBourne Again SHellï¼‰ï¼Œå› ä¸ºå®ƒå¯ä»¥ä½¿ç”¨Tabé”®è¿›è¡Œå‘½ä»¤è¡¥å…¨ã€å¯ä»¥ä¿å­˜å†å²å‘½ä»¤ã€å¯ä»¥æ–¹ä¾¿çš„é…ç½®ç¯å¢ƒå˜é‡ä»¥åŠæ‰§è¡Œæ‰¹å¤„ç†æ“ä½œç­‰ã€‚ 1234[root@guotz ~]# ps PID TTY TIME CMD3531 pts/0 00:00:00 bash3553 pts/0 00:00:00 ps æŸ¥çœ‹å‘½ä»¤çš„è¯´æ˜ - whatisã€‚ 1234[root@guotz ~]# whatis psps (1) - report a snapshot of the current processes.[root@guotz ~]# whatis pythonpython (1) - an interpreted, interactive, object-oriented programming language æŸ¥çœ‹å‘½ä»¤çš„ä½ç½® - which / whereisã€‚ 12345678[root@guotz ~]# whereis psps: /usr/bin/ps /usr/share/man/man1/ps.1.gz[root@guotz ~]# whereis pythonpython: /usr/bin/python /usr/bin/python2.7 /usr/lib/python2.7 /usr/lib64/python2.7 /etc/python /usr/include/python2.7 /usr/share/man/man1/python.1.gz[root@guotz ~]# which ps/usr/bin/ps[root@guotz ~]# which python/usr/bin/python æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ - man / info / aproposã€‚ 1234567891011121314151617[root@guotz ~]# ps --helpUsage:ps [options]Try 'ps --help &lt;simple|list|output|threads|misc|all&gt;' or 'ps --help &lt;s|l|o|t|m|a&gt;'for additional help text.For more details see ps(1).[root@guotz ~]# man psPS(1) User Commands PS(1)NAME ps - report a snapshot of the current processes.SYNOPSIS ps [options]DESCRIPTION...[root@guotz ~]# info ps... åˆ‡æ¢ç”¨æˆ· - suã€‚ 12[root@guotz ~]# su hellokitty[hellokitty@guotz root]$ ä»¥ç®¡ç†å‘˜èº«ä»½æ‰§è¡Œå‘½ä»¤ - sudoã€‚ 12345[jackfrued@guotz ~]$ ls /rootls: cannot open directory /root: Permission denied[jackfrued@guotz ~]$ sudo ls /root[sudo] password for jackfrued:calendar.py code error.txt hehe hello.c index.html myconf result.txt è¯´æ˜ï¼šå¦‚æœå¸Œæœ›ç”¨æˆ·èƒ½å¤Ÿä»¥ç®¡ç†å‘˜èº«ä»½æ‰§è¡Œå‘½ä»¤ï¼Œç”¨æˆ·å¿…é¡»è¢«æ·»åŠ åˆ°sudoersåå•ä¸­ï¼Œè¯¥æ–‡ä»¶åœ¨ /etcç›®å½•ä¸‹ã€‚ ç™»å…¥ç™»å‡ºç›¸å…³ - logout / exit / adduser / userdel / passwd / sshã€‚ 123456789101112[root@guotz ~]# adduser hellokitty[root@guotz ~]# passwd hellokittyChanging password for user jackfrued.New password:Retype new password:passwd: all authentication tokens updated successfully.[root@guotz ~]# ssh hellokitty@1.2.3.4hellokitty@1.2.3.4's password:Last login: Thu Apr 12 23:05:32 2018 from 10.12.14.16[hellokitty@guotz ~]$ logoutConnection to 1.2.3.4 closed.[root@guotz ~]# æŸ¥çœ‹ç³»ç»Ÿå’Œä¸»æœºå - uname / hostnameã€‚ 123456[root@guotz ~]# unameLinux[root@guotz ~]# hostnameguotz[root@guotz ~]# cat /etc/centos-releaseCentOS Linux release 7.4.1708 (Core) é‡å¯å’Œå…³æœº - reboot / init 6 / shutdown / init 0ã€‚ æŸ¥çœ‹å†å²å‘½ä»¤ - historyã€‚ 1234567[root@guotz ~]# history...452 ls453 cd Python-3.6.5/454 clear455 history[root@guotz ~]# !454 è¯´æ˜ï¼šæŸ¥çœ‹åˆ°å†å²å‘½ä»¤ä¹‹åï¼Œå¯ä»¥ç”¨!å†å²å‘½ä»¤ç¼–å·æ¥é‡æ–°æ‰§è¡Œè¯¥å‘½ä»¤ï¼›é€šè¿‡history -cå¯ä»¥æ¸…é™¤å†å²å‘½ä»¤ã€‚ å®ç”¨ç¨‹åºæ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ“ä½œ åˆ›å»º/åˆ é™¤ç›®å½• - mkdir / rmdirã€‚ 123[root@guotz ~]# mkdir abc[root@guotz ~]# mkdir -p xyz/abc[root@guotz ~]# rmdir abc åˆ›å»º/åˆ é™¤æ–‡ä»¶ - touch / rmã€‚ 12345[root@guotz ~]# touch readme.txt[root@guotz ~]# touch error.txt[root@guotz ~]# rm error.txtrm: remove regular empty file â€˜error.txtâ€™? y[root@guotz ~]# rm -rf xyz touchå‘½ä»¤ç”¨äºåˆ›å»ºç©ºç™½æ–‡ä»¶æˆ–ä¿®æ”¹æ–‡ä»¶æ—¶é—´ã€‚åœ¨Linuxç³»ç»Ÿä¸­ä¸€ä¸ªæ–‡ä»¶æœ‰ä¸‰ç§æ—¶é—´ï¼š æ›´æ”¹å†…å®¹çš„æ—¶é—´ - mtimeã€‚ æ›´æ”¹æƒé™çš„æ—¶é—´ - ctimeã€‚ æœ€åè®¿é—®æ—¶é—´ - atimeã€‚ rmçš„å‡ ä¸ªé‡è¦å‚æ•°ï¼š -iï¼šäº¤äº’å¼åˆ é™¤ï¼Œæ¯ä¸ªåˆ é™¤é¡¹éƒ½ä¼šè¿›è¡Œè¯¢é—®ã€‚ -rï¼šåˆ é™¤ç›®å½•å¹¶é€’å½’çš„åˆ é™¤ç›®å½•ä¸­çš„æ–‡ä»¶å’Œç›®å½•ã€‚ -fï¼šå¼ºåˆ¶åˆ é™¤ï¼Œå¿½ç•¥ä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œæ²¡æœ‰ä»»ä½•æç¤ºã€‚ åˆ‡æ¢å’ŒæŸ¥çœ‹å½“å‰å·¥ä½œç›®å½• - cd / pwdã€‚ è¯´æ˜ï¼šcdå‘½ä»¤åé¢å¯ä»¥è·Ÿç›¸å¯¹è·¯å¾„ï¼ˆä»¥å½“å‰è·¯å¾„ä½œä¸ºå‚ç…§ï¼‰æˆ–ç»å¯¹è·¯å¾„ï¼ˆä»¥/å¼€å¤´ï¼‰æ¥åˆ‡æ¢åˆ°æŒ‡å®šçš„ç›®å½•ï¼Œä¹Ÿå¯ä»¥ç”¨cd ..æ¥è¿”å›ä¸Šä¸€çº§ç›®å½•ã€‚ æŸ¥çœ‹ç›®å½•å†…å®¹ - lsã€‚ -lï¼šä»¥é•¿æ ¼å¼æŸ¥çœ‹æ–‡ä»¶å’Œç›®å½•ã€‚ -aï¼šæ˜¾ç¤ºä»¥ç‚¹å¼€å¤´çš„æ–‡ä»¶å’Œç›®å½•ï¼ˆéšè—æ–‡ä»¶ï¼‰ã€‚ -Rï¼šé‡åˆ°ç›®å½•è¦è¿›è¡Œé€’å½’å±•å¼€ï¼ˆç»§ç»­åˆ—å‡ºç›®å½•ä¸‹é¢çš„æ–‡ä»¶å’Œç›®å½•ï¼‰ã€‚ -dï¼šåªåˆ—å‡ºç›®å½•ï¼Œä¸åˆ—å‡ºå…¶ä»–å†…å®¹ã€‚ -S/-tï¼šæŒ‰å¤§å°/æ—¶é—´æ’åºã€‚ æŸ¥çœ‹æ–‡ä»¶å†…å®¹ - cat / head / tail / more / lessã€‚ 12345678910111213141516171819202122232425262728[root@guotz ~]# wget http://www.sohu.com/ -O sohu.html--2018-06-20 18:42:34-- http://www.sohu.com/Resolving www.sohu.com (www.sohu.com)... 14.18.240.6Connecting to www.sohu.com (www.sohu.com)|14.18.240.6|:80... connected.HTTP request sent, awaiting response... 200 OKLength: 212527 (208K) [text/html]Saving to: â€˜sohu.htmlâ€™100%[==================================================&gt;] 212,527 --.-K/s in 0.03s2018-06-20 18:42:34 (7.48 MB/s) - â€˜sohu.htmlâ€™ saved [212527/212527][root@guotz ~]# cat sohu.html...[root@guotz ~]# head -10 sohu.html&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;æœç‹&lt;/title&gt;&lt;meta name=\"Keywords\" content=\"æœç‹,é—¨æˆ·ç½‘ç«™,æ–°åª’ä½“,ç½‘ç»œåª’ä½“,æ–°é—»,è´¢ç»,ä½“è‚²,å¨±ä¹,æ—¶å°š,æ±½è½¦,æˆ¿äº§,ç§‘æŠ€,å›¾ç‰‡,è®ºå›,å¾®åš,åšå®¢,è§†é¢‘,ç”µå½±,ç”µè§†å‰§\"/&gt;&lt;meta name=\"Description\" content=\"æœç‹ç½‘ä¸ºç”¨æˆ·æä¾›24å°æ—¶ä¸é—´æ–­çš„æœ€æ–°èµ„è®¯ï¼ŒåŠæœç´¢ã€é‚®ä»¶ç­‰ç½‘ç»œæœåŠ¡ã€‚å†…å®¹åŒ…æ‹¬å…¨çƒçƒ­ç‚¹äº‹ä»¶ã€çªå‘æ–°é—»ã€æ—¶äº‹è¯„è®ºã€çƒ­æ’­å½±è§†å‰§ã€ä½“è‚²èµ›äº‹ã€è¡Œä¸šåŠ¨æ€ã€ç”Ÿæ´»æœåŠ¡ä¿¡æ¯ï¼Œä»¥åŠè®ºå›ã€åšå®¢ã€å¾®åšã€æˆ‘çš„æœç‹ç­‰äº’åŠ¨ç©ºé—´ã€‚\" /&gt;&lt;meta name=\"shenma-site-verification\" content=\"1237e4d02a3d8d73e96cbd97b699e9c3_1504254750\"&gt;&lt;meta charset=\"utf-8\"/&gt;&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge,chrome=1\"/&gt;[root@guotz ~]# tail -2 sohu.html&lt;/body&gt;&lt;/html&gt;[root@guotz ~]# less sohu.html...[root@guotz ~]# cat -n sohu.html | more... æ‹·è´/ç§»åŠ¨æ–‡ä»¶ - cp / mvã€‚ 12345678[root@guotz ~]# mkdir backup[root@guotz ~]# cp sohu.html backup/[root@guotz ~]# cd backup[root@guotz backup]# lssohu.html[root@guotz backup]# mv sohu.html sohu_index.html[root@guotz backup]# lssohu_index.html æŸ¥æ‰¾æ–‡ä»¶å’ŒæŸ¥æ‰¾å†…å®¹ - find / grepã€‚ 1234567891011121314151617[root@guotz ~]# find / -name \"*.html\"/root/sohu.html/root/backup/sohu_index.html[root@guotz ~]# find . -atime 7 -type f -print[root@guotz ~]# find . -type f -size +2k[root@guotz ~]# find . -type f -name \"*.swp\" -delete[root@guotz ~]# grep \"&lt;script&gt;\" sohu.html -n20:&lt;script&gt;[root@guotz ~]# grep -E \\&lt;\\/?script.*\\&gt; sohu.html -n20:&lt;script&gt;22:&lt;/script&gt;24:&lt;script src=\"//statics.itc.cn/web/v3/static/js/es5-shim-08e41cfc3e.min.js\"&gt;&lt;/script&gt;25:&lt;script src=\"//statics.itc.cn/web/v3/static/js/es5-sham-1d5fa1124b.min.js\"&gt;&lt;/script&gt;26:&lt;script src=\"//statics.itc.cn/web/v3/static/js/html5shiv-21fc8c2ba6.js\"&gt;&lt;/script&gt;29:&lt;script type=\"text/javascript\"&gt;52:&lt;/script&gt;... è¯´æ˜ï¼šgrepåœ¨æœç´¢å­—ç¬¦ä¸²æ—¶å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ç”¨grep -Eæˆ–è€…ç›´æ¥ä½¿ç”¨egrepã€‚ é“¾æ¥ - lnã€‚ 123456789101112131415[root@guotz ~]# ls -l sohu.html-rw-r--r-- 1 root root 212131 Jun 20 19:15 sohu.html[root@guotz ~]# ln /root/sohu.html /root/backup/sohu_backup[root@guotz ~]# ls -l sohu.html-rw-r--r-- 2 root root 212131 Jun 20 19:15 sohu.html[root@guotz ~]# ln /root/sohu.html /root/backup/sohu_backup2[root@guotz ~]# ls -l sohu.html-rw-r--r-- 3 root root 212131 Jun 20 19:15 sohu.html[root@guotz ~]# ln -s /etc/centos-release sysinfo[root@guotz ~]# ls -l sysinfolrwxrwxrwx 1 root root 19 Jun 20 19:21 sysinfo -&gt; /etc/centos-release[root@guotz ~]# cat sysinfoCentOS Linux release 7.4.1708 (Core)[root@guotz ~]# cat /etc/centos-releaseCentOS Linux release 7.4.1708 (Core) è¯´æ˜ï¼šé“¾æ¥å¯ä»¥åˆ†ä¸ºç¡¬é“¾æ¥å’Œè½¯é“¾æ¥ï¼ˆç¬¦å·é“¾æ¥ï¼‰ã€‚ç¡¬é“¾æ¥å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªæŒ‡å‘æ–‡ä»¶æ•°æ®çš„æŒ‡é’ˆï¼Œå°±åƒPythonä¸­å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼Œæ¯æ·»åŠ ä¸€ä¸ªç¡¬é“¾æ¥ï¼Œæ–‡ä»¶çš„å¯¹åº”é“¾æ¥æ•°å°±å¢åŠ 1ï¼Œåªæœ‰å½“æ–‡ä»¶çš„é“¾æ¥æ•°ä¸º0æ—¶ï¼Œæ–‡ä»¶æ‰€å¯¹åº”çš„å­˜å‚¨ç©ºé—´æ‰æœ‰å¯èƒ½è¢«å…¶ä»–æ–‡ä»¶è¦†ç›–ã€‚æˆ‘ä»¬å¹³å¸¸åˆ é™¤æ–‡ä»¶æ—¶å…¶å®å¹¶æ²¡æœ‰åˆ é™¤ç¡¬ç›˜ä¸Šçš„æ•°æ®ï¼Œæˆ‘ä»¬åˆ é™¤çš„åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œæˆ–è€…è¯´æ˜¯æ•°æ®çš„ä¸€æ¡ä½¿ç”¨è®°å½•ï¼Œæ‰€ä»¥ç±»ä¼¼äºâ€œæ–‡ä»¶ç²‰ç¢æœºâ€ä¹‹ç±»çš„è½¯ä»¶åœ¨â€œç²‰ç¢â€æ–‡ä»¶æ—¶é™¤äº†åˆ é™¤æ–‡ä»¶æŒ‡é’ˆï¼Œè¿˜ä¼šåœ¨æ–‡ä»¶å¯¹åº”çš„å­˜å‚¨åŒºåŸŸå¡«å…¥æ•°æ®æ¥ä¿è¯æ–‡ä»¶æ— æ³•å†æ¢å¤ã€‚è½¯é“¾æ¥ç±»ä¼¼äºWindowsç³»ç»Ÿä¸‹çš„å¿«æ·æ–¹å¼ï¼Œå½“è½¯é“¾æ¥é“¾æ¥çš„æ–‡ä»¶è¢«åˆ é™¤æ—¶ï¼Œè½¯é“¾æ¥ä¹Ÿå°±å¤±æ•ˆäº†ã€‚ å‹ç¼©/è§£å‹ç¼©å’Œå½’æ¡£/è§£å½’æ¡£ - gzip / gunzip / xz / tarã€‚ 1234567891011121314151617181920212223242526272829303132333435[root@guotz ~]# wget http://download.redis.io/releases/redis-4.0.10.tar.gz--2018-06-20 19:29:59-- http://download.redis.io/releases/redis-4.0.10.tar.gzResolving download.redis.io (download.redis.io)... 109.74.203.151Connecting to download.redis.io (download.redis.io)|109.74.203.151|:80... connected.HTTP request sent, awaiting response... 200 OKLength: 1738465 (1.7M) [application/x-gzip]Saving to: â€˜redis-4.0.10.tar.gzâ€™100%[==================================================&gt;] 1,738,465 70.1KB/s in 74s2018-06-20 19:31:14 (22.9 KB/s) - â€˜redis-4.0.10.tar.gzâ€™ saved [1738465/1738465][root@guotz ~]# ls redis*redis-4.0.10.tar.gz[root@guotz ~]# gunzip redis-4.0.10.tar.gz[root@guotz ~]# ls redis*redis-4.0.10.tar[root@guotz ~]# tar -xvf redis-4.0.10.tarredis-4.0.10/redis-4.0.10/.gitignoreredis-4.0.10/00-RELEASENOTESredis-4.0.10/BUGSredis-4.0.10/CONTRIBUTINGredis-4.0.10/COPYINGredis-4.0.10/INSTALLredis-4.0.10/MANIFESTOredis-4.0.10/Makefileredis-4.0.10/README.mdredis-4.0.10/deps/redis-4.0.10/deps/Makefileredis-4.0.10/deps/README.md...[root@guotz ~]# ls redis*redis-4.0.10.tarredis-4.0.10:00-RELEASENOTES COPYING Makefile redis.conf runtest-sentinel testsBUGS deps MANIFESTO runtest sentinel.conf utilsCONTRIBUTING INSTALL README.md runtest-cluster src å…¶ä»–å·¥å…· - sort / uniq / diff / tr / cut / paste / file / wcã€‚ 123456789101112131415161718192021222324252627282930313233343536373839[root@guotz ~]# cat foo.txtgrapeapplepitaya[root@guotz ~]# cat bar.txt100200300400[root@guotz ~]# paste foo.txt bar.txtgrape 100apple 200pitaya 300 400[root@guotz ~]# paste foo.txt bar.txt &gt; hello.txt[root@guotz ~]# cut -b 4-8 hello.txtpe 10le 20aya 30[root@guotz ~]# cat hello.txt | tr '\\t' ','grape,100apple,200pitaya,300,400[root@guotz ~]# wget https://www.baidu.com/img/bd_logo1.png--2018-06-20 18:46:53-- https://www.baidu.com/img/bd_logo1.pngResolving www.baidu.com (www.baidu.com)... 220.181.111.188, 220.181.112.244Connecting to www.baidu.com (www.baidu.com)|220.181.111.188|:443... connected.HTTP request sent, awaiting response... 200 OKLength: 7877 (7.7K) [image/png]Saving to: â€˜bd_logo1.pngâ€™100%[==================================================&gt;] 7,877 --.-K/s in 0s2018-06-20 18:46:53 (118 MB/s) - â€˜bd_logo1.pngâ€™ saved [7877/7877][root@guotz ~]# file bd_logo1.pngbd_logo1.png: PNG image data, 540 x 258, 8-bit colormap, non-interlaced[root@guotz ~]# wc sohu.html2979 6355 212527 sohu.html[root@guotz ~]# wc -l sohu.html2979 sohu.html ç®¡é“å’Œé‡å®šå‘ ç®¡é“çš„ä½¿ç”¨ - \\|ã€‚ ä¾‹å­ï¼šæŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ–‡ä»¶ä¸ªæ•°ã€‚ 12[root@guotz ~]# find ./ | wc -l6152 ä¾‹å­ï¼šåˆ—å‡ºå½“å‰è·¯å¾„ä¸‹çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œç»™æ¯ä¸€é¡¹åŠ ä¸€ä¸ªç¼–å·ã€‚ 123456[root@guotz ~]# ls | cat -n 1 dump.rdb 2 mongodb-3.6.5 3 Python-3.6.5 4 redis-3.2.11 5 redis.conf ä¾‹å­ï¼šæŸ¥æ‰¾record.logä¸­åŒ…å«AAAï¼Œä½†ä¸åŒ…å«BBBçš„è®°å½•çš„æ€»æ•° 1[root@guotz ~]# cat record.log | grep AAA | grep -v BBB | wc -l è¾“å‡ºé‡å®šå‘å’Œé”™è¯¯é‡å®šå‘ - \\&gt; / &gt;&gt; / 2\\&gt;ã€‚ 1234567891011121314151617[root@guotz ~]# cat readme.txtbananaapplegrapeapplegrapewatermelonpearpitaya[root@guotz ~]# cat readme.txt | sort | uniq &gt; result.txt[root@guotz ~]# cat result.txtapplebananagrapepearpitayawatermelon è¾“å…¥é‡å®šå‘ - \\&lt;ã€‚ 1234567891011[root@guotz ~]# echo 'hello, world!' &gt; hello.txt[root@guotz ~]# wall &lt; hello.txt[root@guotz ~]#Broadcast message from root@guotz (Wed Jun 20 19:43:05 2018):hello, world![root@guotz ~]# echo 'I will show you some code.' &gt;&gt; hello.txt[root@guotz ~]# wall &lt; hello.txt[root@guotz ~]#Broadcast message from root@guotz (Wed Jun 20 19:43:55 2018):hello, world!I will show you some code. åˆ«å alias 1234567[root@guotz ~]# alias ll='ls -l'[root@guotz ~]# alias frm='rm -rf'[root@guotz ~]# ll...drwxr-xr-x 2 root root 4096 Jun 20 12:52 abc...[root@guotz ~]# frm abc unalias 123[root@guotz ~]# unalias frm[root@guotz ~]# frm sohu.html-bash: frm: command not found å…¶ä»–ç¨‹åº æ—¶é—´å’Œæ—¥æœŸ - date / calã€‚ 123456789101112131415161718[root@guotz ~]# dateWed Jun 20 12:53:19 CST 2018[root@guotz ~]# cal June 2018Su Mo Tu We Th Fr Sa 1 23 4 5 6 7 8 910 11 12 13 14 15 1617 18 19 20 21 22 2324 25 26 27 28 29 30[root@guotz ~]# cal 5 2017 May 2017Su Mo Tu We Th Fr Sa 1 2 3 4 5 67 8 9 10 11 12 1314 15 16 17 18 19 2021 22 23 24 25 26 2728 29 30 31 å½•åˆ¶æ“ä½œè„šæœ¬ - scriptã€‚ ç»™ç”¨æˆ·å‘é€æ¶ˆæ¯ - mesg / write / wall / mailã€‚ æ–‡ä»¶ç³»ç»Ÿæ–‡ä»¶å’Œè·¯å¾„ å‘½åè§„åˆ™ï¼šæ–‡ä»¶åçš„æœ€å¤§é•¿åº¦ä¸æ–‡ä»¶ç³»ç»Ÿç±»å‹æœ‰å…³ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ–‡ä»¶åä¸åº”è¯¥è¶…è¿‡255ä¸ªå­—ç¬¦ï¼Œè™½ç„¶ç»å¤§å¤šæ•°çš„å­—ç¬¦éƒ½å¯ä»¥ç”¨äºæ–‡ä»¶åï¼Œä½†æ˜¯æœ€å¥½ä½¿ç”¨è‹±æ–‡å¤§å°å†™å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€ç‚¹è¿™æ ·çš„ç¬¦å·ã€‚æ–‡ä»¶åä¸­è™½ç„¶å¯ä»¥ä½¿ç”¨ç©ºæ ¼ï¼Œä½†åº”è¯¥å°½å¯èƒ½é¿å…ä½¿ç”¨ç©ºæ ¼ï¼Œå¦åˆ™åœ¨è¾“å…¥æ–‡ä»¶åæ—¶éœ€è¦ç”¨å°†æ–‡ä»¶åæ”¾åœ¨åŒå¼•å·ä¸­æˆ–è€…é€šè¿‡\\å¯¹ç©ºæ ¼è¿›è¡Œè½¬ä¹‰ã€‚ æ‰©å±•åï¼šåœ¨Linuxç³»ç»Ÿä¸‹æ–‡ä»¶çš„æ‰©å±•åæ˜¯å¯é€‰çš„ï¼Œä½†æ˜¯ä½¿ç”¨æ‰©å±•åæœ‰åŠ©äºå¯¹æ–‡ä»¶å†…å®¹çš„ç†è§£ã€‚æœ‰äº›åº”ç”¨ç¨‹åºè¦é€šè¿‡æ‰©å±•åæ¥è¯†åˆ«æ–‡ä»¶ï¼Œä½†æ˜¯æ›´å¤šçš„åº”ç”¨ç¨‹åºå¹¶ä¸ä¾èµ–æ–‡ä»¶çš„æ‰©å±•åï¼Œå°±åƒfileå‘½ä»¤åœ¨è¯†åˆ«æ–‡ä»¶æ—¶å¹¶ä¸æ˜¯ä¾æ®æ‰©å±•åæ¥åˆ¤å®šæ–‡ä»¶çš„ç±»å‹ã€‚ éšè—æ–‡ä»¶ï¼šä»¥ç‚¹å¼€å¤´çš„æ–‡ä»¶åœ¨Linuxç³»ç»Ÿä¸­æ˜¯éšè—æ–‡ä»¶ï¼ˆä¸å¯è§æ–‡ä»¶ï¼‰ã€‚ ç›®å½•ç»“æ„ /bin - åŸºæœ¬å‘½ä»¤çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ /boot - å¼•å¯¼åŠ è½½ç¨‹åºçš„é™æ€æ–‡ä»¶ã€‚ /dev - è®¾å¤‡æ–‡ä»¶ã€‚ /etc - é…ç½®æ–‡ä»¶ã€‚ /home - æ™®é€šç”¨æˆ·ä¸»ç›®å½•çš„çˆ¶ç›®å½•ã€‚ /lib - å…±äº«åº“æ–‡ä»¶ã€‚ /lib64 - å…±äº«64ä½åº“æ–‡ä»¶ã€‚ /lost+found - å­˜æ”¾æœªé“¾æ¥æ–‡ä»¶ã€‚ /media - è‡ªåŠ¨è¯†åˆ«è®¾å¤‡çš„æŒ‚è½½ç›®å½•ã€‚ /mnt - ä¸´æ—¶æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½ç‚¹ã€‚ /opt - å¯é€‰æ’ä»¶è½¯ä»¶åŒ…å®‰è£…ä½ç½®ã€‚ /proc - å†…æ ¸å’Œè¿›ç¨‹ä¿¡æ¯ã€‚ /root - è¶…çº§ç®¡ç†å‘˜ç”¨æˆ·ä¸»ç›®å½•ã€‚ /run - å­˜æ”¾ç³»ç»Ÿè¿è¡Œæ—¶éœ€è¦çš„ä¸œè¥¿ã€‚ /sbin - è¶…çº§ç”¨æˆ·çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ /sys - è®¾å¤‡çš„ä¼ªæ–‡ä»¶ç³»ç»Ÿã€‚ /tmp - ä¸´æ—¶æ–‡ä»¶å¤¹ã€‚ /usr - ç”¨æˆ·åº”ç”¨ç›®å½•ã€‚ /var - å˜é‡æ•°æ®ç›®å½•ã€‚ è®¿é—®æƒé™ chmod - æ”¹å˜æ–‡ä»¶æ¨¡å¼æ¯”ç‰¹ã€‚ 1234567891011121314[root@guotz ~]# ls -l...-rw-r--r-- 1 root root 211878 Jun 19 16:06 sohu.html...[root@guotz ~]# chmod g+w,o+w sohu.html[root@guotz ~]# ls -l...-rw-rw-rw- 1 root root 211878 Jun 19 16:06 sohu.html...[root@guotz ~]# chmod 644 sohu.html[root@guotz ~]# ls -l...-rw-r--r-- 1 root root 211878 Jun 19 16:06 sohu.html... è¯´æ˜ï¼šé€šè¿‡ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œç”¨chmodæ”¹å˜æ–‡ä»¶æ¨¡å¼æ¯”ç‰¹æœ‰ä¸¤ç§æ–¹å¼ï¼šä¸€ç§æ˜¯å­—ç¬¦è®¾å®šæ³•ï¼Œå¦ä¸€ç§æ˜¯æ•°å­—è®¾å®šæ³•ã€‚é™¤äº†chmodä¹‹å¤–ï¼Œå¯ä»¥é€šè¿‡umaskæ¥è®¾å®šå“ªäº›æƒé™å°†åœ¨æ–°æ–‡ä»¶çš„é»˜è®¤æƒé™ä¸­è¢«åˆ é™¤ã€‚ é•¿æ ¼å¼æŸ¥çœ‹ç›®å½•æˆ–æ–‡ä»¶æ—¶æ˜¾ç¤ºç»“æœåŠå…¶å¯¹åº”æƒé™çš„æ•°å€¼å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚ chown - æ”¹å˜æ–‡ä»¶æ‰€æœ‰è€…ã€‚ 123456789[root@guotz ~]# ls -l...-rw-r--r-- 1 root root 54 Jun 20 10:06 readme.txt...[root@guotz ~]# chown hellokitty readme.txt[root@guotz ~]# ls -l...-rw-r--r-- 1 hellokitty root 54 Jun 20 10:06 readme.txt... ç£ç›˜ç®¡ç† åˆ—å‡ºæ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ä½¿ç”¨çŠ¶å†µ - dfã€‚ 12345678[root@guotz ~]# df -hFilesystem Size Used Avail Use% Mounted on/dev/vda1 40G 5.0G 33G 14% /devtmpfs 486M 0 486M 0% /devtmpfs 497M 0 497M 0% /dev/shmtmpfs 497M 356K 496M 1% /runtmpfs 497M 0 497M 0% /sys/fs/cgrouptmpfs 100M 0 100M 0% /run/user/0 ç£ç›˜åˆ†åŒºè¡¨æ“ä½œ - fdiskã€‚ 12345678910111213[root@guotz ~]# fdisk -lDisk /dev/vda: 42.9 GB, 42949672960 bytes, 83886080 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk label type: dosDisk identifier: 0x000a42f4 Device Boot Start End Blocks Id System/dev/vda1 * 2048 83884031 41940992 83 LinuxDisk /dev/vdb: 21.5 GB, 21474836480 bytes, 41943040 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytes æ ¼å¼åŒ–æ–‡ä»¶ç³»ç»Ÿ - mkfsã€‚ æ–‡ä»¶ç³»ç»Ÿæ£€æŸ¥ - fsckã€‚ æŒ‚è½½/å¸è½½ - mount / umountã€‚ ç¼–è¾‘å™¨ - vim å¯åŠ¨vimã€‚å¯ä»¥é€šè¿‡viæˆ–vimå‘½ä»¤æ¥å¯åŠ¨vimï¼Œå¯åŠ¨æ—¶å¯ä»¥æŒ‡å®šæ–‡ä»¶åæ¥æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šæ–‡ä»¶åï¼Œä¹Ÿå¯ä»¥åœ¨ä¿å­˜çš„æ—¶å€™æŒ‡å®šæ–‡ä»¶åã€‚ 1[root@guotz ~]# vim guess.py å‘½ä»¤æ¨¡å¼ã€ç¼–è¾‘æ¨¡å¼å’Œæœ«è¡Œæ¨¡å¼ï¼šå¯åŠ¨vimè¿›å…¥çš„æ˜¯å‘½ä»¤æ¨¡å¼ï¼ˆä¹Ÿç§°ä¸ºNormalæ¨¡å¼ï¼‰ï¼Œåœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥è‹±æ–‡å­—æ¯iä¼šè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼ˆInsertæ¨¡å¼ï¼‰ï¼Œå±å¹•ä¸‹æ–¹å‡ºç°-- INSERT --æç¤ºï¼›åœ¨ç¼–è¾‘æ¨¡å¼ä¸‹æŒ‰ä¸‹Escä¼šå›åˆ°å‘½ä»¤æ¨¡å¼ï¼Œæ­¤æ—¶å¦‚æœè¾“å…¥è‹±æ–‡:ä¼šè¿›å…¥æœ«è¡Œæ¨¡å¼ï¼Œåœ¨æœ«è¡Œæ¨¡å¼ä¸‹è¾“å…¥q!å¯ä»¥åœ¨ä¸ä¿å­˜å½“å‰å·¥ä½œçš„æƒ…å†µä¸‹å¼ºè¡Œé€€å‡ºvimï¼›åœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥vä¼šè¿›å…¥å¯è§†æ¨¡å¼ï¼ˆVisualæ¨¡å¼ï¼‰ï¼Œå¯ä»¥ç”¨å…‰æ ‡é€‰æ‹©ä¸€ä¸ªåŒºåŸŸå†å®Œæˆå¯¹åº”çš„æ“ä½œã€‚ ä¿å­˜å’Œé€€å‡ºvimï¼šåœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥: è¿›å…¥æœ«è¡Œæ¨¡å¼ï¼Œè¾“å…¥wqå¯ä»¥å®ç°ä¿å­˜é€€å‡ºï¼›å¦‚æœæƒ³æ”¾å¼ƒç¼–è¾‘çš„å†…å®¹è¾“å…¥q!å¼ºè¡Œé€€å‡ºï¼Œè¿™ä¸€ç‚¹åˆšæ‰å·²ç»æåˆ°è¿‡äº†ï¼›åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ä¹Ÿå¯ä»¥ç›´æ¥è¾“å…¥ZZå®ç°ä¿å­˜é€€å‡ºã€‚å¦‚æœåªæƒ³ä¿å­˜æ–‡ä»¶ä¸é€€å‡ºï¼Œé‚£ä¹ˆå¯ä»¥åœ¨æœ«è¡Œæ¨¡å¼ä¸‹è¾“å…¥wï¼›å¯ä»¥åœ¨wåé¢è¾“å…¥ç©ºæ ¼å†æŒ‡å®šè¦ä¿å­˜çš„æ–‡ä»¶åã€‚ å…‰æ ‡æ“ä½œã€‚ åœ¨å‘½ä»¤æ¨¡å¼ä¸‹å¯ä»¥é€šè¿‡hã€jã€kã€læ¥æ§åˆ¶å…‰æ ‡å‘å·¦ã€ä¸‹ã€ä¸Šã€å³çš„æ–¹å‘ç§»åŠ¨ï¼Œå¯ä»¥åœ¨å­—æ¯å‰è¾“å…¥æ•°å­—æ¥è¡¨ç¤ºç§»åŠ¨çš„è·ç¦»ï¼Œä¾‹å¦‚ï¼š10hè¡¨ç¤ºå‘å·¦ç§»åŠ¨10ä¸ªå­—ç¬¦ã€‚ åœ¨å‘½ä»¤æ¨¡å¼ä¸‹å¯ä»¥é€šè¿‡Ctrl+yå’ŒCtrl+eæ¥å®ç°å‘ä¸Šã€å‘ä¸‹æ»šåŠ¨ä¸€è¡Œæ–‡æœ¬çš„æ“ä½œï¼Œå¯ä»¥é€šè¿‡Ctrl+få’ŒCtrl+bæ¥å®ç°å‘å‰å’Œå‘åç¿»é¡µçš„æ“ä½œã€‚ åœ¨å‘½ä»¤æ¨¡å¼ä¸‹å¯ä»¥é€šè¿‡è¾“å…¥è‹±æ–‡å­—æ¯Gå°†å…‰æ ‡ç§»åˆ°æ–‡ä»¶çš„æœ«å°¾ï¼Œå¯ä»¥é€šè¿‡ggå°†å…‰æ ‡ç§»åˆ°æ–‡ä»¶çš„å¼€å§‹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åœ¨Gå‰è¾“å…¥æ•°å­—æ¥å°†å…‰æ ‡ç§»åŠ¨åˆ°æŒ‡å®šçš„è¡Œã€‚ æ–‡æœ¬æ“ä½œã€‚ åˆ é™¤ï¼šåœ¨å‘½ä»¤æ¨¡å¼ä¸‹å¯ä»¥ç”¨ddæ¥åˆ é™¤æ•´è¡Œï¼›å¯ä»¥åœ¨ddå‰åŠ æ•°å­—æ¥æŒ‡å®šåˆ é™¤çš„è¡Œæ•°ï¼›å¯ä»¥ç”¨d$æ¥å®ç°åˆ é™¤ä»å…‰æ ‡å¤„åˆ åˆ°è¡Œå°¾çš„æ“ä½œï¼Œä¹Ÿå¯ä»¥é€šè¿‡d0æ¥å®ç°ä»å…‰æ ‡å¤„åˆ åˆ°è¡Œé¦–çš„æ“ä½œï¼›å¦‚æœæƒ³åˆ é™¤ä¸€ä¸ªå•è¯ï¼Œå¯ä»¥ä½¿ç”¨dwï¼›å¦‚æœè¦åˆ é™¤å…¨æ–‡ï¼Œå¯ä»¥åœ¨è¾“å…¥:%dï¼ˆå…¶ä¸­:ç”¨æ¥ä»å‘½ä»¤æ¨¡å¼è¿›å…¥æœ«è¡Œæ¨¡å¼ï¼‰ã€‚ å¤åˆ¶å’Œç²˜è´´ï¼šåœ¨å‘½ä»¤æ¨¡å¼ä¸‹å¯ä»¥ç”¨yyæ¥å¤åˆ¶æ•´è¡Œï¼›å¯ä»¥åœ¨yyå‰åŠ æ•°å­—æ¥æŒ‡å®šå¤åˆ¶çš„è¡Œæ•°ï¼›å¯ä»¥é€šè¿‡på°†å¤åˆ¶çš„å†…å®¹ç²˜è´´åˆ°å…‰æ ‡æ‰€åœ¨çš„åœ°æ–¹ã€‚ æ’¤é”€å’Œæ¢å¤ï¼šåœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥uå¯ä»¥æ’¤é”€ä¹‹å‰çš„æ“ä½œï¼›é€šè¿‡Ctrl+rå¯ä»¥æ¢å¤è¢«æ’¤é”€çš„æ“ä½œã€‚ å¯¹å†…å®¹è¿›è¡Œæ’åºï¼šåœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥%!sortã€‚ æŸ¥æ‰¾å’Œæ›¿æ¢ã€‚ æŸ¥æ‰¾æ“ä½œéœ€è¦è¾“å…¥/è¿›å…¥æœ«è¡Œæ¨¡å¼å¹¶æä¾›æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…ä¸ä¹‹å¯¹åº”çš„å†…å®¹ï¼Œä¾‹å¦‚ï¼š/doc.*\\.ï¼Œè¾“å…¥næ¥å‘å‰æœç´¢ï¼Œä¹Ÿå¯ä»¥è¾“å…¥Næ¥å‘åæœç´¢ã€‚ æ›¿æ¢æ“ä½œéœ€è¦è¾“å…¥:è¿›å…¥æœ«è¡Œæ¨¡å¼å¹¶æŒ‡å®šæœç´¢çš„èŒƒå›´ã€æ­£åˆ™è¡¨è¾¾å¼ä»¥åŠæ›¿æ¢åçš„å†…å®¹å’ŒåŒ¹é…é€‰é¡¹ï¼Œä¾‹å¦‚ï¼š:1,$s/doc.*/hello/giceï¼Œå…¶ä¸­ï¼š g - globalï¼šå…¨å±€åŒ¹é…ã€‚ i - ignore caseï¼šå¿½ç•¥å¤§å°å†™åŒ¹é…ã€‚ c - confirmï¼šæ›¿æ¢æ—¶éœ€è¦ç¡®è®¤ã€‚ e - errorï¼šå¿½ç•¥é”™è¯¯ã€‚ å‚æ•°è®¾å®šï¼šåœ¨è¾“å…¥:è¿›å…¥æœ«è¡Œæ¨¡å¼åå¯ä»¥å¯¹vimè¿›è¡Œè®¾å®šã€‚ è®¾ç½®Tabé”®çš„ç©ºæ ¼æ•°ï¼šset ts=4 è®¾ç½®æ˜¾ç¤º/ä¸æ˜¾ç¤ºè¡Œå·ï¼šset nu / set nonu è®¾ç½®å¯ç”¨/å…³é—­é«˜äº®è¯­æ³•ï¼šsyntax on / syntax off è®¾ç½®æ˜¾ç¤ºæ ‡å°ºï¼ˆå…‰æ ‡æ‰€åœ¨çš„è¡Œå’Œåˆ—ï¼‰ï¼š set ruler è®¾ç½®å¯ç”¨/å…³é—­æœç´¢ç»“æœé«˜äº®ï¼šset hls / set nohls è¯´æ˜ï¼šå¦‚æœå¸Œæœ›ä¸Šé¢çš„è¿™äº›è®¾å®šåœ¨æ¯æ¬¡å¯åŠ¨vimæ—¶éƒ½èƒ½ç”Ÿæ•ˆï¼Œéœ€è¦å°†è¿™äº›è®¾å®šå†™åˆ°ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„.vimrcæ–‡ä»¶ä¸­ã€‚ é«˜çº§æŠ€å·§ æ¯”è¾ƒå¤šä¸ªæ–‡ä»¶ã€‚ 1[root@guotz ~]# vim -d foo.txt bar.txt æ‰“å¼€å¤šä¸ªæ–‡ä»¶ã€‚ 1[root@guotz ~]# vim foo.txt bar.txt hello.txt å¯åŠ¨vimååªæœ‰ä¸€ä¸ªçª—å£æ˜¾ç¤ºçš„æ˜¯foo.txtï¼Œå¯ä»¥åœ¨æœ«è¡Œæ¨¡å¼ä¸­è¾“å…¥lsæŸ¥çœ‹åˆ°æ‰“å¼€çš„ä¸‰ä¸ªæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åœ¨æœ«è¡Œæ¨¡å¼ä¸­è¾“å…¥b &lt;num&gt;æ¥æ˜¾ç¤ºå¦ä¸€ä¸ªæ–‡ä»¶ï¼Œä¾‹å¦‚å¯ä»¥ç”¨:b 2å°†bar.txtæ˜¾ç¤ºå‡ºæ¥ï¼Œå¯ä»¥ç”¨:b 3å°†hello.txtæ˜¾ç¤ºå‡ºæ¥ã€‚ æ‹†åˆ†å’Œåˆ‡æ¢çª—å£ã€‚ å¯ä»¥åœ¨æœ«è¡Œæ¨¡å¼ä¸­è¾“å…¥spæˆ–vsæ¥å®ç°å¯¹çª—å£çš„æ°´å¹³æˆ–å‚ç›´æ‹†åˆ†ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åŒæ—¶æ‰“å¼€å¤šä¸ªç¼–è¾‘çª—å£ï¼Œé€šè¿‡æŒ‰ä¸¤æ¬¡Ctrl+wå°±å¯ä»¥å®ç°ç¼–è¾‘çª—å£çš„åˆ‡æ¢ï¼Œåœ¨ä¸€ä¸ªçª—å£ä¸­æ‰§è¡Œé€€å‡ºæ“ä½œåªä¼šå…³é—­å¯¹åº”çš„çª—å£ï¼Œå…¶ä»–çš„çª—å£ç»§ç»­ä¿ç•™ã€‚ æ˜ å°„å¿«æ·é”®ï¼šåœ¨vimä¸‹å¯ä»¥å°†ä¸€äº›å¸¸ç”¨æ“ä½œæ˜ å°„ä¸ºå¿«æ·é”®æ¥æå‡å·¥ä½œæ•ˆç‡ã€‚ ä¾‹å­1ï¼šåœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥F4æ‰§è¡Œä»ç¬¬ä¸€è¡Œå¼€å§‹åˆ é™¤10000è¡Œä»£ç çš„æ“ä½œã€‚ :map &lt;F4&gt; gg10000ddã€‚ ä¾‹å­2ï¼šåœ¨ç¼–è¾‘æ¨¡å¼ä¸‹è¾“å…¥__mainç›´æ¥è¡¥å…¨ä¸ºif __name__ == '__main__':ã€‚ :inoremap __main if __name__ == '__main__': è¯´æ˜ï¼šä¸Šé¢ä¾‹å­2çš„inoremapä¸­çš„iè¡¨ç¤ºæ˜ å°„çš„é”®åœ¨ç¼–è¾‘æ¨¡å¼ä½¿ç”¨ï¼Œ noreè¡¨ç¤ºä¸è¦é€’å½’ï¼Œè¿™ä¸€ç‚¹éå¸¸é‡è¦ï¼Œå¦åˆ™å¦‚æœé”®å¯¹åº”çš„å†…å®¹ä¸­åˆå‡ºç°é”®æœ¬èº«ï¼Œå°±ä¼šå¼•å‘é€’å½’ï¼ˆç›¸å½“äºè¿›å…¥äº†æ­»å¾ªç¯ï¼‰ã€‚å¦‚æœå¸Œæœ›æ˜ å°„çš„å¿«æ·é”®æ¯æ¬¡å¯åŠ¨vimæ—¶éƒ½èƒ½ç”Ÿæ•ˆï¼Œéœ€è¦å°†æ˜ å°„å†™åˆ°ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„.vimrcæ–‡ä»¶ä¸­ã€‚ å½•åˆ¶å®ã€‚ åœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥qaå¼€å§‹å½•åˆ¶å®ï¼ˆå…¶ä¸­aæ˜¯å¯„å­˜å™¨çš„åå­—ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–è‹±æ–‡å­—æ¯æˆ–0-9çš„æ•°å­—ï¼‰ã€‚ æ‰§è¡Œä½ çš„æ“ä½œï¼ˆå…‰æ ‡æ“ä½œã€ç¼–è¾‘æ“ä½œç­‰ï¼‰ï¼Œè¿™äº›æ“ä½œéƒ½ä¼šè¢«å½•åˆ¶ä¸‹æ¥ã€‚ å¦‚æœå½•åˆ¶çš„æ“ä½œå·²ç»å®Œæˆäº†ï¼ŒæŒ‰qç»“æŸå½•åˆ¶ã€‚ é€šè¿‡@aï¼ˆaæ˜¯åˆšæ‰ä½¿ç”¨çš„å¯„å­˜å™¨çš„åå­—ï¼‰æ’­æ”¾å®ï¼Œå¦‚æœè¦å¤šæ¬¡æ‰§è¡Œå®å¯ä»¥åœ¨å‰é¢åŠ æ•°å­—ï¼Œä¾‹å¦‚100@aè¡¨ç¤ºå°†å®æ’­æ”¾100æ¬¡ã€‚ å¯ä»¥è¯•ä¸€è¯•ä¸‹é¢çš„ä¾‹å­æ¥ä½“éªŒå½•åˆ¶å®çš„æ“ä½œï¼Œè¯¥ä¾‹å­æ¥æºäºHarttle Landç½‘ç«™ï¼Œè¯¥ç½‘ç«™ä¸Šæä¾›äº†å¾ˆå¤šå…³äºvimçš„ä½¿ç”¨æŠ€å·§ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»äº†è§£ä¸€ä¸‹ã€‚ è½¯ä»¶å®‰è£…å’Œé…ç½®ä½¿ç”¨åŒ…ç®¡ç†å·¥å…· yum - Yellowdog Updater Modifiedã€‚ yum searchï¼šæœç´¢è½¯ä»¶åŒ…ï¼Œä¾‹å¦‚yum search nginxã€‚ yum list installedï¼šåˆ—å‡ºå·²ç»å®‰è£…çš„è½¯ä»¶åŒ…ï¼Œä¾‹å¦‚yum list installed | grep zlibã€‚ yum installï¼šå®‰è£…è½¯ä»¶åŒ…ï¼Œä¾‹å¦‚yum install nginxã€‚ yum removeï¼šåˆ é™¤è½¯ä»¶åŒ…ï¼Œä¾‹å¦‚yum remove nginxã€‚ yum updateï¼šæ›´æ–°è½¯ä»¶åŒ…ï¼Œä¾‹å¦‚yum updateå¯ä»¥æ›´æ–°æ‰€æœ‰è½¯ä»¶åŒ…ï¼Œè€Œyum update taråªä¼šæ›´æ–°tarã€‚ yum check-updateï¼šæ£€æŸ¥æœ‰å“ªäº›å¯ä»¥æ›´æ–°çš„è½¯ä»¶åŒ…ã€‚ yum infoï¼šæ˜¾ç¤ºè½¯ä»¶åŒ…çš„ç›¸å…³ä¿¡æ¯ï¼Œä¾‹å¦‚yum info nginxã€‚ rpm - Redhat Package Managerã€‚ å®‰è£…è½¯ä»¶åŒ…ï¼šrpm -ivh &lt;packagename&gt;.rpmã€‚ ç§»é™¤è½¯ä»¶åŒ…ï¼šrpm -e &lt;packagename&gt;ã€‚ æŸ¥è¯¢è½¯ä»¶åŒ…ï¼šrpm -qaï¼Œä¾‹å¦‚å¯ä»¥ç”¨rpm -qa | grep mysqlæ¥æ£€æŸ¥æ˜¯å¦å®‰è£…äº†MySQLç›¸å…³çš„è½¯ä»¶åŒ…ã€‚ ä¸‹é¢ä»¥Nginxä¸ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨yumå®‰è£…è½¯ä»¶ã€‚ 123456789101112131415161718192021222324252627282930313233[root@guotz ~]# yum -y install nginx...Installed:nginx.x86_64 1:1.12.2-2.el7Dependency Installed:nginx-all-modules.noarch 1:1.12.2-2.el7nginx-mod-http-geoip.x86_64 1:1.12.2-2.el7nginx-mod-http-image-filter.x86_64 1:1.12.2-2.el7nginx-mod-http-perl.x86_64 1:1.12.2-2.el7nginx-mod-http-xslt-filter.x86_64 1:1.12.2-2.el7nginx-mod-mail.x86_64 1:1.12.2-2.el7nginx-mod-stream.x86_64 1:1.12.2-2.el7Complete![root@guotz ~]# yum info nginxLoaded plugins: fastestmirrorLoading mirror speeds from cached hostfileInstalled PackagesName : nginxArch : x86_64Epoch : 1Version : 1.12.2Release : 2.el7Size : 1.5 MRepo : installedFrom repo : epelSummary : A high performance web server and reverse proxy serverURL : http://nginx.org/License : BSDDescription : Nginx is a web server and a reverse proxy server for HTTP, SMTP, POP3 and : IMAP protocols, with a strong focus on high concurrency, performance and low : memory usage.[root@guotz ~]# nginx -vnginx version: nginx/1.12.2 ç§»é™¤Nginxã€‚ 12[root@guotz ~]# nginx -s stop[root@guotz ~]# yum -y remove nginx ä¸‹é¢ä»¥MySQLä¸ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨rpmå®‰è£…è½¯ä»¶ã€‚è¦å®‰è£…MySQLéœ€è¦å…ˆåˆ°MySQLå®˜æ–¹ç½‘ç«™ä¸‹è½½å¯¹åº”çš„RPMæ–‡ä»¶ï¼Œå½“ç„¶è¦é€‰æ‹©å’Œä½ ä½¿ç”¨çš„Linuxç³»ç»Ÿå¯¹åº”çš„ç‰ˆæœ¬ã€‚MySQLç°åœ¨æ˜¯Oracleå…¬å¸æ——ä¸‹çš„äº§å“ï¼Œåœ¨MySQLè¢«æ”¶è´­åï¼ŒMySQLçš„ä½œè€…é‡æ–°åˆ¶ä½œäº†ä¸€ä¸ªMySQLçš„åˆ†æ”¯MariaDBï¼Œå¯ä»¥é€šè¿‡yumè¿›è¡Œå®‰è£…ã€‚å¦‚æœè¦å®‰è£…MySQLéœ€è¦å…ˆé€šè¿‡yumåˆ é™¤mariadb-libsè¿™ä¸ªå¯èƒ½ä¼šè·ŸMySQLåº•å±‚åº“å†²çªçš„åº“ï¼Œç„¶åè¿˜éœ€è¦å®‰è£…ä¸€ä¸ªåä¸ºlibaioçš„ä¾èµ–åº“ã€‚ 1234567891011[root@guotz mysql]# lsmysql-community-client-5.7.22-1.el7.x86_64.rpmmysql-community-common-5.7.22-1.el7.x86_64.rpmmysql-community-libs-5.7.22-1.el7.x86_64.rpmmysql-community-server-5.7.22-1.el7.x86_64.rpm[root@guotz mysql]# yum -y remove mariadb-libs[root@guotz mysql]# yum -y install libaio[root@guotz mysql]# ls | xargs rpm -ivhwarning: mysql-community-client-5.7.22-1.el7.x86_64.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEYPreparing... ################################# [100%]... è¯´æ˜ï¼šç”±äºMySQLå’ŒMariaDBçš„åº•å±‚ä¾èµ–åº“æ˜¯æœ‰å†²çªçš„ï¼Œæ‰€ä»¥ä¸Šé¢æˆ‘ä»¬é¦–å…ˆç”¨yumç§»é™¤äº†åä¸ºmariadb-libsçš„ä¾èµ–åº“å¹¶å®‰è£…äº†åä¸ºlibaioçš„ä¾èµ–åº“ã€‚ç”±äºæˆ‘ä»¬å°†å®‰è£…MySQLæ‰€éœ€çš„rpmæ–‡ä»¶æ”¾åœ¨ä¸€ä¸ªç‹¬ç«‹çš„ç›®å½•ä¸­ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡lså‘½ä»¤æŸ¥çœ‹åˆ°å®‰è£…æ–‡ä»¶å¹¶ç”¨xargså°†lsçš„è¾“å‡ºä½œä¸ºå‚æ•°äº¤ç»™rpm -ivhæ¥è¿›è¡Œå®‰è£…ã€‚å…³äºMySQLå’ŒMariaDBä¹‹é—´çš„å…³ç³»ï¼Œå¯ä»¥é˜…è¯»ç»´åŸºç™¾ç§‘ä¸Šå…³äºMariaDBçš„ä»‹ç»ã€‚ ç§»é™¤å®‰è£…çš„MySQLã€‚ 1[root@guotz ~]# rpm -qa | grep mysql | xargs rpm -e ä¸‹è½½è§£å‹é…ç½®ç¯å¢ƒå˜é‡ä¸‹é¢ä»¥å®‰è£…MongoDBä¸ºä¾‹ï¼Œæ¼”ç¤ºè¿™ç±»è½¯ä»¶åº”è¯¥å¦‚ä½•å®‰è£…ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455[root@guotz ~]# wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-3.6.5.tgz--2018-06-21 18:32:53-- https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-3.6.5.tgzResolving fastdl.mongodb.org (fastdl.mongodb.org)... 52.85.83.16, 52.85.83.228, 52.85.83.186, ...Connecting to fastdl.mongodb.org (fastdl.mongodb.org)|52.85.83.16|:443... connected.HTTP request sent, awaiting response... 200 OKLength: 100564462 (96M) [application/x-gzip]Saving to: â€˜mongodb-linux-x86_64-rhel70-3.6.5.tgzâ€™100%[==================================================&gt;] 100,564,462 630KB/s in 2m 9s2018-06-21 18:35:04 (760 KB/s) - â€˜mongodb-linux-x86_64-rhel70-3.6.5.tgzâ€™ saved [100564462/100564462][root@guotz ~]# gunzip mongodb-linux-x86_64-rhel70-3.6.5.tgz[root@guotz ~]# tar -xvf mongodb-linux-x86_64-rhel70-3.6.5.tarmongodb-linux-x86_64-rhel70-3.6.5/READMEmongodb-linux-x86_64-rhel70-3.6.5/THIRD-PARTY-NOTICESmongodb-linux-x86_64-rhel70-3.6.5/MPL-2mongodb-linux-x86_64-rhel70-3.6.5/GNU-AGPL-3.0mongodb-linux-x86_64-rhel70-3.6.5/bin/mongodumpmongodb-linux-x86_64-rhel70-3.6.5/bin/mongorestoremongodb-linux-x86_64-rhel70-3.6.5/bin/mongoexportmongodb-linux-x86_64-rhel70-3.6.5/bin/mongoimportmongodb-linux-x86_64-rhel70-3.6.5/bin/mongostatmongodb-linux-x86_64-rhel70-3.6.5/bin/mongotopmongodb-linux-x86_64-rhel70-3.6.5/bin/bsondumpmongodb-linux-x86_64-rhel70-3.6.5/bin/mongofilesmongodb-linux-x86_64-rhel70-3.6.5/bin/mongoreplaymongodb-linux-x86_64-rhel70-3.6.5/bin/mongoperfmongodb-linux-x86_64-rhel70-3.6.5/bin/mongodmongodb-linux-x86_64-rhel70-3.6.5/bin/mongosmongodb-linux-x86_64-rhel70-3.6.5/bin/mongomongodb-linux-x86_64-rhel70-3.6.5/bin/install_compass[root@guotz ~]# vim .bash_profile...PATH=$PATH:$HOME/bin:$HOME/mongodb-linux-x86_64-rhel70-3.6.5/binexport PATH...[root@guotz ~]# source .bash_profile[root@guotz ~]# mongod --versiondb version v3.6.5git version: a20ecd3e3a174162052ff99913bc2ca9a839d618OpenSSL version: OpenSSL 1.0.1e-fips 11 Feb 2013allocator: tcmallocmodules: nonebuild environment:distmod: rhel70distarch: x86_64target_arch: x86_64[root@guotz ~]# mongo --versionMongoDB shell version v3.6.5git version: a20ecd3e3a174162052ff99913bc2ca9a839d618OpenSSL version: OpenSSL 1.0.1e-fips 11 Feb 2013allocator: tcmallocmodules: nonebuild environment:distmod: rhel70distarch: x86_64target_arch: x86_64 è¯´æ˜ï¼šå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡yumæ¥å®‰è£…MongoDBï¼Œå…·ä½“å¯ä»¥å‚ç…§å®˜æ–¹ç½‘ç«™ä¸Šç»™å‡ºçš„è¯´æ˜ã€‚ æºä»£ç æ„å»ºå®‰è£… å®‰è£…Python 3.6ã€‚ 1234567891011121314[root@guotz ~]# yum install gcc[root@guotz ~]# wget https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgz[root@guotz ~]# gunzip Python-3.6.5.tgz[root@guotz ~]# tar -xvf Python-3.6.5.tar[root@guotz ~]# cd Python-3.6.5[root@guotz ~]# ./configure --prefix=/usr/local/python36 --enable-optimizations[root@guotz ~]# yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel[root@guotz ~]# make &amp;&amp; make install... é…ç½®ç¯å¢ƒå˜é‡ ...[root@guotz ~]# ln -s /usr/local/python36/bin/python3.6 /usr/bin/python3[root@guotz ~]# python3 --versionPython 3.6.5[root@guotz ~]# python3 -m pip install -U pip[root@guotz ~]# pip3 --version å®‰è£…Redis-3.2.12ã€‚ 123456789[root@guotz ~]# wget http://download.redis.io/releases/redis-3.2.12.tar.gz[root@guotz ~]# gunzip redis-3.2.12.tar.gz[root@guotz ~]# tar -xvf redis-3.2.12.tar[root@guotz ~]# cd redis-3.2.12[root@guotz ~]# make &amp;&amp; make install[root@guotz ~]# redis-server --versionRedis server v=3.2.12 sha=00000000:0 malloc=jemalloc-4.0.3 bits=64 build=5bc5cd3c03d6ceb6[root@guotz ~]# redis-cli --versionredis-cli 3.2.12 é…ç½®æœåŠ¡ å¯åŠ¨æœåŠ¡ã€‚ 1[root@guotz ~]# systemctl start firewalld ç»ˆæ­¢æœåŠ¡ã€‚ 1[root@guotz ~]# systemctl stop firewalld é‡å¯æœåŠ¡ã€‚ 1[root@guotz ~]# systemctl restart firewalld æŸ¥çœ‹æœåŠ¡ã€‚ 1[root@guotz ~]# systemctl status firewalld è®¾ç½®æ˜¯å¦å¼€æœºè‡ªå¯ã€‚ 123456[root@guotz ~]# systemctl enable firewalldCreated symlink from /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service to /usr/lib/systemd/system/firewalld.service.Created symlink from /etc/systemd/system/multi-user.target.wants/firewalld.service to /usr/lib/systemd/system/firewalld.service.[root@guotz ~]# systemctl disable firewalldRemoved symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service. è®¡åˆ’ä»»åŠ¡ crontabå‘½ä»¤ã€‚ 123[root@guotz ~]# crontab -e* * * * * echo \"hello, world!\" &gt;&gt; /root/hello.txt59 23 * * * rm -f /root/*.log è¯´æ˜ï¼šè¾“å…¥crontab -eå‘½ä»¤ä¼šæ‰“å¼€vimæ¥ç¼–è¾‘Cronè¡¨è¾¾å¼å¹¶æŒ‡å®šè§¦å‘çš„ä»»åŠ¡ï¼Œä¸Šé¢æˆ‘ä»¬å®šåˆ¶äº†ä¸¤ä¸ªè®¡åˆ’ä»»åŠ¡ï¼Œä¸€ä¸ªæ˜¯æ¯åˆ†é’Ÿå‘/rootç›®å½•ä¸‹çš„hello.txtä¸­è¿½åŠ è¾“å‡ºhello, world!ï¼›å¦ä¸€ä¸ªæ˜¯æ¯å¤©23æ—¶59åˆ†æ‰§è¡Œåˆ é™¤/rootç›®å½•ä¸‹ä»¥logä¸ºåç¼€åçš„æ–‡ä»¶ã€‚å¦‚æœä¸çŸ¥é“Cronè¡¨è¾¾å¼å¦‚ä½•ä¹¦å†™ï¼Œå¯ä»¥å‚ç…§/etc/crontabæ–‡ä»¶ä¸­çš„æç¤ºï¼ˆä¸‹é¢ä¼šè®²åˆ°ï¼‰æˆ–è€…ç”¨è°·æ­Œæˆ–ç™¾åº¦æœç´¢ä¸€ä¸‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Cronè¡¨è¾¾å¼åœ¨çº¿ç”Ÿæˆå™¨æ¥ç”ŸæˆCronè¡¨è¾¾å¼ã€‚ crontabç›¸å…³æ–‡ä»¶ã€‚ 12345678910111213141516171819202122232425[root@guotz ~]# cd /etc[root@guotz etc]# ls -l | grep cron-rw-------. 1 root root 541 Aug 3 2017 anacrontabdrwxr-xr-x. 2 root root 4096 Mar 27 11:56 cron.ddrwxr-xr-x. 2 root root 4096 Mar 27 11:51 cron.daily-rw-------. 1 root root 0 Aug 3 2017 cron.denydrwxr-xr-x. 2 root root 4096 Mar 27 11:50 cron.hourlydrwxr-xr-x. 2 root root 4096 Jun 10 2014 cron.monthly-rw-r--r-- 1 root root 493 Jun 23 15:09 crontabdrwxr-xr-x. 2 root root 4096 Jun 10 2014 cron.weekly[root@guotz etc]# vim crontab 1 SHELL=/bin/bash 2 PATH=/sbin:/bin:/usr/sbin:/usr/bin 3 MAILTO=root 4 5 # For details see man 4 crontabs 6 7 # Example of job definition: 8 # .---------------- minute (0 - 59) 9 # | .------------- hour (0 - 23)10 # | | .---------- day of month (1 - 31)11 # | | | .------- month (1 - 12) OR jan,feb,mar,apr ...12 # | | | | .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat13 # | | | | |14 # * * * * * user-name command to be executed é€šè¿‡ä¿®æ”¹/etcç›®å½•ä¸‹çš„crontabæ–‡ä»¶ä¹Ÿèƒ½å¤Ÿå®šåˆ¶è®¡åˆ’ä»»åŠ¡ã€‚ ç½‘ç»œè®¿é—®å’Œç®¡ç† å®‰å…¨è¿œç¨‹è¿æ¥ - sshã€‚ é€šè¿‡ç½‘ç»œè·å–èµ„æº - wgetã€‚ -b åå°ä¸‹è½½æ¨¡å¼ -O ä¸‹è½½åˆ°æŒ‡å®šçš„ç›®å½• -r é€’å½’ä¸‹è½½ æ˜¾ç¤º/æ“ä½œç½‘ç»œé…ç½®ï¼ˆæ—§ï¼‰ - ifconfigã€‚ 12345678[root@guotz ~]# ifconfig eth0eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500 inet 172.18.61.250 netmask 255.255.240.0 broadcast 172.18.63.255 ether 00:16:3e:02:b6:46 txqueuelen 1000 (Ethernet) RX packets 1067841 bytes 1296732947 (1.2 GiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 409912 bytes 43569163 (41.5 MiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions æ˜¾ç¤º/æ“ä½œç½‘ç»œé…ç½®ï¼ˆæ–°ï¼‰ - ipã€‚ 123456789[root@guotz ~]# ip address1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 00:16:3e:02:b6:46 brd ff:ff:ff:ff:ff:ff inet 172.18.61.250/20 brd 172.18.63.255 scope global eth0 valid_lft forever preferred_lft forever ç½‘ç»œå¯è¾¾æ€§æ£€æŸ¥ - pingã€‚ 12345678[root@guotz ~]# ping www.baidu.com -c 3PING www.a.shifen.com (220.181.111.188) 56(84) bytes of data.64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=1 ttl=51 time=36.3 ms64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=2 ttl=51 time=36.4 ms64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=3 ttl=51 time=36.4 ms--- www.a.shifen.com ping statistics ---3 packets transmitted, 3 received, 0% packet loss, time 2002msrtt min/avg/max/mdev = 36.392/36.406/36.427/0.156 ms æŸ¥çœ‹ç½‘ç»œæœåŠ¡å’Œç«¯å£ - netstatã€‚ 1[root@guotz ~]# netstat -nap | grep nginx å®‰å…¨æ–‡ä»¶æ‹·è´ - scpã€‚ 1[root@guotz ~]# scp root@1.2.3.4:/root/guido.jpg hellokitty@4.3.2.1:/home/hellokitty/pic.jpg å®‰å…¨æ–‡ä»¶ä¼ è¾“ - sftpã€‚ 1234[root@guotz ~]# sftp root@120.77.222.217root@120.77.222.217's password:Connected to 120.77.222.217.sftp&gt; helpï¼šæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ã€‚ ls/llsï¼šæ˜¾ç¤ºè¿œç«¯/æœ¬åœ°ç›®å½•åˆ—è¡¨ã€‚ cd/lcdï¼šåˆ‡æ¢è¿œç«¯/æœ¬åœ°è·¯å¾„ã€‚ mkdir/lmkdirï¼šåˆ›å»ºè¿œç«¯/æœ¬åœ°ç›®å½•ã€‚ pwd/lpwdï¼šæ˜¾ç¤ºè¿œç«¯/æœ¬åœ°å½“å‰å·¥ä½œç›®å½•ã€‚ getï¼šä¸‹è½½æ–‡ä»¶ã€‚ putï¼šä¸Šä¼ æ–‡ä»¶ã€‚ rmï¼šåˆ é™¤è¿œç«¯æ–‡ä»¶ã€‚ bye/exit/quitï¼šé€€å‡ºsftpã€‚ è¿›ç¨‹ç®¡ç† ps - æŸ¥è¯¢è¿›ç¨‹ã€‚ 12345678[root@guotz ~]# ps -efUID PID PPID C STIME TTY TIME CMDroot 1 0 0 Jun23 ? 00:00:05 /usr/lib/systemd/systemd --switched-root --system --deserialize 21root 2 0 0 Jun23 ? 00:00:00 [kthreadd]...[root@guotz ~]# ps -ef | grep mysqldroot 4943 4581 0 22:45 pts/0 00:00:00 grep --color=auto mysqldmysql 25257 1 0 Jun25 ? 00:00:39 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid kill - ç»ˆæ­¢è¿›ç¨‹ã€‚ 12[root@guotz ~]# kill 1234[root@guotz ~]# kill -9 1234 ä¾‹å­ï¼šç”¨ä¸€æ¡å‘½ä»¤å¼ºåˆ¶ç»ˆæ­¢æ­£åœ¨è¿è¡Œçš„Redisè¿›ç¨‹ã€‚ 1ps -ef | grep redis | grep -v grep | awk '{print $2}' | xargs kill å°†è¿›ç¨‹ç½®äºåå°è¿è¡Œã€‚ Ctrl+Z &amp; 12345[root@guotz ~]# mongod &amp;[root@guotz ~]# redis-server...^Z[4]+ Stopped redis-server jobs - æŸ¥è¯¢åå°è¿›ç¨‹ã€‚ 1234[root@guotz ~]# jobs[2] Running mongod &amp;[3]- Stopped cat[4]+ Stopped redis-server bg - è®©è¿›ç¨‹åœ¨åå°ç»§ç»­è¿è¡Œã€‚ 123456[root@guotz ~]# bg %4[4]+ redis-server &amp;[root@guotz ~]# jobs[2] Running mongod &amp;[3]+ Stopped cat[4]- Running redis-server &amp; fg - å°†åå°è¿›ç¨‹ç½®äºå‰å°ã€‚ 1234567[root@guotz ~]# fg %4redis-server^C5554:signal-handler (1530025281) Received SIGINT scheduling shutdown...5554:M 26 Jun 23:01:21.413 # User requested shutdown...5554:M 26 Jun 23:01:21.413 * Saving the final RDB snapshot before exiting.5554:M 26 Jun 23:01:21.415 * DB saved on disk5554:M 26 Jun 23:01:21.415 # Redis is now ready to exit, bye bye... è¯´æ˜ï¼šç½®äºå‰å°çš„è¿›ç¨‹å¯ä»¥ä½¿ç”¨Ctrl+Cæ¥ç»ˆæ­¢å®ƒã€‚ top - è¿›ç¨‹ç›‘æ§ã€‚ 1234567[root@guotz ~]# toptop - 23:04:23 up 3 days, 14:10, 1 user, load average: 0.00, 0.01, 0.05Tasks: 65 total, 1 running, 64 sleeping, 0 stopped, 0 zombie%Cpu(s): 0.3 us, 0.3 sy, 0.0 ni, 99.3 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 stKiB Mem : 1016168 total, 191060 free, 324700 used, 500408 buff/cacheKiB Swap: 0 total, 0 free, 0 used. 530944 avail Mem... ç³»ç»Ÿæ€§èƒ½ æŸ¥çœ‹ç³»ç»Ÿæ´»åŠ¨ä¿¡æ¯ - sarã€‚ æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ - freeã€‚ 1234[root@guotz ~]# free total used free shared buff/cache availableMem: 1016168 323924 190452 356 501792 531800Swap: 0 0 0 æŸ¥çœ‹è¿›ç¨‹ä½¿ç”¨å†…å­˜çŠ¶å†µ - pmapã€‚ 1234567891011121314[root@guotz ~]# ps PID TTY TIME CMD4581 pts/0 00:00:00 bash5664 pts/0 00:00:00 ps[root@guotz ~]# pmap 45814581: -bash0000000000400000 884K r-x-- bash00000000006dc000 4K r---- bash00000000006dd000 36K rw--- bash00000000006e6000 24K rw--- [ anon ]0000000001de0000 400K rw--- [ anon ]00007f82fe805000 48K r-x-- libnss_files-2.17.so00007f82fe811000 2044K ----- libnss_files-2.17.so... æŠ¥å‘Šè®¾å¤‡CPUå’ŒI/Oç»Ÿè®¡ä¿¡æ¯ - iostatã€‚ 1234567[root@guotz ~]# iostatLinux 3.10.0-693.11.1.el7.x86_64 (guotz) 06/26/2018 _x86_64_ (1 CPU)avg-cpu: %user %nice %system %iowait %steal %idle 0.79 0.00 0.20 0.04 0.00 98.97Device: tps kB_read/s kB_wrtn/s kB_read kB_wrtnvda 0.85 6.78 21.32 2106565 6623024vdb 0.00 0.01 0.00 2088 0","link":"/2018/02/09/ç©è½¬Linux/"}],"tags":[{"name":"Apache","slug":"Apache","link":"/tags/Apache/"},{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","link":"/tags/æœåŠ¡å™¨/"},{"name":"MD5åŠ å¯†","slug":"MD5åŠ å¯†","link":"/tags/MD5åŠ å¯†/"},{"name":"RSAåŠ å¯†","slug":"RSAåŠ å¯†","link":"/tags/RSAåŠ å¯†/"},{"name":"Python","slug":"Python","link":"/tags/Python/"},{"name":"Django","slug":"Django","link":"/tags/Django/"},{"name":"ftp","slug":"ftp","link":"/tags/ftp/"},{"name":"git","slug":"git","link":"/tags/git/"},{"name":"ç‰ˆæœ¬æ§åˆ¶","slug":"ç‰ˆæœ¬æ§åˆ¶","link":"/tags/ç‰ˆæœ¬æ§åˆ¶/"},{"name":"vim","slug":"vim","link":"/tags/vim/"},{"name":"zsh","slug":"zsh","link":"/tags/zsh/"},{"name":"Nginx","slug":"Nginx","link":"/tags/Nginx/"},{"name":"Redis","slug":"Redis","link":"/tags/Redis/"},{"name":"iOS","slug":"iOS","link":"/tags/iOS/"},{"name":"Swift","slug":"Swift","link":"/tags/Swift/"},{"name":"VSCode","slug":"VSCode","link":"/tags/VSCode/"},{"name":"svn","slug":"svn","link":"/tags/svn/"},{"name":"ç¬¬ä¸‰æ–¹åº“","slug":"ç¬¬ä¸‰æ–¹åº“","link":"/tags/ç¬¬ä¸‰æ–¹åº“/"},{"name":"Shell","slug":"Shell","link":"/tags/Shell/"},{"name":"Mysql","slug":"Mysql","link":"/tags/Mysql/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","link":"/tags/æ•°æ®ç»“æ„/"},{"name":"äºŒåˆ†æœç´¢æ ‘","slug":"äºŒåˆ†æœç´¢æ ‘","link":"/tags/äºŒåˆ†æœç´¢æ ‘/"},{"name":"æ ˆ","slug":"æ ˆ","link":"/tags/æ ˆ/"},{"name":"æ•°ç»„","slug":"æ•°ç»„","link":"/tags/æ•°ç»„/"},{"name":"é“¾è¡¨","slug":"é“¾è¡¨","link":"/tags/é“¾è¡¨/"},{"name":"é˜Ÿåˆ—","slug":"é˜Ÿåˆ—","link":"/tags/é˜Ÿåˆ—/"},{"name":"é›†åˆ","slug":"é›†åˆ","link":"/tags/é›†åˆ/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","link":"/tags/ç®—æ³•/"},{"name":"æ’åº","slug":"æ’åº","link":"/tags/æ’åº/"},{"name":"å­—å…¸","slug":"å­—å…¸","link":"/tags/å­—å…¸/"},{"name":"dict","slug":"dict","link":"/tags/dict/"},{"name":"æ˜ å°„","slug":"æ˜ å°„","link":"/tags/æ˜ å°„/"},{"name":"LinkedMap","slug":"LinkedMap","link":"/tags/LinkedMap/"},{"name":"TreeMap","slug":"TreeMap","link":"/tags/TreeMap/"},{"name":"shell","slug":"shell","link":"/tags/shell/"}],"categories":[{"name":"åç«¯","slug":"åç«¯","link":"/categories/åç«¯/"},{"name":"Django","slug":"åç«¯/Django","link":"/categories/åç«¯/Django/"},{"name":"ApacheæœåŠ¡å™¨","slug":"åç«¯/ApacheæœåŠ¡å™¨","link":"/categories/åç«¯/ApacheæœåŠ¡å™¨/"},{"name":"ç³»ç»Ÿ","slug":"ç³»ç»Ÿ","link":"/categories/ç³»ç»Ÿ/"},{"name":"NginxæœåŠ¡å™¨","slug":"åç«¯/NginxæœåŠ¡å™¨","link":"/categories/åç«¯/NginxæœåŠ¡å™¨/"},{"name":"DataBase","slug":"DataBase","link":"/categories/DataBase/"},{"name":"Mac","slug":"ç³»ç»Ÿ/Mac","link":"/categories/ç³»ç»Ÿ/Mac/"},{"name":"iOS","slug":"iOS","link":"/categories/iOS/"},{"name":"æ’ä»¶","slug":"æ’ä»¶","link":"/categories/æ’ä»¶/"},{"name":"Linux","slug":"ç³»ç»Ÿ/Linux","link":"/categories/ç³»ç»Ÿ/Linux/"},{"name":"NoSQL","slug":"DataBase/NoSQL","link":"/categories/DataBase/NoSQL/"},{"name":"Mysql","slug":"DataBase/Mysql","link":"/categories/DataBase/Mysql/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","link":"/categories/æ•°æ®ç»“æ„/"},{"name":"Swift","slug":"iOS/Swift","link":"/categories/iOS/Swift/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","link":"/categories/ç®—æ³•/"},{"name":"Objective-C","slug":"iOS/Objective-C","link":"/categories/iOS/Objective-C/"},{"name":"ç¼–è¯‘","slug":"iOS/ç¼–è¯‘","link":"/categories/iOS/ç¼–è¯‘/"},{"name":"äºŒå‰æ ‘","slug":"æ•°æ®ç»“æ„/äºŒå‰æ ‘","link":"/categories/æ•°æ®ç»“æ„/äºŒå‰æ ‘/"},{"name":"æ ˆ","slug":"æ•°æ®ç»“æ„/æ ˆ","link":"/categories/æ•°æ®ç»“æ„/æ ˆ/"},{"name":"æ•°ç»„","slug":"æ•°æ®ç»“æ„/æ•°ç»„","link":"/categories/æ•°æ®ç»“æ„/æ•°ç»„/"},{"name":"é“¾è¡¨","slug":"æ•°æ®ç»“æ„/é“¾è¡¨","link":"/categories/æ•°æ®ç»“æ„/é“¾è¡¨/"},{"name":"é˜Ÿåˆ—","slug":"æ•°æ®ç»“æ„/é˜Ÿåˆ—","link":"/categories/æ•°æ®ç»“æ„/é˜Ÿåˆ—/"},{"name":"é›†åˆ","slug":"æ•°æ®ç»“æ„/é›†åˆ","link":"/categories/æ•°æ®ç»“æ„/é›†åˆ/"},{"name":"æ’åºç®—æ³•","slug":"ç®—æ³•/æ’åºç®—æ³•","link":"/categories/ç®—æ³•/æ’åºç®—æ³•/"},{"name":"å­—å…¸Map","slug":"æ•°æ®ç»“æ„/å­—å…¸Map","link":"/categories/æ•°æ®ç»“æ„/å­—å…¸Map/"}]}